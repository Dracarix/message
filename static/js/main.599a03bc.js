/*! For license information please see main.599a03bc.js.LICENSE.txt */
(()=>{var e={8177:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=s,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],o=[],a=[],l=[],c=[],u=[],h=[],d=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,s=0;for(t=0;t<256;t++){var p=s^s<<1^s<<2^s<<3^s<<4;p=p>>>8^255&p^99,r[n]=p,i[p]=n;var m=e[n],g=e[m],v=e[g],y=257*e[p]^16843008*p;o[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,l[n]=y<<8|y>>>24,c[n]=y,y=16843009*v^65537*g^257*m^16843008*n,u[p]=y<<24|y>>>8,h[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,f[p]=y,n?(n=m^e[e[e[v^m]]],s^=e[e[s]]):n=s=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),s=this._keySchedule=[],o=0;o<i;o++)o<n?s[o]=t[o]:(c=s[o-1],o%n?n>6&&o%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=p[o/n|0]<<24),s[o]=s[o-n]^c);for(var a=this._invKeySchedule=[],l=0;l<i;l++){if(o=i-l,l%4)var c=s[o];else c=s[o-4];a[l]=l<4||o<=4?c:u[r[c>>>24]]^h[r[c>>>16&255]]^d[r[c>>>8&255]]^f[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,a,l,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,h,d,f,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,s,o,a){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],f=4,p=1;p<l;p++){var m=r[c>>>24]^i[u>>>16&255]^s[h>>>8&255]^o[255&d]^n[f++],g=r[u>>>24]^i[h>>>16&255]^s[d>>>8&255]^o[255&c]^n[f++],v=r[h>>>24]^i[d>>>16&255]^s[c>>>8&255]^o[255&u]^n[f++],y=r[d>>>24]^i[c>>>16&255]^s[u>>>8&255]^o[255&h]^n[f++];c=m,u=g,h=v,d=y}m=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^n[f++],g=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&c])^n[f++],v=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[f++],y=(a[d>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^n[f++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=y},keySize:8});e.AES=t._createHelper(m)}(),s.AES)}()},3068:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=s,t=e.lib.BlockCipher,n=e.algo;const r=16,i=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],o=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var a={pbox:[],sbox:[]};function l(e,t){let n=t>>24&255,r=t>>16&255,i=t>>8&255,s=255&t,o=e.sbox[0][n]+e.sbox[1][r];return o^=e.sbox[2][i],o+=e.sbox[3][s],o}function c(e,t,n){let i,s=t,o=n;for(let a=0;a<r;++a)s^=e.pbox[a],o=l(e,s)^o,i=s,s=o,o=i;return i=s,s=o,o=i,o^=e.pbox[r],s^=e.pbox[r+1],{left:s,right:o}}function u(e,t,n){let i,s=t,o=n;for(let a=r+1;a>1;--a)s^=e.pbox[a],o=l(e,s)^o,i=s,s=o,o=i;return i=s,s=o,o=i,o^=e.pbox[1],s^=e.pbox[0],{left:s,right:o}}function h(e,t,n){for(let r=0;r<4;r++){e.sbox[r]=[];for(let t=0;t<256;t++)e.sbox[r][t]=o[r][t]}let s=0;for(let o=0;o<r+2;o++)e.pbox[o]=i[o]^t[s],s++,s>=n&&(s=0);let a=0,l=0,u=0;for(let i=0;i<r+2;i+=2)u=c(e,a,l),a=u.left,l=u.right,e.pbox[i]=a,e.pbox[i+1]=l;for(let r=0;r<4;r++)for(let t=0;t<256;t+=2)u=c(e,a,l),a=u.left,l=u.right,e.sbox[r][t]=a,e.sbox[r][t+1]=l;return!0}var d=n.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;h(a,t,n)}},encryptBlock:function(e,t){var n=c(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=u(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(d)}(),s.Blowfish)}()},3650:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(8228),void(s.lib.Cipher||function(e){var t=s,n=t.lib,r=n.Base,i=n.WordArray,o=n.BufferedBlockAlgorithm,a=t.enc,l=(a.Utf8,a.Base64),c=t.algo.EvpKDF,u=n.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:v}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),h=(n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),d=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=h.CBC=function(){var t=d.extend();function n(t,n,r){var i,s=this._iv;s?(i=s,this._iv=e):i=this._prevBlock;for(var o=0;o<r;o++)t[n+o]^=i[o]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,s=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=s}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,s=r<<24|r<<16|r<<8|r,o=[],a=0;a<r;a+=4)o.push(s);var l=i.create(o,r);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:f,padding:p}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},v=n.SerializableCipher=r.extend({cfg:r.extend({format:g}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),s=i.finalize(t),o=i.cfg;return m.create({ciphertext:s,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,n,r,s){if(r||(r=i.random(8)),s)o=c.create({keySize:t+n,hasher:s}).compute(e,r);else var o=c.create({keySize:t+n}).compute(e,r);var a=i.create(o.words.slice(t),4*n);return o.sigBytes=4*t,m.create({key:o,iv:a,salt:r})}},w=n.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=i.iv;var s=v.encrypt.call(this,e,t,i.key,r);return s.mixIn(i),s},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=i.iv,v.decrypt.call(this,e,t,i.key,r)}})}()))}()},8926:function(e,t,n){e.exports=function(){var e=e||function(e,t){var r;if("undefined"!==typeof window&&window.crypto&&(r=window.crypto),"undefined"!==typeof self&&self.crypto&&(r=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!==typeof n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(2480)}catch(g){}var i=function(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},a=o.lib={},l=a.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=l.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var s=0;s<i;s++){var o=n[s>>>2]>>>24-s%4*8&255;t[r+s>>>2]|=o<<24-(r+s)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),u=o.enc={},h=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},f=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,s=r.sigBytes,o=this.blockSize,a=s/(4*o),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,u=e.min(4*l,s);if(l){for(var h=0;h<l;h+=o)this._doProcessBlock(i,h);n=i.splice(0,l),r.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(a.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math);return e}()},3713:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],s=0,o=0;o<n;o++)if(o%4){var a=r[e.charCodeAt(o-1)]<<o%4*2|r[e.charCodeAt(o)]>>>6-o%4*2;i[s>>>2]|=a<<24-s%4*8,s++}return t.create(i,s)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],s=0;s<n;s+=3)for(var o=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<n;a++)i.push(r.charAt(o>>>6*(3-a)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<r.length;s++)i[r.charCodeAt(s)]=s}var o=r.charAt(64);if(o){var a=e.indexOf(o);-1!==a&&(t=a)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},4728:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],s=0,o=0;o<n;o++)if(o%4){var a=r[e.charCodeAt(o-1)]<<o%4*2|r[e.charCodeAt(o)]>>>6-o%4*2;i[s>>>2]|=a<<24-s%4*8,s++}return t.create(i,s)}e.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var s=[],o=0;o<r;o+=3)for(var a=(n[o>>>2]>>>24-o%4*8&255)<<16|(n[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|n[o+2>>>2]>>>24-(o+2)%4*8&255,l=0;l<4&&o+.75*l<r;l++)s.push(i.charAt(a>>>6*(3-l)&63));var c=i.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join("")},parse:function(e,t){void 0===t&&(t=!0);var r=e.length,i=t?this._safe_map:this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var o=0;o<i.length;o++)s[i.charCodeAt(o)]=o}var a=i.charAt(64);if(a){var l=e.indexOf(a);-1!==l&&(r=l)}return n(e,r,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),i.enc.Base64url)}()},1551:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib.WordArray,n=e.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var s=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s+=2){var o=r(t[s>>>2]>>>16-s%4*8&65535);i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var n=e.length,i=[],s=0;s<n;s++)i[s>>>1]|=r(e.charCodeAt(s)<<16-s%2*16);return t.create(i,2*n)}}}(),i.enc.Utf16)}()},8228:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(5590),n(5086),function(){var e=s,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,o=i.MD5,a=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,s=i.hasher.create(),o=r.create(),a=o.words,l=i.keySize,c=i.iterations;a.length<l;){n&&s.update(n),n=s.update(e).finalize(t),s.reset();for(var u=1;u<c;u++)n=s.finalize(n),s.reset();o.concat(n)}return o.sigBytes=4*l,o}});e.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)}}(),s.EvpKDF)}()},1863:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),function(e){var t=s,n=t.lib.CipherParams,r=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return n.create({ciphertext:t})}}}(),s.format.Hex)}()},5086:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),void function(){var e=i,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var s=this._oKey=t.clone(),o=this._iKey=t.clone(),a=s.words,l=o.words,c=0;c<r;c++)a[c]^=1549556828,l[c]^=909522486;s.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},9704:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3646),n(5533),n(1551),n(3713),n(4728),n(3074),n(5590),n(9517),n(3183),n(4345),n(6319),n(6853),n(77),n(5086),n(3822),n(8228),n(3650),n(5152),n(2992),n(7223),n(5858),n(130),n(2409),n(4823),n(6644),n(1181),n(8413),n(1863),n(8177),n(2550),n(1325),n(2639),n(2130),n(3068),s)}()},5533:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){if("function"==typeof ArrayBuffer){var e=i.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),i.lib.WordArray)}()},3074:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.WordArray,s=n.Hasher,o=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=s.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s=this._hash.words,o=e[t+0],l=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],y=e[t+7],w=e[t+8],b=e[t+9],_=e[t+10],E=e[t+11],A=e[t+12],S=e[t+13],k=e[t+14],x=e[t+15],C=s[0],T=s[1],I=s[2],N=s[3];C=c(C,T,I,N,o,7,a[0]),N=c(N,C,T,I,l,12,a[1]),I=c(I,N,C,T,f,17,a[2]),T=c(T,I,N,C,p,22,a[3]),C=c(C,T,I,N,m,7,a[4]),N=c(N,C,T,I,g,12,a[5]),I=c(I,N,C,T,v,17,a[6]),T=c(T,I,N,C,y,22,a[7]),C=c(C,T,I,N,w,7,a[8]),N=c(N,C,T,I,b,12,a[9]),I=c(I,N,C,T,_,17,a[10]),T=c(T,I,N,C,E,22,a[11]),C=c(C,T,I,N,A,7,a[12]),N=c(N,C,T,I,S,12,a[13]),I=c(I,N,C,T,k,17,a[14]),C=u(C,T=c(T,I,N,C,x,22,a[15]),I,N,l,5,a[16]),N=u(N,C,T,I,v,9,a[17]),I=u(I,N,C,T,E,14,a[18]),T=u(T,I,N,C,o,20,a[19]),C=u(C,T,I,N,g,5,a[20]),N=u(N,C,T,I,_,9,a[21]),I=u(I,N,C,T,x,14,a[22]),T=u(T,I,N,C,m,20,a[23]),C=u(C,T,I,N,b,5,a[24]),N=u(N,C,T,I,k,9,a[25]),I=u(I,N,C,T,p,14,a[26]),T=u(T,I,N,C,w,20,a[27]),C=u(C,T,I,N,S,5,a[28]),N=u(N,C,T,I,f,9,a[29]),I=u(I,N,C,T,y,14,a[30]),C=h(C,T=u(T,I,N,C,A,20,a[31]),I,N,g,4,a[32]),N=h(N,C,T,I,w,11,a[33]),I=h(I,N,C,T,E,16,a[34]),T=h(T,I,N,C,k,23,a[35]),C=h(C,T,I,N,l,4,a[36]),N=h(N,C,T,I,m,11,a[37]),I=h(I,N,C,T,y,16,a[38]),T=h(T,I,N,C,_,23,a[39]),C=h(C,T,I,N,S,4,a[40]),N=h(N,C,T,I,o,11,a[41]),I=h(I,N,C,T,p,16,a[42]),T=h(T,I,N,C,v,23,a[43]),C=h(C,T,I,N,b,4,a[44]),N=h(N,C,T,I,A,11,a[45]),I=h(I,N,C,T,x,16,a[46]),C=d(C,T=h(T,I,N,C,f,23,a[47]),I,N,o,6,a[48]),N=d(N,C,T,I,y,10,a[49]),I=d(I,N,C,T,k,15,a[50]),T=d(T,I,N,C,g,21,a[51]),C=d(C,T,I,N,A,6,a[52]),N=d(N,C,T,I,p,10,a[53]),I=d(I,N,C,T,_,15,a[54]),T=d(T,I,N,C,l,21,a[55]),C=d(C,T,I,N,w,6,a[56]),N=d(N,C,T,I,x,10,a[57]),I=d(I,N,C,T,v,15,a[58]),T=d(T,I,N,C,S,21,a[59]),C=d(C,T,I,N,m,6,a[60]),N=d(N,C,T,I,E,10,a[61]),I=d(I,N,C,T,f,15,a[62]),T=d(T,I,N,C,b,21,a[63]),s[0]=s[0]+C|0,s[1]=s[1]+T|0,s[2]=s[2]+I|0,s[3]=s[3]+N|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var s=e.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,s,o){var a=e+(t&n|~t&r)+i+o;return(a<<s|a>>>32-s)+t}function u(e,t,n,r,i,s,o){var a=e+(t&r|n&~r)+i+o;return(a<<s|a>>>32-s)+t}function h(e,t,n,r,i,s,o){var a=e+(t^n^r)+i+o;return(a<<s|a>>>32-s)+t}function d(e,t,n,r,i,s,o){var a=e+(n^(t|~r))+i+o;return(a<<s|a>>>32-s)+t}t.MD5=s._createHelper(l),t.HmacMD5=s._createHmacHelper(l)}(Math),i.MD5)}()},5152:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),s.mode.CFB=function(){var e=s.lib.BlockCipherMode.extend();function t(e,t,n,r){var i,s=this._iv;s?(i=s.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var o=0;o<n;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,s=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=s}}),e}(),s.mode.CFB)}()},7223:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),s.mode.CTRGladman=function(){var e=s.lib.BlockCipherMode.extend();function t(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var r=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,s=this._iv,o=this._counter;s&&(o=this._counter=s.slice(0),this._iv=void 0),n(o);var a=o.slice(0);r.encryptBlock(a,0);for(var l=0;l<i;l++)e[t+l]^=a[l]}});return e.Decryptor=r,e}(),s.mode.CTRGladman)}()},2992:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),s.mode.CTR=function(){var e=s.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0);var o=s.slice(0);n.encryptBlock(o,0),s[r-1]=s[r-1]+1|0;for(var a=0;a<r;a++)e[t+a]^=o[a]}});return e.Decryptor=t,e}(),s.mode.CTR)}()},130:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),s.mode.ECB=function(){var e=s.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),s.mode.ECB)}()},5858:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),s.mode.OFB=function(){var e=s.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,s=this._keystream;i&&(s=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(s,0);for(var o=0;o<r;o++)e[t+o]^=s[o]}});return e.Decryptor=t,e}(),s.mode.OFB)}()},2409:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),s.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,s=n+i-1;e.clamp(),e.words[s>>>2]|=i<<24-s%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},s.pad.Ansix923)}()},4823:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),s.pad.Iso10126={pad:function(e,t){var n=4*t,r=n-e.sigBytes%n;e.concat(s.lib.WordArray.random(r-1)).concat(s.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},s.pad.Iso10126)}()},6644:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),s.pad.Iso97971={pad:function(e,t){e.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(e,t)},unpad:function(e){s.pad.ZeroPadding.unpad(e),e.sigBytes--}},s.pad.Iso97971)}()},8413:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding)}()},1181:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3650),s.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},s.pad.ZeroPadding)}()},3822:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(9517),n(5086),function(){var e=s,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,o=i.SHA256,a=i.HMAC,l=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=a.create(n.hasher,e),s=r.create(),o=r.create([1]),l=s.words,c=o.words,u=n.keySize,h=n.iterations;l.length<u;){var d=i.update(t).finalize(o);i.reset();for(var f=d.words,p=f.length,m=d,g=1;g<h;g++){m=i.finalize(m),i.reset();for(var v=m.words,y=0;y<p;y++)f[y]^=v[y]}s.concat(d),c[0]++}return s.sigBytes=4*u,s}});e.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)}}(),s.PBKDF2)}()},2130:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=s,t=e.lib.StreamCipher,n=e.algo,r=[],i=[],o=[],a=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var s=t.words,o=s[0],a=s[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(r[0]^=c,r[1]^=h,r[2]^=u,r[3]^=d,r[4]^=c,r[5]^=h,r[6]^=u,r[7]^=d,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],s=65535&r,a=r>>>16,l=((s*s>>>17)+s*a>>>15)+a*a,c=((4294901760&r)*r|0)+((65535&r)*r|0);o[n]=l^c}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.RabbitLegacy=t._createHelper(a)}(),s.RabbitLegacy)}()},2639:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=s,t=e.lib.StreamCipher,n=e.algo,r=[],i=[],o=[],a=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var s=t.words,o=s[0],a=s[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(i[0]^=c,i[1]^=h,i[2]^=u,i[3]^=d,i[4]^=c,i[5]^=h,i[6]^=u,i[7]^=d,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],s=65535&r,a=r>>>16,l=((s*s>>>17)+s*a>>>15)+a*a,c=((4294901760&r)*r|0)+((65535&r)*r|0);o[n]=l^c}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.Rabbit=t._createHelper(a)}(),s.Rabbit)}()},1325:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=s,t=e.lib.StreamCipher,n=e.algo,r=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var s=0;i<256;i++){var o=i%n,a=t[o>>>2]>>>24-o%4*8&255;s=(s+r[i]+a)%256;var l=r[i];r[i]=r[s],r[s]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var s=e[t];e[t]=e[n],e[n]=s,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(r);var o=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(o)}(),s.RC4)}()},77:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.WordArray,s=n.Hasher,o=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=r.create([0,1518500249,1859775393,2400959708,2840853838]),d=r.create([1352829926,1548603684,1836072691,2053994217,0]),f=o.RIPEMD160=s.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s,o,f,b,_,E,A,S,k,x,C,T=this._hash.words,I=h.words,N=d.words,R=a.words,O=l.words,D=c.words,P=u.words;for(E=s=T[0],A=o=T[1],S=f=T[2],k=b=T[3],x=_=T[4],n=0;n<80;n+=1)C=s+e[t+R[n]]|0,C+=n<16?p(o,f,b)+I[0]:n<32?m(o,f,b)+I[1]:n<48?g(o,f,b)+I[2]:n<64?v(o,f,b)+I[3]:y(o,f,b)+I[4],C=(C=w(C|=0,D[n]))+_|0,s=_,_=b,b=w(f,10),f=o,o=C,C=E+e[t+O[n]]|0,C+=n<16?y(A,S,k)+N[0]:n<32?v(A,S,k)+N[1]:n<48?g(A,S,k)+N[2]:n<64?m(A,S,k)+N[3]:p(A,S,k)+N[4],C=(C=w(C|=0,P[n]))+x|0,E=x,x=k,k=w(S,10),S=A,A=C;C=T[1]+f+k|0,T[1]=T[2]+b+x|0,T[2]=T[3]+_+E|0,T[3]=T[4]+s+A|0,T[4]=T[0]+o+S|0,T[0]=C},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,s=i.words,o=0;o<5;o++){var a=s[o];s[o]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function v(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function w(e,t){return e<<t|e>>>32-t}t.RIPEMD160=s._createHelper(f),t.HmacRIPEMD160=s._createHmacHelper(f)}(Math),i.RIPEMD160)}()},5590:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib,n=t.WordArray,r=t.Hasher,s=e.algo,o=[],a=s.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],l=n[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var u=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=u<<1|u>>>31}var h=(r<<5|r>>>27)+l+o[c];h+=c<20?1518500249+(i&s|~i&a):c<40?1859775393+(i^s^a):c<60?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,l=a,a=s,s=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(a),e.HmacSHA1=r._createHmacHelper(a)}(),i.SHA1)}()},3183:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(9517),function(){var e=s,t=e.lib.WordArray,n=e.algo,r=n.SHA256,i=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=r._createHelper(i),e.HmacSHA224=r._createHmacHelper(i)}(),s.SHA224)}()},9517:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.WordArray,s=n.Hasher,o=t.algo,a=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),l[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],u=o.SHA256=s.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],u=n[5],h=n[6],d=n[7],f=0;f<64;f++){if(f<16)c[f]=0|e[t+f];else{var p=c[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=c[f-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[f]=m+c[f-7]+v+c[f-16]}var y=r&i^r&s^i&s,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&h)+l[f]+c[f];d=h,h=u,u=a,a=o+b|0,o=s,s=i,i=r,r=b+(w+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=s._createHelper(u),t.HmacSHA256=s._createHmacHelper(u)}(Math),i.SHA256)}()},6853:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3646),function(e){var t=s,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.x64.Word,a=t.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,s=0;s<24;s++){for(var a=0,h=0,d=0;d<7;d++){if(1&i){var f=(1<<d)-1;f<32?h^=1<<f:a^=1<<f-32}128&i?i=i<<1^113:i<<=1}u[s]=o.create(a,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=o.create()}();var d=a.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var s=e[t+2*i],o=e[t+2*i+1];s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(T=n[i]).high^=o,T.low^=s}for(var a=0;a<24;a++){for(var d=0;d<5;d++){for(var f=0,p=0,m=0;m<5;m++)f^=(T=n[d+5*m]).high,p^=T.low;var g=h[d];g.high=f,g.low=p}for(d=0;d<5;d++){var v=h[(d+4)%5],y=h[(d+1)%5],w=y.high,b=y.low;for(f=v.high^(w<<1|b>>>31),p=v.low^(b<<1|w>>>31),m=0;m<5;m++)(T=n[d+5*m]).high^=f,T.low^=p}for(var _=1;_<25;_++){var E=(T=n[_]).high,A=T.low,S=l[_];S<32?(f=E<<S|A>>>32-S,p=A<<S|E>>>32-S):(f=A<<S-32|E>>>64-S,p=E<<S-32|A>>>64-S);var k=h[c[_]];k.high=f,k.low=p}var x=h[0],C=n[0];for(x.high=C.high,x.low=C.low,d=0;d<5;d++)for(m=0;m<5;m++){var T=n[_=d+5*m],I=h[_],N=h[(d+1)%5+5*m],R=h[(d+2)%5+5*m];T.high=I.high^~N.high&R.high,T.low=I.low^~N.low&R.low}T=n[0];var O=u[a];T.high^=O.high,T.low^=O.low}},_doFinalize:function(){var t=this._data,n=t.words,i=(this._nDataBytes,8*t.sigBytes),s=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(e.ceil((i+1)/s)*s>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var o=this._state,a=this.cfg.outputLength/8,l=a/8,c=[],u=0;u<l;u++){var h=o[u],d=h.high,f=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c.push(f),c.push(d)}return new r.init(c,a)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=i._createHelper(d),t.HmacSHA3=i._createHmacHelper(d)}(Math),s.SHA3)}()},6319:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3646),n(4345),function(){var e=s,t=e.x64,n=t.Word,r=t.WordArray,i=e.algo,o=i.SHA512,a=i.SHA384=o.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=o._createHelper(a),e.HmacSHA384=o._createHmacHelper(a)}(),s.SHA384)}()},4345:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3646),function(){var e=s,t=e.lib.Hasher,n=e.x64,r=n.Word,i=n.WordArray,o=e.algo;function a(){return r.create.apply(r,arguments)}var l=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=a()}();var u=o.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],u=n[5],h=n[6],d=n[7],f=r.high,p=r.low,m=i.high,g=i.low,v=s.high,y=s.low,w=o.high,b=o.low,_=a.high,E=a.low,A=u.high,S=u.low,k=h.high,x=h.low,C=d.high,T=d.low,I=f,N=p,R=m,O=g,D=v,P=y,L=w,M=b,j=_,U=E,F=A,B=S,z=k,V=x,H=C,q=T,W=0;W<80;W++){var K,G,Q=c[W];if(W<16)G=Q.high=0|e[t+2*W],K=Q.low=0|e[t+2*W+1];else{var Y=c[W-15],X=Y.high,J=Y.low,$=(X>>>1|J<<31)^(X>>>8|J<<24)^X>>>7,Z=(J>>>1|X<<31)^(J>>>8|X<<24)^(J>>>7|X<<25),ee=c[W-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),se=c[W-7],oe=se.high,ae=se.low,le=c[W-16],ce=le.high,ue=le.low;G=(G=(G=$+oe+((K=Z+ae)>>>0<Z>>>0?1:0))+re+((K+=ie)>>>0<ie>>>0?1:0))+ce+((K+=ue)>>>0<ue>>>0?1:0),Q.high=G,Q.low=K}var he,de=j&F^~j&z,fe=U&B^~U&V,pe=I&R^I&D^R&D,me=N&O^N&P^O&P,ge=(I>>>28|N<<4)^(I<<30|N>>>2)^(I<<25|N>>>7),ve=(N>>>28|I<<4)^(N<<30|I>>>2)^(N<<25|I>>>7),ye=(j>>>14|U<<18)^(j>>>18|U<<14)^(j<<23|U>>>9),we=(U>>>14|j<<18)^(U>>>18|j<<14)^(U<<23|j>>>9),be=l[W],_e=be.high,Ee=be.low,Ae=H+ye+((he=q+we)>>>0<q>>>0?1:0),Se=ve+me;H=z,q=V,z=F,V=B,F=j,B=U,j=L+(Ae=(Ae=(Ae=Ae+de+((he+=fe)>>>0<fe>>>0?1:0))+_e+((he+=Ee)>>>0<Ee>>>0?1:0))+G+((he+=K)>>>0<K>>>0?1:0))+((U=M+he|0)>>>0<M>>>0?1:0)|0,L=D,M=P,D=R,P=O,R=I,O=N,I=Ae+(ge+pe+(Se>>>0<ve>>>0?1:0))+((N=he+Se|0)>>>0<he>>>0?1:0)|0}p=r.low=p+N,r.high=f+I+(p>>>0<N>>>0?1:0),g=i.low=g+O,i.high=m+R+(g>>>0<O>>>0?1:0),y=s.low=y+P,s.high=v+D+(y>>>0<P>>>0?1:0),b=o.low=b+M,o.high=w+L+(b>>>0<M>>>0?1:0),E=a.low=E+U,a.high=_+j+(E>>>0<U>>>0?1:0),S=u.low=S+B,u.high=A+F+(S>>>0<B>>>0?1:0),x=h.low=x+V,h.high=k+z+(x>>>0<V>>>0?1:0),T=d.low=T+q,d.high=C+H+(T>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),s.SHA512)}()},2550:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=s,t=e.lib,n=t.WordArray,r=t.BlockCipher,i=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=i.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=o[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],s=0;s<16;s++){var c=i[s]=[],u=l[s];for(n=0;n<24;n++)c[n/6|0]|=t[(a[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(a[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],s=this._lBlock,o=this._rBlock,a=0,l=0;l<8;l++)a|=c[l][((o^i[l])&u[l])>>>0];this._lBlock=o,this._rBlock=s^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function f(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=r._createHelper(h);var p=i.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(n.create(t)),this._des2=h.createEncryptor(n.create(r)),this._des3=h.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(p)}(),s.TripleDES)}()},3646:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.Base,s=n.WordArray,o=t.x64={};o.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return s.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),i)}()},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case E:return"Portal";case k:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ae=null,Se=null;function ke(e){if(e=wi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function xe(e){Ae?Se?Se.push(e):Se=[e]:Ae=e}function Ce(){if(Ae){var e=Ae,t=Se;if(Se=Ae=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==Ae||null!==Se)&&(Ie(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){De=!1}function Le(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Ue=!1,Fe=null,Be={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,s,o,a,l){Me=!1,je=null,Le.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,At,St,kt,xt=!1,Ct=[],Tt=null,It=null,Nt=null,Rt=new Map,Ot=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){xt=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),Rt.forEach(Ft),Ot.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function Kt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function Gt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Mt(It,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Mt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=j({},cn,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},hn,{relatedTarget:0})),vn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function kn(){return Sn}var xn=j({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(xn),Tn=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Rn),Dn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!Pn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){xe(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ar={},Sr={};function kr(e){if(Ar[e])return Ar[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ar[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var xr=kr("animationend"),Cr=kr("animationiteration"),Tr=kr("animationstart"),Ir=kr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Pr=Rr[Dr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(xr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=je;Me=!1,je=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,i=_e(n),o=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case xr:case Cr:case Tr:l=vn;break;case Ir:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(qn(a))if(Jn)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Vn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Vn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=en(),Zt=$t=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Oe(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=Oe(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],Ai=-1;function Si(e){return{current:e}}function ki(e){0>Ai||(e.current=Ei[Ai],Ei[Ai]=null,Ai--)}function xi(e,t){Ai++,Ei[Ai]=e.current,e.current=t}var Ci={},Ti=Si(Ci),Ii=Si(!1),Ni=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){ki(Ii),ki(Ti)}function Pi(e,t,n){if(Ti.current!==Ci)throw Error(s(168));xi(Ti,t),xi(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ti.current,xi(Ti,e),xi(Ii,Ii.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,ki(Ii),ki(Ti),xi(Ti,e)):ki(Ii),xi(Ii,n)}var Ui=null,Fi=!1,Bi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Vi),i}finally{wt=t,Bi=!1}}return null}var Hi=[],qi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){Hi[qi++]=Ki,Hi[qi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Ki=Hi[--qi],Hi[qi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Si(null),ys=null,ws=null,bs=null;function _s(){bs=ws=ys=null}function Es(e){var t=vs.current;ki(vs),e._currentValue=t}function As(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var xs=null;function Cs(e){null===xs?xs=[e]:xs.push(e)}function Ts(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Is(e,r)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ns=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Is(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Is(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,r){var i=e.updateQueue;Ns=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Ns=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=h}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Fs=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ps(e,i,r))&&(rc(t,e,r,n),Ls(t,e,r))}};function Vs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function Hs(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=Oi(t)?Ni:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function qs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fs,Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=Oi(t)?Ni:Ti.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),js(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===A?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&$i(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&$i(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&$i(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===A&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===A){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ks(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===A?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=Ks(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return a(r);case O:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(L(o))return g(r,s,o,l);Gs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Uc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Xs=Ys(!0),Js=Ys(!1),$s={},Zs=Si($s),eo=Si($s),to=Si($s);function no(e){if(e===$s)throw Error(s(174));return e}function ro(e,t){switch(xi(to,t),xi(eo,e),xi(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Zs),xi(Zs,t)}function io(){ki(Zs),ki(eo),ki(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(xi(eo,e),xi(Zs,n))}function oo(e){eo.current===e&&(ki(Zs),ki(eo))}var ao=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,wo=!1,bo=0,_o=0;function Eo(){throw Error(s(321))}function Ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function ko(){var e=0!==bo;return bo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Co(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function To(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=h,jl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,jl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Oo(e,t){var n=mo,r=Co(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Fo(9,Po.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function jo(e){var t=Is(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Co().memoizedState}function zo(e,t,n,r){var i=xo();mo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Ao(r,o.deps))return void(i.memoizedState=Fo(t,n,s,r))}mo.flags|=e,i.memoizedState=Fo(1|t,n,s,r)}function Ho(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Vo(2048,8,e,t)}function Wo(e,t){return Vo(4,2,e,t)}function Ko(e,t){return Vo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,jl|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return Co().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ts(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Cs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ts(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:ks,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},aa={readContext:ks,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=xo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Nl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:ks,useCallback:Xo,useContext:ks,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Jo,useReducer:Io,useRef:Bo,useState:function(){return Io(To)},useDebugValue:Yo,useDeferredValue:function(e){return $o(Co(),go.memoizedState,e)},useTransition:function(){return[Io(To)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:ea,unstable_isNewReconciler:!1},ca={readContext:ks,useCallback:Xo,useContext:ks,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Bo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:$o(t,go.memoizedState,e)},useTransition:function(){return[No(To)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),da(0,t)},n}function ma(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Ps(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Js(t,null,n,r):Xs(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=So(e,t,n,r,s,i),n=ko(),null===e||ba?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Aa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Pl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Pl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Pl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Pl,Dl),Dl|=r;return _a(e,t,i,n),t.child}function xa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Oi(n)?Ni:Ti.current;return s=Ri(t,s),Ss(t,i),n=So(e,t,n,r,s,i),r=ko(),null===e||ba?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ta(e,t,n,r,i){if(Oi(n)){var s=!0;Mi(t)}else s=!1;if(Ss(t,i),null===t.stateNode)qa(e,t),Hs(t,n,r),Ws(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ks(c):c=Ri(t,c=Oi(n)?Ni:Ti.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&qs(t,o,r,c),Ns=!1;var d=t.memoizedState;o.state=d,js(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ii.current||Ns?("function"===typeof u&&(Bs(t,n,u,r),l=t.memoizedState),(a=Ns||Vs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Os(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=Ri(t,l=Oi(n)?Ni:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&qs(t,o,r,l),Ns=!1,d=t.memoizedState,o.state=d,js(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ii.current||Ns?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(c=Ns||Vs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){xa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Wa(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ra(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Oa,Da,Pa,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Ma,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xs(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Is(e,i),rc(r,e,i,-1))}return gc(),Ba(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Pc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Pc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ps(r),Xs(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),As(e.return,t,n)}function Va(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,s);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Oi(t.type)&&Di(),Ga(t),null;case 3:return r=t.stateNode,io(),ki(Ii),ki(Ti),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Da(e,t),Ga(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(ki(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return io(),Da(e,t),null===e&&Vr(t.stateNode.containerInfo),Ga(t),null;case 10:return Es(t.type._context),Ga(t),null;case 19:if(ki(ao),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Hl&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ga(t),null}else 2*Je()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ao.current,xi(ao,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),ki(Ii),ki(Ti),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(ki(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ao),null;case 4:return io(),null;case 10:return Es(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ja=!1,$a="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":$(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Je())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||h,gl(t,e),Ja=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Za=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Xa;var c=Ja;if(Xa=o,(Ja=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Al(i):null!==l?(l.return=o,Za=l):Al(i);for(;null!==s;)Za=s,bl(s,t,n),s=s.sibling;Za=i,Xa=a,Ja=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_l(e)}}function _l(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Us(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Al(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Sl,kl=Math.ceil,xl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Il=0,Nl=null,Rl=null,Ol=0,Dl=0,Pl=Si(0),Ll=0,Ml=null,jl=0,Ul=0,Fl=0,Bl=null,zl=null,Vl=0,Hl=1/0,ql=null,Wl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Xl=0,Jl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Il)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===Nl||(e===Nl&&(0===(2&Il)&&(Ul|=n),4===Ll&&lc(e,Ol)),ic(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Hl=Je()+500,Fi&&Vi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Nl?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Il)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Il;Il|=2;var o=mc();for(Nl===e&&Ol===t||(ql=null,Hl=Je()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}_s(),xl.current=o,Il=i,null!==Rl?t=0:(Nl=null,Ol=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,zl,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Vl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,zl,ql),t);break}Ec(e,zl,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,zl,ql),r);break}Ec(e,zl,ql);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Il))throw Error(s(327));Ac();var t=dt(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,zl,ql),ic(e,Je()),null}function uc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Hl=Je()+500,Fi&&Vi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Il)&&Ac();var t=Il;Il|=1;var n=Tl.transition,r=wt;try{if(Tl.transition=null,wt=1,e)return e()}finally{wt=r,Tl.transition=n,0===(6&(Il=t))&&Vi()}}function dc(){Dl=Pl.current,ki(Pl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),ki(Ii),ki(Ti),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:ki(ao);break;case 10:Es(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Rl=e=Pc(e.current,null),Ol=Dl=t,Ll=0,Ml=null,Fl=Ul=jl=0,zl=Bl=null,null!==xs){for(t=0;t<xs.length;t++)if(null!==(r=(n=xs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}xs=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(_s(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,wo=!1,bo=0,Cl.current=null,null===n||null===n.return){Ll=1,Ml=t,Rl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=xl.current;return xl.current=oa,null===e?oa:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Nl||0===(268435455&jl)&&0===(268435455&Ul)||lc(Nl,Ol)}function vc(e,t){var n=Il;Il|=2;var r=mc();for(Nl===e&&Ol===t||(ql=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_s(),Il=n,xl.current=r,null!==Rl)throw Error(s(261));return Nl=null,Ol=0,Ll}function yc(){for(;null!==Rl;)bc(Rl)}function wc(){for(;null!==Rl&&!Ye();)bc(Rl)}function bc(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?_c(e):Rl=t,Cl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Dl)))return void(Rl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ll=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Ec(e,t,n){var r=wt,i=Tl.transition;try{Tl.transition=null,wt=1,function(e,t,n,r){do{Ac()}while(null!==Yl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(Rl=Nl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nc(tt,(function(){return Ac(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=wt;wt=1;var l=Il;Il|=4,Cl.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Xe(),Il=l,wt=a,Tl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Ac(),o=e.pendingLanes,0!==(1&o)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,Vi()}(e,t,n,r)}finally{Tl.transition=i,wt=r}return null}function Ac(){if(null!==Yl){var e=bt(Xl),t=Tl.transition,n=wt;try{if(Tl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){kc(l,l.return,E)}if(l===a){Za=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break e}Za=l.return}}if(Il=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Ps(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ps(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Ol&n)===n&&(4===Ll||3===Ll&&(130023424&Ol)===Ol&&500>Je()-Vl?fc(e,0):Fl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Is(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Rc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case A:return Mc(n.children,i,o,t);case S:a=8,i|=8;break;case k:return(e=Oc(12,n,t,2|i)).elementType=k,e.lanes=o,e;case I:return(e=Oc(13,n,t,i)).elementType=I,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case C:a=9;break e;case T:a=11;break e;case R:a=14;break e;case O:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,o,a,l){return e=new Bc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Vc(e){if(!e)return Ci;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Hc(e,t,n,r,i,s,o,a,l){return(e=zc(n,r,!0,e,0,s,0,a,l)).context=Vc(null),n=e.current,(s=Ds(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ps(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ps(i,t,o))&&(rc(e,i,o,s),Ls(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:so(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(xi(ao,1&ao.current),null!==(e=Wa(e,t,n))?e.sibling:null);xi(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);Ss(t,n),i=So(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Ws(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Aa(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Os(e,t),js(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ra(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),xa(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ua(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xs(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,xi(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ii.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ds(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),As(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),As(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=ks(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Aa(e,t,r,i=gs(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),qa(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ss(t,n),Hs(t,r,i),Ws(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return ka(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Wc(o);a.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(o);s.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),hc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){qc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Il)&&(Hl=Je()+500,Vi()))}break;case 13:hc((function(){var t=Is(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},At=function(e){if(13===e.tag){var t=nc(e),n=Is(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));G(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Ie=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,xe,Ce,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},4805:function(e,t,n){var r;r=e=>(()=>{var t={"./node_modules/css-mediaquery/index.js":(e,t)=>{"use strict";t.match=function(e,t){return a(e).some((function(e){var n=e.inverse,r="all"===e.type||t.type===e.type;if(r&&n||!r&&!n)return!1;var i=e.expressions.every((function(e){var n=e.feature,r=e.modifier,i=e.value,s=t[n];if(!s)return!1;switch(n){case"orientation":case"scan":return s.toLowerCase()===i.toLowerCase();case"width":case"height":case"device-width":case"device-height":i=u(i),s=u(s);break;case"resolution":i=c(i),s=c(s);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":i=l(i),s=l(s);break;case"grid":case"color":case"color-index":case"monochrome":i=parseInt(i,10)||1,s=parseInt(s,10)||0}switch(r){case"min":return s>=i;case"max":return s<=i;default:return s===i}}));return i&&!n||!i&&n}))},t.parse=a;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,i=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function a(e){return e.split(",").map((function(e){var t=(e=e.trim()).match(n),s=t[1],o=t[2],a=t[3]||"",l={};return l.inverse=!!s&&"not"===s.toLowerCase(),l.type=o?o.toLowerCase():"all",a=a.match(/\([^\)]+\)/g)||[],l.expressions=a.map((function(e){var t=e.match(r),n=t[1].toLowerCase().match(i);return{modifier:n[1],feature:n[2],value:t[2]}})),l}))}function l(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function c(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function u(e){var t=parseFloat(e);switch(String(e).match(s)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},"./node_modules/hyphenate-style-name/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=/[A-Z]/g,i=/^ms-/,s={};function o(e){return"-"+e.toLowerCase()}const a=function(e){if(s.hasOwnProperty(e))return s[e];var t=e.replace(r,o);return s[e]=i.test(t)?"-"+t:t}},"./node_modules/matchmediaquery/index.js":(e,t,n)=>{"use strict";var r=n("./node_modules/css-mediaquery/index.js").match,i="undefined"!==typeof window?window.matchMedia:null;function s(e,t,n){var s=this;if(i&&!n){var o=i.call(window,e);this.matches=o.matches,this.media=o.media,o.addListener(a)}else this.matches=r(e,t),this.media=e;function a(e){s.matches=e.matches,s.media=e.media}this.addListener=function(e){o&&o.addListener(e)},this.removeListener=function(e){o&&o.removeListener(e)},this.dispose=function(){o&&o.removeListener(a)}}e.exports=function(e,t,n){return new s(e,t,n)}},"./node_modules/object-assign/index.js":e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var s,o,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(a[c]=s[c]);if(t){o=t(s);for(var u=0;u<o.length;u++)r.call(s,o[u])&&(a[o[u]]=s[o[u]])}}return a}},"./node_modules/prop-types/checkPropTypes.js":(e,t,n)=>{"use strict";var r=function(){},i=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),s={},o=n("./node_modules/prop-types/lib/has.js");function a(e,t,n,a,l){for(var c in e)if(o(e,c)){var u;try{if("function"!==typeof e[c]){var h=Error((a||"React class")+": "+n+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw h.name="Invariant Violation",h}u=e[c](t,c,a,n,null,i)}catch(f){u=f}if(!u||u instanceof Error||r((a||"React class")+": type specification of "+n+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof u+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),u instanceof Error&&!(u.message in s)){s[u.message]=!0;var d=l?l():"";r("Failed "+n+" type: "+u.message+(null!=d?d:""))}}}r=function(e){var t="Warning: "+e;"undefined"!==typeof console&&console.error(t);try{throw new Error(t)}catch(n){}},a.resetWarningCache=function(){s={}},e.exports=a},"./node_modules/prop-types/factoryWithTypeCheckers.js":(e,t,n)=>{"use strict";var r=n("./node_modules/react-is/index.js"),i=n("./node_modules/object-assign/index.js"),s=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),o=n("./node_modules/prop-types/lib/has.js"),a=n("./node_modules/prop-types/checkPropTypes.js"),l=function(){};function c(){return null}l=function(e){var t="Warning: "+e;"undefined"!==typeof console&&console.error(t);try{throw new Error(t)}catch(n){}},e.exports=function(e,t){var n="function"===typeof Symbol&&Symbol.iterator,u="@@iterator",h="<<anonymous>>",d={array:g("array"),bigint:g("bigint"),bool:g("boolean"),func:g("function"),number:g("number"),object:g("object"),string:g("string"),symbol:g("symbol"),any:m(c),arrayOf:function(e){return m((function(t,n,r,i,o){if("function"!==typeof e)return new p("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new p("Invalid "+i+" `"+o+"` of type `"+w(a)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<a.length;l++){var c=e(a,l,r,i,o+"["+l+"]",s);if(c instanceof Error)return c}return null}))},element:m((function(t,n,r,i,s){var o=t[n];return e(o)?null:new p("Invalid "+i+" `"+s+"` of type `"+w(o)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:m((function(e,t,n,i,s){var o=e[t];return r.isValidElementType(o)?null:new p("Invalid "+i+" `"+s+"` of type `"+w(o)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return m((function(t,n,r,i,s){if(!(t[n]instanceof e)){var o=e.name||h;return new p("Invalid "+i+" `"+s+"` of type `"+((a=t[n]).constructor&&a.constructor.name?a.constructor.name:h)+"` supplied to `"+r+"`, expected instance of `"+o+"`.")}var a;return null}))},node:m((function(e,t,n,r,i){return y(e[t])?null:new p("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return m((function(t,n,r,i,a){if("function"!==typeof e)return new p("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var l=t[n],c=w(l);if("object"!==c)return new p("Invalid "+i+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var u in l)if(o(l,u)){var h=e(l,u,r,i,a+"."+u,s);if(h instanceof Error)return h}return null}))},oneOf:function(e){return Array.isArray(e)?m((function(t,n,r,i,s){for(var o=t[n],a=0;a<e.length;a++)if(f(o,e[a]))return null;var l=JSON.stringify(e,(function(e,t){return"symbol"===b(t)?String(t):t}));return new p("Invalid "+i+" `"+s+"` of value `"+String(o)+"` supplied to `"+r+"`, expected one of "+l+".")})):(l(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),c)},oneOfType:function(e){if(!Array.isArray(e))return l("Invalid argument supplied to oneOfType, expected an instance of array."),c;for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)return l("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+_(n)+" at index "+t+"."),c}return m((function(t,n,r,i,a){for(var l=[],c=0;c<e.length;c++){var u=(0,e[c])(t,n,r,i,a,s);if(null==u)return null;u.data&&o(u.data,"expectedType")&&l.push(u.data.expectedType)}return new p("Invalid "+i+" `"+a+"` supplied to `"+r+"`"+(l.length>0?", expected one of type ["+l.join(", ")+"]":"")+".")}))},shape:function(e){return m((function(t,n,r,i,o){var a=t[n],l=w(a);if("object"!==l)return new p("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var u=e[c];if("function"!==typeof u)return v(r,i,o,c,b(u));var h=u(a,c,r,i,o+"."+c,s);if(h)return h}return null}))},exact:function(e){return m((function(t,n,r,a,l){var c=t[n],u=w(c);if("object"!==u)return new p("Invalid "+a+" `"+l+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var h=i({},t[n],e);for(var d in h){var f=e[d];if(o(e,d)&&"function"!==typeof f)return v(r,a,l,d,b(f));if(!f)return new p("Invalid "+a+" `"+l+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var m=f(c,d,r,a,l+"."+d,s);if(m)return m}return null}))}};function f(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function p(e,t){this.message=e,this.data=t&&"object"===typeof t?t:{},this.stack=""}function m(e){var n={},r=0;function i(i,o,a,c,u,d,f){if(c=c||h,d=d||a,f!==s){if(t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}if("undefined"!==typeof console){var g=c+":"+a;!n[g]&&r<3&&(l("You are manually calling a React.PropTypes validation function for the `"+d+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[g]=!0,r++)}}return null==o[a]?i?null===o[a]?new p("The "+u+" `"+d+"` is marked as required in `"+c+"`, but its value is `null`."):new p("The "+u+" `"+d+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(o,a,c,u,d)}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}function g(e){return m((function(t,n,r,i,s,o){var a=t[n];return w(a)!==e?new p("Invalid "+i+" `"+s+"` of type `"+b(a)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null}))}function v(e,t,n,r,i){return new p((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+i+"`.")}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e[u]);if("function"===typeof t)return t}(t);if(!r)return!1;var i,s=r.call(t);if(r!==t.entries){for(;!(i=s.next()).done;)if(!y(i.value))return!1}else for(;!(i=s.next()).done;){var o=i.value;if(o&&!y(o[1]))return!1}return!0;default:return!1}}function w(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function b(e){if("undefined"===typeof e||null===e)return""+e;var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,d.checkPropTypes=a,d.resetWarningCache=a.resetWarningCache,d.PropTypes=d,d}},"./node_modules/prop-types/index.js":(e,t,n)=>{var r=n("./node_modules/react-is/index.js");e.exports=n("./node_modules/prop-types/factoryWithTypeCheckers.js")(r.isElement,!0)},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/prop-types/lib/has.js":e=>{e.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(e,t)=>{"use strict";!function(){var e="function"===typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var f=e.type;switch(f){case c:case u:case i:case o:case s:case d:return f;default:var g=f&&f.$$typeof;switch(g){case l:case h:case m:case p:case a:return g;default:return t}}case r:return t}}}var _=c,E=u,A=l,S=a,k=n,x=h,C=i,T=m,I=p,N=r,R=o,O=s,D=d,P=!1;function L(e){return b(e)===u}t.AsyncMode=_,t.ConcurrentMode=E,t.ContextConsumer=A,t.ContextProvider=S,t.Element=k,t.ForwardRef=x,t.Fragment=C,t.Lazy=T,t.Memo=I,t.Portal=N,t.Profiler=R,t.StrictMode=O,t.Suspense=D,t.isAsyncMode=function(e){return P||(P=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),L(e)||b(e)===c},t.isConcurrentMode=L,t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===a},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===i},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===p},t.isPortal=function(e){return b(e)===r},t.isProfiler=function(e){return b(e)===o},t.isStrictMode=function(e){return b(e)===s},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===u||e===o||e===s||e===d||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===a||e.$$typeof===l||e.$$typeof===h||e.$$typeof===v||e.$$typeof===y||e.$$typeof===w||e.$$typeof===g)},t.typeOf=b}()},"./node_modules/react-is/index.js":(e,t,n)=>{"use strict";e.exports=n("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(e,t,n)=>{"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var s=0;s<i;s++){var o=n[s];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function i(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}n.r(t),n.d(t,{shallowEqualArrays:()=>i,shallowEqualObjects:()=>r})},"./src/Component.ts":function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./src/useMediaQuery.ts"));t.default=function(e){var t=e.children,n=e.device,i=e.onChange,o=r(e,["children","device","onChange"]),a=(0,s.default)(o,n,i);return"function"===typeof t?t(a):a?t:null}},"./src/Context.ts":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(0,n("react").createContext)(void 0);t.default=r},"./src/index.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var i=r(n("./src/useMediaQuery.ts"));t.useMediaQuery=i.default;var s=r(n("./src/Component.ts"));t.default=s.default;var o=r(n("./src/toQuery.ts"));t.toQuery=o.default;var a=r(n("./src/Context.ts"));t.Context=a.default},"./src/mediaQuery.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n("./node_modules/prop-types/index.js")),a=o.default.oneOfType([o.default.string,o.default.number]),l={all:o.default.bool,grid:o.default.bool,aural:o.default.bool,braille:o.default.bool,handheld:o.default.bool,print:o.default.bool,projection:o.default.bool,screen:o.default.bool,tty:o.default.bool,tv:o.default.bool,embossed:o.default.bool},c={orientation:o.default.oneOf(["portrait","landscape"]),scan:o.default.oneOf(["progressive","interlace"]),aspectRatio:o.default.string,deviceAspectRatio:o.default.string,height:a,deviceHeight:a,width:a,deviceWidth:a,color:o.default.bool,colorIndex:o.default.bool,monochrome:o.default.bool,resolution:a,type:Object.keys(l)},u=i(c,["type"]),h=r({minAspectRatio:o.default.string,maxAspectRatio:o.default.string,minDeviceAspectRatio:o.default.string,maxDeviceAspectRatio:o.default.string,minHeight:a,maxHeight:a,minDeviceHeight:a,maxDeviceHeight:a,minWidth:a,maxWidth:a,minDeviceWidth:a,maxDeviceWidth:a,minColor:o.default.number,maxColor:o.default.number,minColorIndex:o.default.number,maxColorIndex:o.default.number,minMonochrome:o.default.number,maxMonochrome:o.default.number,minResolution:a,maxResolution:a},u),d=r(r({},l),h);t.default={all:d,types:l,matchers:c,features:h}},"./src/toQuery.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("./node_modules/hyphenate-style-name/index.js")),s=r(n("./src/mediaQuery.ts"));t.default=function(e){var t=[];return Object.keys(s.default.all).forEach((function(n){var r=e[n];null!=r&&t.push(function(e,t){var n=(0,i.default)(e);return"number"===typeof t&&(t="".concat(t,"px")),!0===t?n:!1===t?"not ".concat(n):"(".concat(n,": ").concat(t,")")}(n,r))})),t.join(" and ")}},"./src/useMediaQuery.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("react"),s=r(n("./node_modules/matchmediaquery/index.js")),o=r(n("./node_modules/hyphenate-style-name/index.js")),a=n("./node_modules/shallow-equal/dist/index.esm.js"),l=r(n("./src/toQuery.ts")),c=r(n("./src/Context.ts")),u=function(e){if(e)return Object.keys(e).reduce((function(t,n){return t[(0,o.default)(n)]=e[n],t}),{})},h=function(){var e=(0,i.useRef)(!1);return(0,i.useEffect)((function(){e.current=!0}),[]),e.current},d=function(e){var t=function(){return function(e){return e.query||(0,l.default)(e)}(e)},n=(0,i.useState)(t),r=n[0],s=n[1];return(0,i.useEffect)((function(){var e=t();r!==e&&s(e)}),[e]),r};t.default=function(e,t,n){var r=function(e){var t=(0,i.useContext)(c.default),n=function(){return u(e)||u(t)},r=(0,i.useState)(n),s=r[0],o=r[1];return(0,i.useEffect)((function(){var e=n();(0,a.shallowEqualObjects)(s,e)||o(e)}),[e,t]),s}(t),o=d(e);if(!o)throw new Error("Invalid or missing MediaQuery!");var l=function(e,t){var n=function(){return(0,s.default)(e,t||{},!!t)},r=(0,i.useState)(n),o=r[0],a=r[1],l=h();return(0,i.useEffect)((function(){if(l){var e=n();return a(e),function(){e&&e.dispose()}}}),[e,t]),o}(o,r),f=function(e){var t=(0,i.useState)(e.matches),n=t[0],r=t[1];return(0,i.useEffect)((function(){var t=function(e){r(e.matches)};return e.addListener(t),r(e.matches),function(){e.removeListener(t)}}),[e]),n}(l),p=h();return(0,i.useEffect)((function(){p&&n&&n(f)}),[f]),(0,i.useEffect)((function(){return function(){l&&l.dispose()}}),[]),f}},react:t=>{"use strict";t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}};return t[e].call(s.exports,s,s.exports,r),s.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r("./src/index.ts")})(),e.exports=r(n(2791))},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,A={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:A.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+T(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+T(a=e[c],c);l+=I(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,u=s+T(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:A};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=A.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,D(E);else{var t=r(u);null!==t&&P(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(x),x=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&P(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,S=!1,k=null,x=-1,C=5,T=-1;function I(){return!(t.unstable_now()-T<C)}function N(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?A():(S=!1,k=null)}}else S=!1}if("function"===typeof w)A=function(){w(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=N,A=function(){O.postMessage(null)}}else A=function(){v(N,0)};function D(e){k=e,S||(S=!0,A())}function P(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(x),x=-1):g=!0,P(_,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,D(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},8637:(e,t,n)=>{"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,o=r.useRef,a=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var h=o(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=l((function(){function e(e){if(!a){if(a=!0,s=e,e=r(e),void 0!==u&&d.hasValue){var t=d.value;if(u(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==u&&u(t,n)?t:(s=e,o=n)}var s,o,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,u]);var f=s(e,h[0],h[1]);return a((function(){d.hasValue=!0,d.value=f}),[f]),c(f),f}},7995:(e,t,n)=>{"use strict";e.exports=n(8637)},2480:()=>{},1418:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/message/",(()=>{"use strict";var e,t=n(2791),r=n.t(t,2),i=n(1250),s=n(4164),o=n.t(s,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,p=e.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:b.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let b={get action(){return p},get location(){return t(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=d(b.location,t,n);r&&r(i,t),g=v()+1;let a=h(i,g),l=b.createHref(i);try{u.pushState(a,"",l)}catch(RC){if(RC instanceof DOMException&&"DataCloneError"===RC.name)throw RC;s.location.assign(l)}o&&m&&m({action:p,location:b.location,delta:1})},replace:function(t,n){p=e.Replace;let i=d(b.location,t,n);r&&r(i,t),g=v();let s=h(i,g),a=b.createHref(i);u.replaceState(s,"",a),o&&m&&m({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));const v=new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let s=[...n,i],o="string"===typeof e.id?e.id:s.join("-");if(c(!0!==e.index||!e.children,"Cannot specify children on an index route"),c(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=a({},e,t(e),{id:o});return r[o]=n,n}{let n=a({},e,t(e),{id:o,children:void 0});return r[o]=n,e.children&&(n.children=y(e.children,t,s,r)),n}}))}function w(e,t,n){void 0===n&&(n="/");let r=D(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=N(i[o],O(r));return s}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=U([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=_(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:\w+$/,A=3,S=2,k=1,x=10,C=-2,T=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=C),t&&(r+=S),n.filter((e=>!T(e))).reduce(((e,t)=>e+(E.test(t)?A:""===t?k:x)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:U([i,c.pathname]),pathnameBase:F(U([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=U([i,c.pathnameBase]))}return s}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(RC){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+RC+")."),e}}(l||"",r),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function O(e){try{return decodeURI(e)}catch(RC){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+RC+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=L(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function j(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=a({},e),c(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let s,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:z(i)}}(i,s),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const U=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class V{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],W=new Set(q),K=["get",...q],G=new Set(K),Q=new Set([301,302,303,307,308]),Y=new Set([307,308]),X={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Z=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),te="remix-router-transitions";function ne(t){const n=t.window?t.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof n&&"undefined"!==typeof n.document&&"undefined"!==typeof n.document.createElement,i=!r;let s;if(c(t.routes.length>0,"You must provide a non-empty routes array to createRouter"),t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let e=t.detectErrorBoundary;s=t=>({hasErrorBoundary:e(t)})}else s=ee;let o,l,h={},f=y(t.routes,s,void 0,h),p=t.basename||"/",m=a({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),v=null,b=new Set,_=null,E=null,A=null,S=null!=t.hydrationData,k=w(f,t.history.location,p),x=null;if(null==k){let e=we(404,{pathname:t.history.location.pathname}),{matches:n,route:r}=ye(f);k=n,x={[r.id]:e}}let C,T=k.some((e=>e.route.lazy)),I=k.some((e=>e.route.loader));if(T)l=!1;else if(I)if(m.v7_partialHydration){let e=t.hydrationData?t.hydrationData.loaderData:null,n=t.hydrationData?t.hydrationData.errors:null;l=k.every((t=>t.route.loader&&!0!==t.route.loader.hydrate&&(e&&void 0!==e[t.route.id]||n&&void 0!==n[t.route.id])))}else l=null!=t.hydrationData;else l=!0;let N,R={historyAction:t.history.action,location:t.history.location,matches:k,initialized:l,navigation:X,restoreScrollPosition:null==t.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},O=e.Pop,P=!1,L=!1,M=new Map,j=null,U=!1,F=!1,B=[],z=[],V=new Map,H=0,q=-1,W=new Map,K=new Set,G=new Map,Q=new Map,ne=new Set,se=new Map,ae=new Map,le=!1;function ce(e,t){void 0===t&&(t={}),R=a({},R,e);let n=[],r=[];m.v7_fetcherPersist&&R.fetchers.forEach(((e,t)=>{"idle"===e.state&&(ne.has(t)?r.push(t):n.push(t))})),[...b].forEach((e=>e(R,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),m.v7_fetcherPersist&&(n.forEach((e=>R.fetchers.delete(e))),r.forEach((e=>je(e))))}function de(n,r,i){var s,l;let c,{flushSync:u}=void 0===i?{}:i,h=null!=R.actionData&&null!=R.navigation.formMethod&&Ce(R.navigation.formMethod)&&"loading"===R.navigation.state&&!0!==(null==(s=n.state)?void 0:s._isRedirect);c=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:h?R.actionData:null;let d=r.loaderData?ge(R.loaderData,r.loaderData,r.matches||[],r.errors):R.loaderData,p=R.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,$))));let m,g=!0===P||null!=R.navigation.formMethod&&Ce(R.navigation.formMethod)&&!0!==(null==(l=n.state)?void 0:l._isRedirect);if(o&&(f=o,o=void 0),U||O===e.Pop||(O===e.Push?t.history.push(n,n.state):O===e.Replace&&t.history.replace(n,n.state)),O===e.Pop){let e=M.get(R.location.pathname);e&&e.has(n.pathname)?m={currentLocation:R.location,nextLocation:n}:M.has(n.pathname)&&(m={currentLocation:n,nextLocation:R.location})}else if(L){let e=M.get(R.location.pathname);e?e.add(n.pathname):(e=new Set([n.pathname]),M.set(R.location.pathname,e)),m={currentLocation:R.location,nextLocation:n}}ce(a({},r,{actionData:c,loaderData:d,historyAction:O,location:n,initialized:!0,navigation:X,revalidation:"idle",restoreScrollPosition:Ge(n,r.matches||R.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===u}),O=e.Pop,P=!1,L=!1,U=!1,F=!1,B=[],z=[]}async function fe(n,r,i){N&&N.abort(),N=null,O=n,U=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(_&&A){let n=Ke(e,t);_[n]=A()}}(R.location,R.matches),P=!0===(i&&i.preventScrollReset),L=!0===(i&&i.enableViewTransition);let l=o||f,c=i&&i.overrideNavigation,u=w(l,r,p),d=!0===(i&&i.flushSync);if(!u){let e=we(404,{pathname:r.pathname}),{matches:t,route:n}=ye(l);return We(),void de(r,{matches:t,loaderData:{},errors:{[n.id]:e}},{flushSync:d})}if(R.initialized&&!F&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(R.location,r)&&!(i&&i.submission&&Ce(i.submission.formMethod)))return void de(r,{matches:u},{flushSync:d});N=new AbortController;let v,y,b=he(t.history,r,N.signal,i&&i.submission);if(i&&i.pendingError)y={[ve(u).route.id]:i.pendingError};else if(i&&i.submission&&Ce(i.submission.formMethod)){let t=await async function(t,n,r,i,o){void 0===o&&(o={});ke();let a,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(n,r);ce({navigation:l},{flushSync:!0===o.flushSync});let c=Re(i,n);if(c.route.action||c.route.lazy){if(a=await ue("action",t,c,i,h,s,p,m.v7_relativeSplatPath),t.signal.aborted)return{shortCircuited:!0}}else a={type:g.error,error:we(405,{method:t.method,pathname:n.pathname,routeId:c.route.id})};if(Se(a)){let e;return e=o&&null!=o.replace?o.replace:a.location===R.location.pathname+R.location.search,await pe(R,a,{submission:r,replace:e}),{shortCircuited:!0}}if(Ae(a)){let t=ve(i,c.route.id);return!0!==(o&&o.replace)&&(O=e.Push),{pendingActionData:{},pendingActionError:{[t.route.id]:a.error}}}if(Ee(a))throw we(400,{type:"defer-action"});return{pendingActionData:{[c.route.id]:a.data}}}(b,r,i.submission,u,{replace:i.replace,flushSync:d});if(t.shortCircuited)return;v=t.pendingActionData,y=t.pendingActionError,c=De(r,i.submission),d=!1,b=new Request(b.url,{signal:b.signal})}let{shortCircuited:E,loaderData:S,errors:k}=await async function(e,n,r,i,s,l,c,u,h,d,g){let v=i||De(n,s),y=s||l||Oe(v),w=o||f,[b,_]=oe(t.history,R,r,y,n,m.v7_partialHydration&&!0===u,F,B,z,ne,G,K,w,p,d,g);if(We((e=>!(r&&r.some((t=>t.route.id===e)))||b&&b.some((t=>t.route.id===e)))),q=++H,0===b.length&&0===_.length){let e=Be();return de(n,a({matches:r,loaderData:{},errors:g||null},d?{actionData:d}:{},e?{fetchers:new Map(R.fetchers)}:{}),{flushSync:h}),{shortCircuited:!0}}if(!U&&(!m.v7_partialHydration||!u)){_.forEach((e=>{let t=R.fetchers.get(e.key),n=Pe(void 0,t?t.data:void 0);R.fetchers.set(e.key,n)}));let e=d||R.actionData;ce(a({navigation:v},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},_.length>0?{fetchers:new Map(R.fetchers)}:{}),{flushSync:h})}_.forEach((e=>{V.has(e.key)&&Ue(e.key),e.controller&&V.set(e.key,e.controller)}));let E=()=>_.forEach((e=>Ue(e.key)));N&&N.signal.addEventListener("abort",E);let{results:A,loaderResults:S,fetcherResults:k}=await _e(R.matches,r,b,_,e);if(e.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",E);_.forEach((e=>V.delete(e.key)));let x=be(A);if(x){if(x.idx>=b.length){let e=_[x.idx-b.length].key;K.add(e)}return await pe(R,x.result,{replace:c}),{shortCircuited:!0}}let{loaderData:C,errors:T}=me(R,r,b,S,g,_,k,se);se.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&se.delete(t)}))}));let I=Be(),O=ze(q),D=I||O||_.length>0;return a({loaderData:C,errors:T},D?{fetchers:new Map(R.fetchers)}:{})}(b,r,u,c,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,d,v,y);E||(N=null,de(r,a({matches:u},v?{actionData:v}:{},{loaderData:S,errors:k})))}async function pe(i,s,o){let{submission:l,fetcherSubmission:u,replace:h}=void 0===o?{}:o;s.revalidate&&(F=!0);let f=d(i.location,s.location,{_isRedirect:!0});if(c(f,"Expected a location on the redirect navigation"),r){let e=!1;if(s.reloadDocument)e=!0;else if(Z.test(s.location)){const r=t.history.createURL(s.location);e=r.origin!==n.location.origin||null==D(r.pathname,p)}if(e)return void(h?n.location.replace(s.location):n.location.assign(s.location))}N=null;let m=!0===h?e.Replace:e.Push,{formMethod:g,formAction:v,formEncType:y}=i.navigation;!l&&!u&&g&&v&&y&&(l=Oe(i.navigation));let w=l||u;if(Y.has(s.status)&&w&&Ce(w.formMethod))await fe(m,f,{submission:a({},w,{formAction:s.location}),preventScrollReset:P});else{let e=De(f,l);await fe(m,f,{overrideNavigation:e,fetcherSubmission:u,preventScrollReset:P})}}async function _e(e,n,r,i,o){let a=await Promise.all([...r.map((e=>ue("loader",o,e,n,h,s,p,m.v7_relativeSplatPath))),...i.map((e=>{if(e.matches&&e.match&&e.controller)return ue("loader",he(t.history,e.path,e.controller.signal),e.match,e.matches,h,s,p,m.v7_relativeSplatPath);return{type:g.error,error:we(404,{pathname:e.path})}}))]),l=a.slice(0,r.length),c=a.slice(r.length);return await Promise.all([Te(e,r,l,l.map((()=>o.signal)),!1,R.loaderData),Te(e,i.map((e=>e.match)),c,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:a,loaderResults:l,fetcherResults:c}}function ke(){F=!0,B.push(...We()),G.forEach(((e,t)=>{V.has(t)&&(z.push(t),Ue(t))}))}function xe(e,t,n){void 0===n&&(n={}),R.fetchers.set(e,t),ce({fetchers:new Map(R.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Ne(e,t,n,r){void 0===r&&(r={});let i=ve(R.matches,t);je(e),ce({errors:{[i.route.id]:n},fetchers:new Map(R.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Me(e){return m.v7_fetcherPersist&&(Q.set(e,(Q.get(e)||0)+1),ne.has(e)&&ne.delete(e)),R.fetchers.get(e)||J}function je(e){let t=R.fetchers.get(e);!V.has(e)||t&&"loading"===t.state&&W.has(e)||Ue(e),G.delete(e),W.delete(e),K.delete(e),ne.delete(e),R.fetchers.delete(e)}function Ue(e){let t=V.get(e);c(t,"Expected fetch controller: "+e),t.abort(),V.delete(e)}function Fe(e){for(let t of e){let e=Le(Me(t).data);R.fetchers.set(t,e)}}function Be(){let e=[],t=!1;for(let n of K){let r=R.fetchers.get(n);c(r,"Expected fetcher: "+n),"loading"===r.state&&(K.delete(n),e.push(n),t=!0)}return Fe(e),t}function ze(e){let t=[];for(let[n,r]of W)if(r<e){let e=R.fetchers.get(n);c(e,"Expected fetcher: "+n),"loading"===e.state&&(Ue(n),W.delete(n),t.push(n))}return Fe(t),t.length>0}function Ve(e){R.blockers.delete(e),ae.delete(e)}function He(e,t){let n=R.blockers.get(e)||$;c("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(R.blockers);r.set(e,t),ce({blockers:r})}function qe(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===ae.size)return;ae.size>1&&u(!1,"A router only supports one blocker at a time");let i=Array.from(ae.entries()),[s,o]=i[i.length-1],a=R.blockers.get(s);return a&&"proceeding"===a.state?void 0:o({currentLocation:t,nextLocation:n,historyAction:r})?s:void 0}function We(e){let t=[];return se.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),se.delete(r))})),t}function Ke(e,t){if(E){return E(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,R.loaderData))))||e.key}return e.key}function Ge(e,t){if(_){let n=Ke(e,t),r=_[n];if("number"===typeof r)return r}return null}return C={get basename(){return p},get future(){return m},get state(){return R},get routes(){return f},get window(){return n},initialize:function(){if(v=t.history.listen((e=>{let{action:n,location:r,delta:i}=e;if(le)return void(le=!1);u(0===ae.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=qe({currentLocation:R.location,nextLocation:r,historyAction:n});return s&&null!=i?(le=!0,t.history.go(-1*i),void He(s,{state:"blocked",location:r,proceed(){He(s,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.history.go(i)},reset(){let e=new Map(R.blockers);e.set(s,$),ce({blockers:e})}})):fe(n,r)})),r){!function(e,t){try{let n=e.sessionStorage.getItem(te);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(n,M);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(te,JSON.stringify(n))}catch(RC){u(!1,"Failed to save applied view transitions in sessionStorage ("+RC+").")}}}(n,M);n.addEventListener("pagehide",e),j=()=>n.removeEventListener("pagehide",e)}return R.initialized||fe(e.Pop,R.location,{initialHydration:!0}),C},subscribe:function(e){return b.add(e),()=>b.delete(e)},enableScrollRestoration:function(e,t,n){if(_=e,A=t,E=n||null,!S&&R.navigation===X){S=!0;let e=Ge(R.location,R.matches);null!=e&&ce({restoreScrollPosition:e})}return()=>{_=null,A=null,E=null}},navigate:async function n(r,i){if("number"===typeof r)return void t.history.go(r);let s=re(R.location,R.matches,p,m.v7_prependBasename,r,m.v7_relativeSplatPath,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),{path:o,submission:l,error:c}=ie(m.v7_normalizeFormMethod,!1,s,i),u=R.location,h=d(R.location,o,i&&i.state);h=a({},h,t.history.encodeLocation(h));let f=i&&null!=i.replace?i.replace:void 0,g=e.Push;!0===f?g=e.Replace:!1===f||null!=l&&Ce(l.formMethod)&&l.formAction===R.location.pathname+R.location.search&&(g=e.Replace);let v=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,y=!0===(i&&i.unstable_flushSync),w=qe({currentLocation:u,nextLocation:h,historyAction:g});if(!w)return await fe(g,h,{submission:l,pendingError:c,preventScrollReset:v,replace:i&&i.replace,enableViewTransition:i&&i.unstable_viewTransition,flushSync:y});He(w,{state:"blocked",location:h,proceed(){He(w,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),n(r,i)},reset(){let e=new Map(R.blockers);e.set(w,$),ce({blockers:e})}})},fetch:function(e,n,r,a){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(e)&&Ue(e);let l=!0===(a&&a.unstable_flushSync),u=o||f,d=re(R.location,R.matches,p,m.v7_prependBasename,r,m.v7_relativeSplatPath,n,null==a?void 0:a.relative),g=w(u,d,p);if(!g)return void Ne(e,n,we(404,{pathname:d}),{flushSync:l});let{path:v,submission:y,error:b}=ie(m.v7_normalizeFormMethod,!0,d,a);if(b)return void Ne(e,n,b,{flushSync:l});let _=Re(g,v);P=!0===(a&&a.preventScrollReset),y&&Ce(y.formMethod)?async function(e,n,r,i,a,l,u){if(ke(),G.delete(e),!i.route.action&&!i.route.lazy){let t=we(405,{method:u.formMethod,pathname:r,routeId:n});return void Ne(e,n,t,{flushSync:l})}let d=R.fetchers.get(e);xe(e,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(u,d),{flushSync:l});let g=new AbortController,v=he(t.history,r,g.signal,u);V.set(e,g);let y=H,b=await ue("action",v,i,a,h,s,p,m.v7_relativeSplatPath);if(v.signal.aborted)return void(V.get(e)===g&&V.delete(e));if(m.v7_fetcherPersist&&ne.has(e)){if(Se(b)||Ae(b))return void xe(e,Le(void 0))}else{if(Se(b))return V.delete(e),q>y?void xe(e,Le(void 0)):(K.add(e),xe(e,Pe(u)),pe(R,b,{fetcherSubmission:u}));if(Ae(b))return void Ne(e,n,b.error)}if(Ee(b))throw we(400,{type:"defer-action"});let _=R.navigation.location||R.location,E=he(t.history,_,g.signal),A=o||f,S="idle"!==R.navigation.state?w(A,R.navigation.location,p):R.matches;c(S,"Didn't find any matches after fetcher action");let k=++H;W.set(e,k);let x=Pe(u,b.data);R.fetchers.set(e,x);let[C,T]=oe(t.history,R,S,u,_,!1,F,B,z,ne,G,K,A,p,{[i.route.id]:b.data},void 0);T.filter((t=>t.key!==e)).forEach((e=>{let t=e.key,n=R.fetchers.get(t),r=Pe(void 0,n?n.data:void 0);R.fetchers.set(t,r),V.has(t)&&Ue(t),e.controller&&V.set(t,e.controller)})),ce({fetchers:new Map(R.fetchers)});let I=()=>T.forEach((e=>Ue(e.key)));g.signal.addEventListener("abort",I);let{results:D,loaderResults:P,fetcherResults:L}=await _e(R.matches,S,C,T,E);if(g.signal.aborted)return;g.signal.removeEventListener("abort",I),W.delete(e),V.delete(e),T.forEach((e=>V.delete(e.key)));let M=be(D);if(M){if(M.idx>=C.length){let e=T[M.idx-C.length].key;K.add(e)}return pe(R,M.result)}let{loaderData:j,errors:U}=me(R,R.matches,C,P,void 0,T,L,se);if(R.fetchers.has(e)){let t=Le(b.data);R.fetchers.set(e,t)}ze(k),"loading"===R.navigation.state&&k>q?(c(O,"Expected pending action"),N&&N.abort(),de(R.navigation.location,{matches:S,loaderData:j,errors:U,fetchers:new Map(R.fetchers)})):(ce({errors:U,loaderData:ge(R.loaderData,j,S,U),fetchers:new Map(R.fetchers)}),F=!1)}(e,n,v,_,g,l,y):(G.set(e,{routeId:n,path:v}),async function(e,n,r,i,o,a,l){let u=R.fetchers.get(e);xe(e,Pe(l,u?u.data:void 0),{flushSync:a});let d=new AbortController,f=he(t.history,r,d.signal);V.set(e,d);let g=H,v=await ue("loader",f,i,o,h,s,p,m.v7_relativeSplatPath);Ee(v)&&(v=await Ie(v,f.signal,!0)||v);V.get(e)===d&&V.delete(e);if(f.signal.aborted)return;if(ne.has(e))return void xe(e,Le(void 0));if(Se(v))return q>g?void xe(e,Le(void 0)):(K.add(e),void await pe(R,v));if(Ae(v))return void Ne(e,n,v.error);c(!Ee(v),"Unhandled fetcher deferred data"),xe(e,Le(v.data))}(e,n,v,_,g,l,y))},revalidate:function(){ke(),ce({revalidation:"loading"}),"submitting"!==R.navigation.state&&("idle"!==R.navigation.state?fe(O||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation}):fe(R.historyAction,R.location,{startUninterruptedRevalidation:!0}))},createHref:e=>t.history.createHref(e),encodeLocation:e=>t.history.encodeLocation(e),getFetcher:Me,deleteFetcher:function(e){if(m.v7_fetcherPersist){let t=(Q.get(e)||0)-1;t<=0?(Q.delete(e),ne.add(e)):Q.set(e,t)}else je(e);ce({fetchers:new Map(R.fetchers)})},dispose:function(){v&&v(),j&&j(),b.clear(),N&&N.abort(),R.fetchers.forEach(((e,t)=>je(t))),R.blockers.forEach(((e,t)=>Ve(t)))},getBlocker:function(e,t){let n=R.blockers.get(e)||$;return ae.get(e)!==t&&ae.set(e,t),n},deleteBlocker:Ve,_internalFetchControllers:V,_internalActiveDeferreds:se,_internalSetRoutes:function(e){h={},o=y(e,s,void 0,h)}},C}Symbol("deferred");function re(e,t,n,r,i,s,o,a){let l,c;if(o){l=[];for(let e of t)if(l.push(e),e.route.id===o){c=e;break}}else l=t,c=t[t.length-1];let u=j(i||".",M(l,s),D(e.pathname,n)||e.pathname,"path"===a);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!c||!c.route.index||Ne(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(u.pathname="/"===u.pathname?n:U([n,u.pathname])),f(u)}function ie(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!xe(r.formMethod))return{path:n,error:we(405,{method:r.formMethod})};let i,s,o=()=>({path:n,error:we(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=e?a.toUpperCase():a.toLowerCase(),u=_e(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Ce(l))return o();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Ce(l))return o();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(m){return o()}}}if(c("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=de(r.formData),s=r.formData;else if(r.body instanceof FormData)i=de(r.body),s=r.body;else if(r.body instanceof URLSearchParams)i=r.body,s=fe(i);else if(null==r.body)i=new URLSearchParams,s=new FormData;else try{i=new URLSearchParams(r.body),s=fe(i)}catch(m){return o()}let h={formMethod:l,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Ce(h.formMethod))return{path:n,submission:h};let d=p(n);return t&&d.search&&Ne(d.search)&&i.append("index",""),d.search="?"+i,{path:f(d),submission:h}}function se(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function oe(e,t,n,r,i,s,o,l,c,u,h,d,f,p,m,g){let v=g?Object.values(g)[0]:m?Object.values(m)[0]:void 0,y=e.createURL(t.location),b=e.createURL(i),_=g?Object.keys(g)[0]:void 0,E=se(n,_).filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(s)return!!i.loader.hydrate||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||l.some((t=>t===e.route.id)))return!0;let c=t.matches[n],u=e;return le(e,a({currentUrl:y,currentParams:c.params,nextUrl:b,nextParams:u.params},r,{actionResult:v,defaultShouldRevalidate:o||y.pathname+y.search===b.pathname+b.search||y.search!==b.search||ae(c,u)}))})),A=[];return h.forEach(((e,i)=>{if(s||!n.some((t=>t.route.id===e.routeId))||u.has(i))return;let l=w(f,e.path,p);if(!l)return void A.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let h=t.fetchers.get(i),m=Re(l,e.path),g=!1;g=!d.has(i)&&(!!c.includes(i)||(h&&"idle"!==h.state&&void 0===h.data?o:le(m,a({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:o})))),g&&A.push({key:i,routeId:e.routeId,path:e.path,matches:l,match:m,controller:new AbortController})})),[E,A]}function ae(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function le(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function ce(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];c(i,"No route found in manifest");let s={};for(let o in r){let e=void 0!==i[o]&&"hasErrorBoundary"!==o;u(!e,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+o+'" will be ignored.'),e||v.has(o)||(s[o]=r[o])}Object.assign(i,s),Object.assign(i,a({},t(i),{lazy:void 0}))}async function ue(e,t,n,r,i,s,o,a,l){let u,h,d;void 0===l&&(l={});let f=e=>{let r,i=new Promise(((e,t)=>r=t));return d=()=>r(),t.signal.addEventListener("abort",d),Promise.race([e({request:t,params:n.params,context:l.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([f(r).catch((t=>{e=t})),ce(n.route,s,i)]);if(e)throw e;h=t[0]}else{if(await ce(n.route,s,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw we(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:g.data,data:void 0}}h=await f(r)}else{if(!r){let e=new URL(t.url);throw we(404,{pathname:e.pathname+e.search})}h=await f(r)}c(void 0!==h,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(v){u=g.error,h=v}finally{d&&t.signal.removeEventListener("abort",d)}if(ke(h)){let e,i=h.status;if(Q.has(i)){let e=h.headers.get("Location");if(c(e,"Redirects returned/thrown from loaders/actions must have a Location header"),Z.test(e)){if(!l.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=D(r.pathname,o);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=re(new URL(t.url),r.slice(0,r.indexOf(n)+1),o,!0,e,a);if(l.isStaticRequest)throw h.headers.set("Location",e),h;return{type:g.redirect,status:i,location:e,revalidate:null!==h.headers.get("X-Remix-Revalidate"),reloadDocument:null!==h.headers.get("X-Remix-Reload-Document")}}if(l.isRouteRequest){throw{type:u===g.error?g.error:g.data,response:h}}try{let t=h.headers.get("Content-Type");e=t&&/\bapplication\/json\b/.test(t)?await h.json():await h.text()}catch(v){return{type:g.error,error:v}}return u===g.error?{type:u,error:new V(i,h.statusText,e),headers:h.headers}:{type:g.data,data:e,statusCode:h.status,headers:h.headers}}return u===g.error?{type:u,error:h}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(h)?{type:g.deferred,deferredData:h,statusCode:null==(p=h.init)?void 0:p.status,headers:(null==(m=h.init)?void 0:m.headers)&&new Headers(h.init.headers)}:{type:g.data,data:h};var p,m}function he(e,t,n,r){let i=e.createURL(_e(t)).toString(),s={signal:n};if(r&&Ce(r.formMethod)){let{formMethod:e,formEncType:t}=r;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(r.json)):"text/plain"===t?s.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?s.body=de(r.formData):s.body=r.formData}return new Request(i,s)}function de(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function fe(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function pe(e,t,n,r,i){let s,o={},a=null,l=!1,u={};return n.forEach(((n,h)=>{let d=t[h].route.id;if(c(!Se(n),"Cannot handle redirect results in processLoaderData"),Ae(n)){let t=ve(e,d),i=n.error;r&&(i=Object.values(r)[0],r=void 0),a=a||{},null==a[t.route.id]&&(a[t.route.id]=i),o[d]=void 0,l||(l=!0,s=H(n.error)?n.error.status:500),n.headers&&(u[d]=n.headers)}else Ee(n)?(i.set(d,n.deferredData),o[d]=n.deferredData.data):o[d]=n.data,null==n.statusCode||200===n.statusCode||l||(s=n.statusCode),n.headers&&(u[d]=n.headers)})),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:u}}function me(e,t,n,r,i,s,o,l){let{loaderData:u,errors:h}=pe(t,n,r,i,l);for(let d=0;d<s.length;d++){let{key:t,match:n,controller:r}=s[d];c(void 0!==o&&void 0!==o[d],"Did not find corresponding fetcher result");let i=o[d];if(!r||!r.signal.aborted)if(Ae(i)){let r=ve(e.matches,null==n?void 0:n.route.id);h&&h[r.route.id]||(h=a({},h,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(Se(i))c(!1,"Unhandled fetcher revalidation redirect");else if(Ee(i))c(!1,"Unhandled fetcher deferred data");else{let n=Le(i.data);e.fetchers.set(t,n)}}return{loaderData:u,errors:h}}function ge(e,t,n,r){let i=a({},t);for(let s of n){let n=s.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&s.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function ve(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function ye(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function we(e,t){let{pathname:n,routeId:r,method:i,type:s}=void 0===t?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===s?a="defer() is not supported in actions":"invalid-body"===s&&(a="Unable to encode submission body")):403===e?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):404===e?(o="Not Found",a='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new V(e||500,o,new Error(a),!0)}function be(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Se(n))return{result:n,idx:t}}}function _e(e){return f(a({},"string"===typeof e?p(e):e,{hash:""}))}function Ee(e){return e.type===g.deferred}function Ae(e){return e.type===g.error}function Se(e){return(e&&e.type)===g.redirect}function ke(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function xe(e){return G.has(e.toLowerCase())}function Ce(e){return W.has(e.toLowerCase())}async function Te(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=t[o];if(!l)continue;let u=e.find((e=>e.route.id===l.route.id)),h=null!=u&&!ae(u,l)&&void 0!==(s&&s[l.route.id]);if(Ee(a)&&(i||h)){let e=r[o];c(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Ie(a,e,i).then((e=>{e&&(n[o]=e||n[o])}))}}}async function Ie(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:g.data,data:e.deferredData.unwrappedData}}catch(r){return{type:g.error,error:r}}return{type:g.data,data:e.deferredData.data}}}function Ne(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Re(e,t){let n="string"===typeof t?p(t).search:t.search;if(e[e.length-1].route.index&&Ne(n||""))return e[e.length-1];let r=L(e);return r[r.length-1]}function Oe(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=s?{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function De(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Pe(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Le(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}const je=t.createContext(null);const Ue=t.createContext(null);const Fe=t.createContext(null);const Be=t.createContext(null);const ze=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Ve=t.createContext(null);function He(){return null!=t.useContext(Be)}function qe(){return He()||c(!1),t.useContext(Be).location}function We(e){t.useContext(Fe).static||t.useLayoutEffect(e)}function Ke(){let{isDataRoute:e}=t.useContext(ze);return e?function(){let{router:e}=it(nt.UseNavigateStable),n=ot(rt.UseNavigateStable),r=t.useRef(!1);We((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Me({fromRouteId:n},i)))}),[e,n]);return i}():function(){He()||c(!1);let e=t.useContext(je),{basename:n,future:r,navigator:i}=t.useContext(Fe),{matches:s}=t.useContext(ze),{pathname:o}=qe(),a=JSON.stringify(M(s,r.v7_relativeSplatPath)),l=t.useRef(!1);return We((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=j(t,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:U([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,a,o,e])}()}const Ge=t.createContext(null);function Qe(){let{matches:e}=t.useContext(ze),n=e[e.length-1];return n?n.params:{}}function Ye(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(Fe),{matches:s}=t.useContext(ze),{pathname:o}=qe(),a=JSON.stringify(M(s,i.v7_relativeSplatPath));return t.useMemo((()=>j(e,JSON.parse(a),o,"path"===r)),[e,a,o,r])}function Xe(n,r,i,s){He()||c(!1);let{navigator:o}=t.useContext(Fe),{matches:a}=t.useContext(ze),l=a[a.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=qe();if(r){var m;let e="string"===typeof r?p(r):r;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||c(!1),d=e}else d=f;let g=d.pathname||"/",v=w(n,{pathname:"/"===h?g:g.slice(h.length)||"/"});let y=tt(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:U([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:U([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,s);return r&&y?t.createElement(Be.Provider,{value:{location:Me({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},y):y}function Je(){let e=function(){var e;let n=t.useContext(Ve),r=st(rt.UseRouteError),i=ot(rt.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const $e=t.createElement(Je,null);class Ze extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(ze.Provider,{value:this.props.routeContext},t.createElement(Ve.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function et(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(je);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ze.Provider,{value:n},i)}function tt(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}let a=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,c=!1,d=null,f=null;var p;r&&(o=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||$e,u&&(h<0&&0===s?(p="route-fallback",!1||at[p]||(at[p]=!0),c=!0,f=null):h===s&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,s+1)),g=()=>{let n;return n=o?d:c?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(et,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(Ze,{location:r.location,revalidation:r.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var nt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nt||{}),rt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rt||{});function it(e){let n=t.useContext(je);return n||c(!1),n}function st(e){let n=t.useContext(Ue);return n||c(!1),n}function ot(e){let n=function(e){let n=t.useContext(ze);return n||c(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const at={};r.startTransition;function lt(e){let{to:n,replace:r,state:i,relative:s}=e;He()||c(!1);let{future:o,static:a}=t.useContext(Fe),{matches:l}=t.useContext(ze),{pathname:u}=qe(),h=Ke(),d=j(n,M(l,o.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(d);return t.useEffect((()=>h(JSON.parse(f),{replace:r,state:i,relative:s})),[h,f,s,r,i]),null}function ct(e){return function(e){let n=t.useContext(ze).outlet;return n?t.createElement(Ge.Provider,{value:e},n):n}(e.context)}function ut(e){c(!1)}function ht(n){let{basename:r="/",children:i=null,location:s,navigationType:o=e.Pop,navigator:a,static:l=!1,future:u}=n;He()&&c(!1);let h=r.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:h,navigator:a,static:l,future:Me({v7_relativeSplatPath:!1},u)})),[h,u,a,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,w=t.useMemo((()=>{let e=D(f,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:o}}),[h,f,m,g,v,y,o]);return null==w?null:t.createElement(Fe.Provider,{value:d},t.createElement(Be.Provider,{children:i,value:w}))}new Promise((()=>{}));t.Component;function dt(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,dt(e.props.children,s));e.type!==ut&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=dt(e.props.children,s)),r.push(o)})),r}function ft(e){let n={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(n,{element:t.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:t.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:t.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}function mt(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const gt="get",vt="application/x-www-form-urlencoded";function yt(e){return null!=e&&"string"===typeof e.tagName}let wt=null;const bt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _t(e){return null==e||bt.has(e)?e:null}function Et(e,t){let n,r,i,s,o;if(yt(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?D(o,t):null,n=e.getAttribute("method")||gt,i=_t(e.getAttribute("enctype"))||vt,s=new FormData(e)}else if(function(e){return yt(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return yt(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?D(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||gt,i=_t(e.getAttribute("formenctype"))||_t(o.getAttribute("enctype"))||vt,s=new FormData(o,e),!function(){if(null===wt)try{new FormData(document.createElement("form"),0),wt=!1}catch(e){wt=!0}return wt}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?t+".":"";s.append(e+"x","0"),s.append(e+"y","0")}else t&&s.append(t,r)}}else{if(yt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gt,r=null,i=vt,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}const At=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],St=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"];function kt(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=pt({},t,{errors:xt(t.errors)})),t}function xt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,s]of t)if(s&&"RouteErrorResponse"===s.__type)n[i]=new V(s.status,s.statusText,s.data,!0===s.internal);else if(s&&"Error"===s.__type){if(s.__subType){let e=window[s.__subType];if("function"===typeof e)try{let t=new e(s.message);t.stack="",n[i]=t}catch(r){}}if(null==n[i]){let e=new Error(s.message);e.stack="",n[i]=e}}else n[i]=s;return n}const Ct=t.createContext({isTransitioning:!1});const Tt=t.createContext(new Map);const It=r.startTransition,Nt=o.flushSync;function Rt(e){Nt?Nt(e):e()}class Ot{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Dt(e){let{fallbackElement:n,router:r,future:i}=e,[s,o]=t.useState(r.state),[a,l]=t.useState(),[c,u]=t.useState({isTransitioning:!1}),[h,d]=t.useState(),[f,p]=t.useState(),[m,g]=t.useState(),v=t.useRef(new Map),{v7_startTransition:y}=i||{},w=t.useCallback((e=>{y?function(e){It?It(e):e()}(e):e()}),[y]),b=t.useCallback(((e,t)=>{let{deletedFetchers:n,unstable_flushSync:i,unstable_viewTransitionOpts:s}=t;n.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let a=null==r.window||"function"!==typeof r.window.document.startViewTransition;if(s&&!a){if(i){Rt((()=>{f&&(h&&h.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:s.currentLocation,nextLocation:s.nextLocation})}));let t=r.window.document.startViewTransition((()=>{Rt((()=>o(e)))}));return t.finished.finally((()=>{Rt((()=>{d(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}))})),void Rt((()=>p(t)))}f?(h&&h.resolve(),f.skipTransition(),g({state:e,currentLocation:s.currentLocation,nextLocation:s.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:s.currentLocation,nextLocation:s.nextLocation}))}else i?Rt((()=>o(e))):w((()=>o(e)))}),[r.window,f,h,v,w]);t.useLayoutEffect((()=>r.subscribe(b)),[r,b]),t.useEffect((()=>{c.isTransitioning&&!c.flushSync&&d(new Ot)}),[c]),t.useEffect((()=>{if(h&&a&&r.window){let e=a,t=h.promise,n=r.window.document.startViewTransition((async()=>{w((()=>o(e))),await t}));n.finished.finally((()=>{d(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})),p(n)}}),[w,a,h,r.window]),t.useEffect((()=>{h&&a&&s.location.key===a.location.key&&h.resolve()}),[h,f,s.location,a]),t.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]),t.useEffect((()=>{}),[]);let _=t.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),E=r.basename||"/",A=t.useMemo((()=>({router:r,navigator:_,static:!1,basename:E})),[r,_,E]);return t.createElement(t.Fragment,null,t.createElement(je.Provider,{value:A},t.createElement(Ue.Provider,{value:s},t.createElement(Tt.Provider,{value:v.current},t.createElement(Ct.Provider,{value:c},t.createElement(ht,{basename:E,location:s.location,navigationType:s.historyAction,navigator:_,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},s.initialized||r.future.v7_partialHydration?t.createElement(Pt,{routes:r.routes,future:r.future,state:s}):n))))),null)}function Pt(e){let{routes:t,future:n,state:r}=e;return Xe(t,void 0,r,n)}const Lt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Mt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:u,to:h,preventScrollReset:d,unstable_viewTransition:p}=e,m=mt(e,At),{basename:g}=t.useContext(Fe),v=!1;if("string"===typeof h&&Mt.test(h)&&(r=h,Lt))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=D(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(b){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;He()||c(!1);let{basename:i,navigator:s}=t.useContext(Fe),{hash:o,pathname:a,search:l}=Ye(e,{relative:r}),u=a;return"/"!==i&&(u="/"===a?i:U([i,a])),s.createHref({pathname:u,search:l,hash:o})}(h,{relative:s}),w=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=Ke(),u=qe(),h=Ye(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,s,r,e,o,a,l])}(h,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,unstable_viewTransition:p});return t.createElement("a",pt({},m,{href:r||y,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:n,target:u}))}));const Ut=t.forwardRef(((e,n)=>{let{fetcherKey:r,navigate:i,reloadDocument:s,replace:o,state:a,method:l=gt,action:u,onSubmit:h,relative:d,preventScrollReset:p,unstable_viewTransition:m}=e,g=mt(e,St),v=qt(),y=function(e,n){let{relative:r}=void 0===n?{}:n,{basename:i}=t.useContext(Fe),s=t.useContext(ze);s||c(!1);let[o]=s.matches.slice(-1),a=pt({},Ye(e||".",{relative:r})),l=qe();if(null==e){a.search=l.search;let e=new URLSearchParams(a.search);e.has("index")&&""===e.get("index")&&(e.delete("index"),a.search=e.toString()?"?"+e.toString():"")}e&&"."!==e||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==i&&(a.pathname="/"===a.pathname?i:U([i,a.pathname]));return f(a)}(u,{relative:d}),w="get"===l.toLowerCase()?"get":"post";return t.createElement("form",pt({ref:n,method:w,action:y,onSubmit:s?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null==t?void 0:t.getAttribute("formmethod"))||l;v(t||e.currentTarget,{fetcherKey:r,method:n,navigate:i,replace:o,state:a,relative:d,preventScrollReset:p,unstable_viewTransition:m})}},g))}));var Ft,Bt;function zt(e){let n=t.useContext(je);return n||c(!1),n}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ft||(Ft={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Bt||(Bt={}));let Vt=0,Ht=()=>"__"+String(++Vt)+"__";function qt(){let{router:e}=zt(Ft.UseSubmit),{basename:n}=t.useContext(Fe),r=ot(rt.UseRouteId);return t.useCallback((function(t,i){void 0===i&&(i={}),function(){if("undefined"===typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}();let{action:s,method:o,encType:a,formData:l,body:c}=Et(t,n);if(!1===i.navigate){let t=i.fetcherKey||Ht();e.fetch(t,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,unstable_flushSync:i.unstable_flushSync})}else e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,unstable_flushSync:i.unstable_flushSync,unstable_viewTransition:i.unstable_viewTransition})}),[e,n,r])}var Wt=n(7995),Kt=t,Gt=Symbol.for("react-redux-context"),Qt="undefined"!==typeof globalThis?globalThis:{};function Yt(){var e;if(!Kt.createContext)return{};const t=null!==(e=Qt[Gt])&&void 0!==e?e:Qt[Gt]=new Map;let n=t.get(Kt.createContext);return n||(n=Kt.createContext(null),t.set(Kt.createContext,n)),n}var Xt=Yt(),Jt=()=>{throw new Error("uSES not initialized!")};function $t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;return function(){return Kt.useContext(e)}}var Zt=$t(),en=Jt,tn=(e,t)=>e===t;function nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;const t=e===Xt?Zt:$t(e);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=tn,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:s,subscription:o,getServerState:a,stabilityCheck:l,identityFunctionCheck:c}=t(),u=(Kt.useRef(!0),Kt.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,i.stabilityCheck])),h=en(o.addNestedSub,s.getState,a||s.getState,u,r);return Kt.useDebugValue(h),h}}var rn=nn();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function sn(e){e()}var on={notify(){},get:()=>[]};function an(e,t){let n,r=on,i=0,s=!1;function o(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){sn((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0,i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=on)}const c={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,a())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return c}var ln=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?Kt.useLayoutEffect:Kt.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var cn=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:s="once",identityFunctionCheck:o="once"}=e;const a=Kt.useMemo((()=>{const e=an(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:s,identityFunctionCheck:o}}),[t,i,s,o]),l=Kt.useMemo((()=>t.getState()),[t]);ln((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,l]);const c=n||Xt;return Kt.createElement(c.Provider,{value:a},r)};function un(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;const t=e===Xt?Zt:$t(e);return function(){const{store:e}=t();return e}}var hn=un();function dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;const t=e===Xt?hn:un(e);return function(){return t().dispatch}}var fn,pn=dn();fn=Wt.useSyncExternalStoreWithSelector,en=fn,(e=>{e})(t.useSyncExternalStore);const mn=()=>pn(),gn=rn,vn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},yn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new wn;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class wn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bn=function(e){return function(e){const t=vn(e);return yn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},_n=function(e){try{return yn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const En=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,An=()=>{try{return En()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/message",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_apiKey:"AIzaSyCQDDJ34ShaG57f0PKT9KMd4TimzFRDu6g",REACT_APP_FIREBASE_appId:"1:657302754204:web:d7748e5e03bd49c3842e59",REACT_APP_FIREBASE_authDomain:"dracarix-messager.firebaseapp.com",REACT_APP_FIREBASE_measurementId:"G-3W5YL08V6W",REACT_APP_FIREBASE_messagingSenderId:"657302754204",REACT_APP_FIREBASE_projectId:"dracarix-messager",REACT_APP_FIREBASE_storageBucket:"dracarix-messager.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&_n(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Sn=e=>{var t,n;return null===(n=null===(t=An())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},kn=e=>{const t=Sn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},xn=()=>{var e;return null===(e=An())||void 0===e?void 0:e.config},Cn=e=>{var t;return null===(t=An())||void 0===t?void 0:t["_".concat(e)]};class Tn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function In(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[bn(JSON.stringify({alg:"none",type:"JWT"})),bn(JSON.stringify(s)),""].join(".")}function Nn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Rn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function On(){return!function(){var e;const t=null===(e=An())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dn(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Pn(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(RC){t(RC)}}))}class Ln extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mn.prototype.create)}}class Mn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(jn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ln(n,s,t)}}const jn=/\{\$([^}]+)}/g;function Un(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Fn(n)&&Fn(s)){if(!Un(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fn(e){return null!==e&&"object"===typeof e}function Bn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function zn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Vn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Hn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=qn),void 0===r.error&&(r.error=qn),void 0===r.complete&&(r.complete=qn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function qn(){}const Wn=1e3,Kn=2,Gn=144e5,Qn=.5;function Yn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kn;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wn)*Math.pow(t,e),r=Math.round(Qn*n*(Math.random()-.5)*2);return Math.min(Gn,n+r)}function Xn(e){return e&&e._delegate?e._delegate:e}class Jn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $n="[DEFAULT]";class Zn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Tn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$n})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===$n?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n;return this.component?this.component.multipleInstances?e:$n:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class er{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const tr=[];var nr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(nr||(nr={}));const rr={debug:nr.DEBUG,verbose:nr.VERBOSE,info:nr.INFO,warn:nr.WARN,error:nr.ERROR,silent:nr.SILENT},ir=nr.INFO,sr={[nr.DEBUG]:"log",[nr.VERBOSE]:"log",[nr.INFO]:"info",[nr.WARN]:"warn",[nr.ERROR]:"error"},or=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=sr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ar{constructor(e){this.name=e,this._logLevel=ir,this._logHandler=or,this._userLogHandler=null,tr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?rr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nr.DEBUG,...t),this._logHandler(this,nr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nr.VERBOSE,...t),this._logHandler(this,nr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nr.INFO,...t),this._logHandler(this,nr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nr.WARN,...t),this._logHandler(this,nr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nr.ERROR,...t),this._logHandler(this,nr.ERROR,...t)}}const lr=(e,t)=>t.some((t=>e instanceof t));let cr,ur;const hr=new WeakMap,dr=new WeakMap,fr=new WeakMap,pr=new WeakMap,mr=new WeakMap;let gr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return dr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||fr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function vr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ur||(ur=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(br(this),n),wr(hr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wr(e.apply(br(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(br(this),t,...r);return fr.set(s,t.sort?t.sort():[t]),wr(s)}}function yr(e){return"function"===typeof e?vr(e):(e instanceof IDBTransaction&&function(e){if(dr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));dr.set(e,t)}(e),lr(e,cr||(cr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,gr):e)}function wr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(wr(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&hr.set(t,e)})).catch((()=>{})),mr.set(t,e),t}(e);if(pr.has(e))return pr.get(e);const t=yr(e);return t!==e&&(pr.set(e,t),mr.set(t,e)),t}const br=e=>mr.get(e);function _r(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=wr(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(wr(o.result),e.oldVersion,e.newVersion,wr(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const Er=["get","getKey","getAll","getAllKeys","count"],Ar=["put","add","delete","clear"],Sr=new Map;function kr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Sr.get(t))return Sr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ar.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Er.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Sr.set(t,s),s}gr=(e=>({...e,get:(t,n,r)=>kr(t,n)||e.get(t,n,r),has:(t,n)=>!!kr(t,n)||e.has(t,n)}))(gr);class xr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Cr="@firebase/app",Tr="0.9.29",Ir=new ar("@firebase/app"),Nr="[DEFAULT]",Rr={[Cr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Or=new Map,Dr=new Map;function Pr(e,t){try{e.container.addComponent(t)}catch(n){Ir.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Lr(e){const t=e.name;if(Dr.has(t))return Ir.debug("There were multiple attempts to register component ".concat(t,".")),!1;Dr.set(t,e);for(const n of Or.values())Pr(n,e);return!0}function Mr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const jr=new Mn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ur{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Jn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const Fr="10.9.0";function Br(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Nr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=xn()),!n)throw jr.create("no-options");const s=Or.get(i);if(s){if(Un(n,s.options)&&Un(r,s.config))return s;throw jr.create("duplicate-app",{appName:i})}const o=new er(i);for(const l of Dr.values())o.addComponent(l);const a=new Ur(n,r,o);return Or.set(i,a),a}function zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr;const t=Or.get(e);if(!t&&e===Nr&&xn())return Br();if(!t)throw jr.create("no-app",{appName:e});return t}function Vr(e,t,n){var r;let i=null!==(r=Rr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ir.warn(e.join(" "))}Lr(new Jn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Hr="firebase-heartbeat-database",qr=1,Wr="firebase-heartbeat-store";let Kr=null;function Gr(){return Kr||(Kr=_r(Hr,qr,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Wr)}catch(n){console.warn(n)}}}).catch((e=>{throw jr.create("idb-open",{originalErrorMessage:e.message})}))),Kr}async function Qr(e,t){try{const n=(await Gr()).transaction(Wr,"readwrite"),r=n.objectStore(Wr);await r.put(t,Yr(e)),await n.done}catch(n){if(n instanceof Ln)Ir.warn(n.message);else{const e=jr.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Ir.warn(e.message)}}}function Yr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Xr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $r(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Jr();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Jr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Zr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=bn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Jr(){return(new Date).toISOString().substring(0,10)}class $r{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Dn()&&Pn().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Gr()).transaction(Wr),n=await t.objectStore(Wr).get(Yr(e));return await t.done,n}catch(t){if(t instanceof Ln)Ir.warn(t.message);else{const e=jr.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Ir.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Qr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Qr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Zr(e){return bn(JSON.stringify({version:2,heartbeats:e})).length}var ei;ei="",Lr(new Jn("platform-logger",(e=>new xr(e)),"PRIVATE")),Lr(new Jn("heartbeat",(e=>new Xr(e)),"PRIVATE")),Vr(Cr,Tr,ei),Vr(Cr,Tr,"esm2017"),Vr("fire-js","");function ti(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ni(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ri=ni,ii=new Mn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),si=new ar("@firebase/auth");function oi(e){if(si.logLevel<=nr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];si.error("Auth (".concat(Fr,"): ").concat(e),...n)}}function ai(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ui(e,...n)}function li(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ui(e,...n)}function ci(e,t,n){const r=Object.assign(Object.assign({},ri()),{[t]:n});return new Mn("auth","Firebase",r).create(t,{appName:e.name})}function ui(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ii.create(e,...n)}function hi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ui(t,...r)}}function di(e){const t="INTERNAL ASSERTION FAILED: "+e;throw oi(t),new Error(t)}function fi(e,t){e||di(t)}function pi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mi(){return"http:"===gi()||"https:"===gi()}function gi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class vi{constructor(e,t){this.shortDelay=e,this.longDelay=t,fi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mi()||Rn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function yi(e,t){fi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class wi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_i=new vi(3e4,6e4);function Ei(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ai(e,t,n,r){return Si(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Bn(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),wi.fetch()(xi(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Si(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},bi),t);try{const t=new Ti(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ii(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ii(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ii(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ii(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ci(e,a,o);ai(e,a)}}catch(i){if(i instanceof Ln)throw i;ai(e,"network-request-failed",{message:String(i)})}}async function ki(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ai(e,t,n,r,i);return"mfaPendingCredential"in s&&ai(e,"multi-factor-auth-required",{_serverResponse:s}),s}function xi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?yi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ci(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ti{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(li(this.auth,"network-request-failed"))),_i.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ii(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=li(e,t,r);return i.customData._tokenResponse=n,i}function Ni(e){return void 0!==e&&void 0!==e.enterprise}class Ri{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ci(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Oi(e,t){return Ai(e,"GET","/v2/recaptchaConfig",Ei(e,t))}function Di(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Pi(e){return 1e3*Number(e)}function Li(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return oi("JWT malformed, contained fewer than 3 sections"),null;try{const e=_n(n);return e?JSON.parse(e):(oi("Failed to decode base64 JWT payload"),null)}catch(i){return oi("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Mi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Ln&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ji{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ui{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Mi(e,async function(e,t){return Ai(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));hi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=ti(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ui(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class Bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){hi(e.idToken,"internal-error"),hi("undefined"!==typeof e.idToken,"internal-error"),hi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Li(e);return hi(t,"internal-error"),hi("undefined"!==typeof t.exp,"internal-error"),hi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hi(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Si(e,{},(async()=>{const n=Bn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=xi(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",wi.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Bi;return n&&(hi("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(hi("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(hi("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bi,this.toJSON())}_performRefresh(){return di("not implemented")}}function zi(e,t){hi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Vi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ti(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ji(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ui(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Mi(this,this.stsTokenManager.getToken(this.auth,e));return hi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Xn(e),r=await n.getIdToken(t),i=Li(r);hi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Di(Pi(i.auth_time)),issuedAtTime:Di(Pi(i.iat)),expirationTime:Di(Pi(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Xn(e);await Fi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(hi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){hi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Fi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Mi(this,async function(e,t){return Ai(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;hi(y&&E,e,"internal-error");const A=Bi.fromJSON(this.name,E);hi("string"===typeof y,e,"internal-error"),zi(u,e.name),zi(h,e.name),hi("boolean"===typeof w,e,"internal-error"),hi("boolean"===typeof b,e,"internal-error"),zi(d,e.name),zi(f,e.name),zi(p,e.name),zi(m,e.name),zi(g,e.name),zi(v,e.name);const S=new Vi({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:A,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Bi;r.updateFromServerResponse(t);const i=new Vi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Fi(i),i}}const Hi=new Map;function qi(e){fi(e instanceof Function,"Expected a class definition");let t=Hi.get(e);return t?(fi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hi.set(e,t),t)}class Wi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wi.type="NONE";const Ki=Wi;function Gi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Qi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Gi(this.userKey,r.apiKey,i),this.fullPersistenceKey=Gi("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Qi(qi(Ki),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||qi(Ki);const s=Gi(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Vi._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Qi(i,e,n)):new Qi(i,e,n)}}function Yi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ts(t))return"Blackberry";if(ns(t))return"Webos";if(Ji(t))return"Safari";if((t.includes("chrome/")||$i(t))&&!t.includes("edge/"))return"Chrome";if(es(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn();return/firefox\//i.test(e)}function Ji(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn();return/crios\//i.test(e)}function Zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn();return/iemobile/i.test(e)}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn();return/android/i.test(e)}function ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn();return/blackberry/i.test(e)}function ns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn();return/webos/i.test(e)}function rs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function is(){return function(){const e=Nn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn();return rs(e)||es(e)||ns(e)||ts(e)||/windows phone/i.test(e)||Zi(e)}function os(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Yi(Nn());break;case"Worker":t="".concat(Yi(Nn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Fr,"/").concat(r)}class as{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ls{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class cs{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hs(this),this.idTokenSubscription=new hs(this),this.beforeStateQueue=new as(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ii,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qi(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Qi.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return hi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fi(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Xn(e):null;return t&&hi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&hi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(qi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ai(e,"GET","/v2/passwordPolicy",Ei(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ls(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ai(e,"POST","/v2/accounts:revokeToken",Ei(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qi(e)||this._popupRedirectResolver;hi(t,this,"argument-error"),this.redirectPersistenceManager=await Qi.create(this,[qi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(hi(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return hi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=os(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(si.logLevel<=nr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];si.warn("Auth (".concat(Fr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function us(e){return Xn(e)}class hs{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Hn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return hi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ds={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fs(e){return ds.loadJS(e)}function ps(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ms{constructor(e){this.type="recaptcha-enterprise",this.auth=us(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ni(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Oi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ri(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ni(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ds.recaptchaEnterpriseScript;0!==t.length&&(t+=i),fs(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function gs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ms(e);let s;try{s=await i.verify(n)}catch(RC){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function vs(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await gs(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await gs(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function ys(e,t,n){const r=us(e);hi(r._canInitEmulator,r,"emulator-config-failed"),hi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ws(t),{host:o,port:a}=function(e){const t=ws(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:bs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:bs(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ws(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function bs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class _s{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,t){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function Es(e,t){return Ai(e,"POST","/v1/accounts:signUp",t)}async function As(e,t){return ki(e,"POST","/v1/accounts:signInWithPassword",Ei(e,t))}class Ss extends _s{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ss(e,t,"password")}static _fromEmailAndCode(e,t){return new Ss(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return vs(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",As);case"emailLink":return async function(e,t){return ki(e,"POST","/v1/accounts:signInWithEmailLink",Ei(e,t))}(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return vs(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Es);case"emailLink":return async function(e,t){return ki(e,"POST","/v1/accounts:signInWithEmailLink",Ei(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ks(e,t){return ki(e,"POST","/v1/accounts:signInWithIdp",Ei(e,t))}class xs extends _s{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ti(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new xs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ks(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ks(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bn(t)}return e}}const Cs={USER_NOT_FOUND:"user-not-found"};class Ts extends _s{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ts({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ts({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ki(e,"POST","/v1/accounts:signInWithPhoneNumber",Ei(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ki(e,"POST","/v1/accounts:signInWithPhoneNumber",Ei(e,t));if(n.temporaryProof)throw Ii(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ki(e,"POST","/v1/accounts:signInWithPhoneNumber",Ei(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Cs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ts({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Is{constructor(e){var t,n,r,i,s,o;const a=zn(Vn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);hi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=zn(Vn(e)).link,n=t?zn(Vn(t)).deep_link_id:null,r=zn(Vn(e)).deep_link_id;return(r?zn(Vn(r)).link:null)||r||n||t||e}(e);try{return new Is(t)}catch(n){return null}}}class Ns{constructor(){this.providerId=Ns.PROVIDER_ID}static credential(e,t){return Ss._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Is.parseLink(t);return hi(n,"argument-error"),Ss._fromEmailAndCode(e,n.code,n.tenantId)}}Ns.PROVIDER_ID="password",Ns.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ns.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Os extends Rs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ds extends Os{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ds.credential(t.oauthAccessToken)}catch(n){return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ds.PROVIDER_ID="facebook.com";class Ps extends Os{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xs._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ps.credential(n,r)}catch(i){return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com",Ps.PROVIDER_ID="google.com";class Ls extends Os{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch(n){return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com",Ls.PROVIDER_ID="github.com";class Ms extends Os{constructor(){super("twitter.com")}static credential(e,t){return xs._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ms.credential(n,r)}catch(i){return null}}}async function js(e,t){return ki(e,"POST","/v1/accounts:signUp",Ei(e,t))}Ms.TWITTER_SIGN_IN_METHOD="twitter.com",Ms.PROVIDER_ID="twitter.com";class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Vi._fromIdTokenResponse(e,n,r),s=Fs(n);return new Us({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Fs(n);return new Us({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Fs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Bs extends Ln{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Bs.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Bs(e,t,n,r)}}function zs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Bs._fromErrorAndOperation(e,n,t,r);throw n}))}async function Vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Mi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Us._forOperation(e,"link",r)}async function Hs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Mi(e,zs(r,i,t,e),n);hi(s.idToken,r,"internal-error");const o=Li(s.idToken);hi(o,r,"internal-error");const{sub:a}=o;return hi(e.uid===a,r,"user-mismatch"),Us._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&ai(r,"user-mismatch"),s}}async function qs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await zs(e,r,t),s=await Us._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ws(e,t){return qs(us(e),t)}async function Ks(e,t){return Hs(Xn(e),t)}async function Gs(e){const t=us(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Qs(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Xn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Mi(i,async function(e,t){return Ai(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function Ys(e,t){return Xn(e).setPersistence(t)}function Xs(e,t,n,r){return Xn(e).onAuthStateChanged(t,n,r)}function Js(e){return Xn(e).signOut()}new WeakMap;const $s="__sak";class Zs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($s,"1"),this.storage.removeItem($s),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class eo extends Zs{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Nn();return Ji(e)||rs(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ss(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);is()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eo.type="LOCAL";const to=eo;class no extends Zs{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}no.type="SESSION";const ro=no;class io{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new io(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function so(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}io.receivers=[];class oo{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=so("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ao(){return window}function lo(){return"undefined"!==typeof ao().WorkerGlobalScope&&"function"===typeof ao().importScripts}const co="firebaseLocalStorageDb",uo="firebaseLocalStorage",ho="fbase_key";class fo{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function po(e,t){return e.transaction([uo],t?"readwrite":"readonly").objectStore(uo)}function mo(){const e=indexedDB.open(co,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(uo,{keyPath:ho})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(uo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(co);return new fo(e).toPromise()}(),t(await mo()))}))}))}async function go(e,t,n){const r=po(e,!0).put({[ho]:t,value:n});return new fo(r).toPromise()}function vo(e,t){const n=po(e,!0).delete(t);return new fo(n).toPromise()}class yo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await mo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=io._getInstance(lo()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new oo(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mo();return await go(e,$s,"1"),await vo(e,$s),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>go(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=po(e,!1).get(t),r=await new fo(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>vo(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=po(e,!1).getAll();return new fo(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}yo.type="LOCAL";const wo=yo;ps("rcb"),new vi(3e4,6e4);const bo="recaptcha";async function _o(e,t,n){var r;const i=await n.verify();try{let s;if(hi("string"===typeof i,e,"argument-error"),hi(n.type===bo,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){hi("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ai(e,"POST","/v2/accounts/mfaEnrollment:start",Ei(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{hi("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;hi(n,e,"missing-multi-factor-info");const o=await function(e,t){return Ai(e,"POST","/v2/accounts/mfaSignIn:start",Ei(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ai(e,"POST","/v1/accounts:sendVerificationCode",Ei(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Eo{constructor(e){this.providerId=Eo.PROVIDER_ID,this.auth=us(e)}verifyPhoneNumber(e,t){return _o(this.auth,e,Xn(t))}static credential(e,t){return Ts._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Eo.credentialFromTaggedObject(t)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ts._fromTokenResponse(n,r):null}}function Ao(e,t){return t?qi(t):(hi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Eo.PROVIDER_ID="phone",Eo.PHONE_SIGN_IN_METHOD="phone";class So extends _s{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ks(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ks(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ko(e){return qs(e.auth,new So(e),e.bypassAuthState)}function xo(e){const{auth:t,user:n}=e;return hi(n,t,"internal-error"),Hs(n,new So(e),e.bypassAuthState)}async function Co(e){const{auth:t,user:n}=e;return hi(n,t,"internal-error"),Vs(n,new So(e),e.bypassAuthState)}class To{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ko;case"linkViaPopup":case"linkViaRedirect":return Co;case"reauthViaPopup":case"reauthViaRedirect":return xo;default:ai(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Io=new vi(2e3,1e4);class No extends To{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return hi(e,this.auth,"internal-error"),e}async onExecution(){fi(1===this.filter.length,"Popup operations only handle one event");const e=so();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(li(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Io.get())};e()}}No.currentPopupAction=null;const Ro="pendingRedirect",Oo=new Map;class Do extends To{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Oo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Mo(t),r=Lo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Oo.set(this.auth._key(),e)}return this.bypassAuthState||Oo.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Po(e,t){Oo.set(e._key(),t)}function Lo(e){return qi(e._redirectPersistence)}function Mo(e){return Gi(Ro,e.config.apiKey,e.name)}async function jo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=us(e),i=Ao(r,t),s=new Do(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Uo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Bo(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(li(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fo(e))}saveEventToCache(e){this.cachedEventUids.add(Fo(e)),this.lastProcessedEventTime=Date.now()}}function Fo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Bo(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const zo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vo=/^https?/;async function Ho(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ai(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(qo(r))return}catch(n){}ai(e,"unauthorized-domain")}function qo(e){const t=pi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Vo.test(n))return!1;if(zo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Wo=new vi(3e4,6e4);function Ko(){const e=ao().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Go(e){return new Promise(((t,n)=>{var r,i,s;function o(){Ko(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ko(),n(li(e,"network-request-failed"))},timeout:Wo.get()})}if(null===(i=null===(r=ao().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ao().gapi)||void 0===s?void 0:s.load)){const t=ps("iframefcb");return ao()[t]=()=>{gapi.load?o():n(li(e,"network-request-failed"))},fs("".concat(ds.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Qo=null,e}))}let Qo=null;const Yo=new vi(5e3,15e3),Xo="__/auth/iframe",Jo="emulator/auth/iframe",$o={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ea(e){const t=e.config;hi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?yi(t,Jo):"https://".concat(e.config.authDomain,"/").concat(Xo),r={apiKey:t.apiKey,appName:e.name,v:Fr},i=Zo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Bn(r).slice(1))}async function ta(e){const t=await function(e){return Qo=Qo||Go(e),Qo}(e),n=ao().gapi;return hi(n,e,"internal-error"),t.open({where:document.body,url:ea(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$o,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=li(e,"network-request-failed"),s=ao().setTimeout((()=>{r(i)}),Yo.get());function o(){ao().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const na={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ra{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ia(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},na),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Nn().toLowerCase();n&&(a=$i(c)?"_blank":n),Xi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return rs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ra(null);const h=window.open(t||"",a,u);hi(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ra(h)}const sa="__/auth/handler",oa="emulator/auth/handler",aa=encodeURIComponent("fac");async function la(e,t,n,r,i,s){hi(e.config.authDomain,e,"auth-domain-config-required"),hi(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Fr,eventId:i};if(t instanceof Rs){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Os){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(aa,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(sa);return yi(t,oa)}(e),"?").concat(Bn(a).slice(1)).concat(c)}const ca="webStorageSupport";const ua=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ro,this._completeRedirectFn=jo,this._overrideRedirectResult=Po}async _openPopup(e,t,n,r){var i;fi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ia(e,await la(e,t,n,pi(),r),so())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ao().location.href=e}(await la(e,t,n,pi(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(fi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ta(e),n=new Uo(e);return t.register("authEvent",(t=>{hi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ca,{type:ca},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ca];void 0!==i&&t(!!i),ai(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ho(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ss()||Ji()||rs()}};var ha="@firebase/auth",da="1.6.2";class fa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){hi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pa=Cn("authIdTokenMaxAge")||300;let ma=null;function ga(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();const t=Mr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Mr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Un(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ai(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ua,persistence:[wo,to,ro]}),r=Cn("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>pa)return;const r=null===t||void 0===t?void 0:t.token;ma!==r&&(ma=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Xn(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){Xn(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=Sn("auth");return s&&ys(n,"http://".concat(s)),n}var va;!function(e){ds=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=li("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),va="Browser",Lr(new Jn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;hi(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:va,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:os(va)},c=new cs(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Lr(new Jn("auth-internal",(e=>(e=>new fa(e))(us(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(ha,da,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(va)),Vr(ha,da,"esm2017");const ya=()=>{const{email:e,token:t,id:n,fullName:r,firstName:i,lastName:s,photoURL:o}=gn((e=>e.user));return{isAuth:!!e,email:e,token:t,id:n,fullName:r,firstName:i,lastName:s,photoURL:o}};var wa=Symbol.for("immer-nothing"),ba=Symbol.for("immer-draftable"),_a=Symbol.for("immer-state");function Ea(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Aa=Object.getPrototypeOf;function Sa(e){return!!e&&!!e[_a]}function ka(e){var t;return!!e&&(Ca(e)||Array.isArray(e)||!!e[ba]||!(null===(t=e.constructor)||void 0===t||!t[ba])||Oa(e)||Da(e))}var xa=Object.prototype.constructor.toString();function Ca(e){if(!e||"object"!==typeof e)return!1;const t=Aa(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===xa}function Ta(e,t){0===Ia(e)?Object.entries(e).forEach((n=>{let[r,i]=n;t(r,i,e)})):e.forEach(((n,r)=>t(r,n,e)))}function Ia(e){const t=e[_a];return t?t.type_:Array.isArray(e)?1:Oa(e)?2:Da(e)?3:0}function Na(e,t){return 2===Ia(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ra(e,t,n){const r=Ia(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Oa(e){return e instanceof Map}function Da(e){return e instanceof Set}function Pa(e){return e.copy_||e.base_}function La(e,t){if(Oa(e))return new Map(e);if(Da(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Ca(e)){if(!Aa(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[_a];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const t=r[i],s=n[t];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[t]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[t]})}return Object.create(Aa(e),n)}function Ma(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ua(e)||Sa(e)||!ka(e)||(Ia(e)>1&&(e.set=e.add=e.clear=e.delete=ja),Object.freeze(e),t&&Ta(e,((e,t)=>Ma(t,!0)))),e}function ja(){Ea(2)}function Ua(e){return Object.isFrozen(e)}var Fa,Ba={};function za(e){const t=Ba[e];return t||Ea(0),t}function Va(){return Fa}function Ha(e,t){t&&(za("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function qa(e){Wa(e),e.drafts_.forEach(Ga),e.drafts_=null}function Wa(e){e===Fa&&(Fa=e.parent_)}function Ka(e){return Fa={drafts_:[],parent_:Fa,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ga(e){const t=e[_a];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Qa(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[_a].modified_&&(qa(t),Ea(4)),ka(e)&&(e=Ya(t,e),t.parent_||Ja(t,e)),t.patches_&&za("Patches").generateReplacementPatches_(n[_a].base_,e,t.patches_,t.inversePatches_)):e=Ya(t,n,[]),qa(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wa?e:void 0}function Ya(e,t,n){if(Ua(t))return t;const r=t[_a];if(!r)return Ta(t,((i,s)=>Xa(e,r,t,i,s,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Ja(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,s=!1;3===r.type_&&(i=new Set(t),t.clear(),s=!0),Ta(i,((i,o)=>Xa(e,r,t,i,o,n,s))),Ja(e,t,!1),n&&e.patches_&&za("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Xa(e,t,n,r,i,s,o){if(Sa(i)){const o=Ya(e,i,s&&t&&3!==t.type_&&!Na(t.assigned_,r)?s.concat(r):void 0);if(Ra(n,r,o),!Sa(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(ka(i)&&!Ua(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ya(e,i),t&&t.scope_.parent_||Ja(e,i)}}function Ja(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ma(t,n)}var $a={get(e,t){if(t===_a)return e;const n=Pa(e);if(!Na(n,t))return function(e,t,n){var r;const i=tl(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ka(r)?r:r===el(e.base_,t)?(rl(e),e.copy_[t]=il(r,e)):r},has:(e,t)=>t in Pa(e),ownKeys:e=>Reflect.ownKeys(Pa(e)),set(e,t,n){const r=tl(Pa(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=el(Pa(e),t),i=null===r||void 0===r?void 0:r[_a];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Na(e.base_,t)))return!0;rl(e),nl(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==el(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,rl(e),nl(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Pa(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Ea(11)},getPrototypeOf:e=>Aa(e.base_),setPrototypeOf(){Ea(12)}},Za={};function el(e,t){const n=e[_a];return(n?Pa(n):e)[t]}function tl(e,t){if(!(t in e))return;let n=Aa(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Aa(n)}}function nl(e){e.modified_||(e.modified_=!0,e.parent_&&nl(e.parent_))}function rl(e){e.copy_||(e.copy_=La(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Ta($a,((e,t)=>{Za[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Za.deleteProperty=function(e,t){return Za.set.call(this,e,t,void 0)},Za.set=function(e,t,n){return $a.set.call(this,e[0],t,n,e[0])};function il(e,t){const n=Oa(e)?za("MapSet").proxyMap_(e,t):Da(e)?za("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Va(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=$a;n&&(i=[r],s=Za);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}(e,t);return(t?t.scope_:Va()).drafts_.push(n),n}function sl(e){return Sa(e)||Ea(10),ol(e)}function ol(e){if(!ka(e)||Ua(e))return e;const t=e[_a];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=La(e,t.scope_.immer_.useStrictShallowCopy_)}else n=La(e,!0);return Ta(n,((e,t)=>{Ra(n,e,ol(t))})),t&&(t.finalized_=!1),n}var al=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return r.produce(e,(e=>t.call(this,e,...s)))}}let r;if("function"!==typeof t&&Ea(6),void 0!==n&&"function"!==typeof n&&Ea(7),ka(e)){const i=Ka(this),s=il(e,void 0);let o=!0;try{r=t(s),o=!1}finally{o?qa(i):Wa(i)}return Ha(i,n),Qa(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===wa&&(r=void 0),this.autoFreeze_&&Ma(r,!0),n){const t=[],i=[];za("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Ea(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;const s=this.produce(e,n,((e,t)=>{r=e,i=t}));return[s,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ka(e)||Ea(8),Sa(e)&&(e=sl(e));const t=Ka(this),n=il(e,void 0);return n[_a].isManual_=!0,Wa(t),n}finishDraft(e,t){const n=e&&e[_a];n&&n.isManual_||Ea(9);const{scope_:r}=n;return Ha(r,t),Qa(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=za("Patches").applyPatches_;return Sa(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},ll=al.produce;al.produceWithPatches.bind(al),al.setAutoFreeze.bind(al),al.setUseStrictShallowCopy.bind(al),al.applyPatches.bind(al),al.createDraft.bind(al),al.finishDraft.bind(al);function cl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var ul=e=>Array.isArray(e)?e:[e];function hl(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var dl="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},fl=0,pl=1;function ml(){return{s:fl,v:void 0,o:null,p:null}}function gl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ml();const{resultEqualityCheck:r}=t;let i,s=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=ml(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=ml(),e.set(n,t)):t=r}}const a=t;let l;if(t.s===pl?l=t.v:(l=e.apply(null,arguments),s++),a.s=pl,r){var c,u;const e=null!==(c=null===(u=i)||void 0===u?void 0:u.deref())&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==s&&s--);i="object"===typeof l&&null!==l||"function"===typeof l?new dl(l):l}return a.v=l,l}return o.clearCache=()=>{n=ml(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function vl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,s=0,o=0,a={},l=t.pop();"object"===typeof l&&(a=l,l=t.pop()),cl(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c={...i,...a},{memoize:u,memoizeOptions:h=[],argsMemoize:d=gl,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,m=ul(h),g=ul(f),v=hl(t),y=u((function(){return s++,l.apply(null,arguments)}),...m);const w=d((function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(v,arguments);return r=y.apply(null,e),r}),...g);return Object.assign(w,{resultFunc:l,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>r,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:u,argsMemoize:d})}}function yl(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var wl=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),bl=()=>Math.random().toString(36).substring(7).split("").join("."),_l={INIT:"@@redux/INIT".concat(bl()),REPLACE:"@@redux/REPLACE".concat(bl()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(bl())};function El(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Al(e,t,n){if("function"!==typeof e)throw new Error(yl(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(yl(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(yl(1));return n(Al)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach(((e,t)=>{o.set(t,e)})))}function u(){if(l)throw new Error(yl(3));return i}function h(e){if("function"!==typeof e)throw new Error(yl(4));if(l)throw new Error(yl(5));let t=!0;c();const n=a++;return o.set(n,e),function(){if(t){if(l)throw new Error(yl(6));t=!1,c(),o.delete(n),s=null}}}function d(e){if(!El(e))throw new Error(yl(7));if("undefined"===typeof e.type)throw new Error(yl(8));if("string"!==typeof e.type)throw new Error(yl(17));if(l)throw new Error(yl(9));try{l=!0,i=r(i,e)}finally{l=!1}return(s=o).forEach((e=>{e()})),e}d({type:_l.INIT});return{dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(yl(10));r=e,d({type:_l.REPLACE})},[wl]:function(){const e=h;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(yl(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[wl](){return this}}}}}function Sl(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:_l.INIT}))throw new Error(yl(12));if("undefined"===typeof n(void 0,{type:_l.PROBE_UNKNOWN_ACTION()}))throw new Error(yl(13))}))}(n)}catch(s){i=s}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let s=!1;const o={};for(let i=0;i<r.length;i++){const a=r[i],l=n[a],c=e[a],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(yl(14))}o[a]=u,s=s||u!==c}return s=s||r.length!==Object.keys(e).length,s?o:e}}function kl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function xl(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Cl=xl(),Tl=xl,Il=(function(){const e=vl(...arguments)}(gl),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?kl:kl.apply(null,arguments)});"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Nl(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Yl(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return El(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Rl=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Ol(e){return ka(e)?ll(e,(()=>{})):e}function Dl(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(Yl(10));const r=n.insert(t,e);return e.set(t,r),r}var Pl="RTK_autoBatch",Ll=e=>t=>{setTimeout(t,e)},Ml="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ll(10),jl=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Rl(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,s=!1;const o=new Set,a="tick"===e.type?queueMicrotask:"raf"===e.type?Ml:"callback"===e.type?e.queueNotification:Ll(e.timeout),l=()=>{s=!1,i&&(i=!1,o.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Pl]),i=!r,i&&(s||(s=!0,a(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Ul(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Yl(28));if(r in t)throw new Error(Yl(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Fl=Symbol.for("rtk-slice-createasyncthunk");function Bl(e,t){return"".concat(e,"/").concat(t)}function zl(e,t,n,r){function i(i){let s=n.call(e,i);"undefined"===typeof s&&r&&(s=e.getInitialState());for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return t(s,...a)}return i.unwrapped=t,i}var Vl=function(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Fl];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Yl(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Yl(12));if(n in o.sliceCaseReducersByType)throw new Error(Yl(13));return o.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(o.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?Ul(e.extraReducers):[e.extraReducers],i={...t,...o.sliceCaseReducersByType};return function(e,t){let n,[r,i,s]=Ul(t);if(function(e){return"function"===typeof e}(e))n=()=>Ol(e());else{const t=Ol(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===o.filter((e=>!!e)).length&&(o=[s]),o.reduce(((e,n)=>{if(n){if(Sa(e)){const r=n(e,t);return void 0===r?e:r}if(ka(e))return ll(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(Yl(9))}return r}}return e}),e)}return o.getInitialState=n,o}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}s.forEach((r=>{const s=i[r],o={reducerName:r,type:Bl(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function(e,t,n){let r,i,{type:s,reducerName:o,createNotation:a}=e;if("reducer"in t){if(a&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Yl(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(s,r).exposeCaseReducer(o,r).exposeAction(o,i?Nl(s,i):Nl(s))}(o,s,a):function(e,t,n,r){let{type:i,reducerName:s}=e;if(!r)throw new Error(Yl(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:c,settled:u,options:h}=t,d=r(i,o,h);n.exposeAction(s,d),a&&n.addCase(d.fulfilled,a);l&&n.addCase(d.pending,l);c&&n.addCase(d.rejected,c);u&&n.addMatcher(d.settled,u);n.exposeCaseReducer(s,{fulfilled:a||Hl,pending:l||Hl,rejected:c||Hl,settled:u||Hl})}(o,s,a,n)}));const c=e=>e,u=new WeakMap;let h;const d={name:t,reducerPath:r,reducer:(e,t)=>(h||(h=l()),h(e,t)),actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:()=>(h||(h=l()),h.getInitialState()),getSelectors(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const n=Dl(u,this,{insert:()=>new WeakMap});return Dl(n,t,{insert:()=>{const n={};for(const[i,s]of Object.entries(null!==(r=e.selectors)&&void 0!==r?r:{})){var r;n[i]=zl(this,s,t,this!==d)}return n}})},selectSlice(e){let t=e[this.reducerPath];return"undefined"===typeof t&&this!==d&&(t=this.getInitialState()),t},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=null!==t&&void 0!==t?t:this.reducerPath;return e.inject({reducerPath:r,reducer:this.reducer},n),{...this,reducerPath:r}}};return d}}();function Hl(){}var ql="listener",Wl="completed",Kl="cancelled";"task-".concat(Kl),"task-".concat(Wl),"".concat(ql,"-").concat(Kl),"".concat(ql,"-").concat(Wl);var{assign:Gl}=Object,Ql="listenerMiddleware";Nl("".concat(Ql,"/add")),Nl("".concat(Ql,"/removeAll")),Nl("".concat(Ql,"/remove"));Symbol.for("rtk-state-proxy-original");function Yl(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const Xl=Vl({name:"modal",initialState:{isOpen:!1,needReAuth:!1,needQuit:!1,openCompletSet:!1,errModal:!1,ConfirmDelMess:!1,confirmDelChatObj:null},reducers:{openConfirmDelChat:(e,t)=>{e.isOpen=!0,e.needQuit=!1,e.needReAuth=!1,e.openCompletSet=!1,e.errModal=!1,e.ConfirmDelMess=!1,e.confirmDelChatObj=t.payload},openConfirmDelMess:e=>{e.isOpen=!0,e.ConfirmDelMess=!0,e.needQuit=!1,e.needReAuth=!1,e.openCompletSet=!1,e.errModal=!1,e.confirmDelChatObj=null},openErrModal:e=>{e.isOpen=!0,e.errModal=!0,e.needQuit=!1,e.needReAuth=!1,e.openCompletSet=!1,e.ConfirmDelMess=!1,e.confirmDelChatObj=null},openComplSetProf:e=>{e.isOpen=!0,e.openCompletSet=!0,e.needQuit=!1,e.needReAuth=!1,e.errModal=!1,e.ConfirmDelMess=!1,e.confirmDelChatObj=null},openReAuth:e=>{e.isOpen=!0,e.needReAuth=!0,e.needQuit=!1,e.openCompletSet=!1,e.errModal=!1,e.ConfirmDelMess=!1,e.confirmDelChatObj=null},openQuitAccount:e=>{e.isOpen=!0,e.needQuit=!0,e.needReAuth=!1,e.confirmDelChatObj=null,e.openCompletSet=!1,e.errModal=!1,e.ConfirmDelMess=!1},closeModal:e=>{e.isOpen=!1,e.needQuit=!1,e.confirmDelChatObj=null,e.ConfirmDelMess=!1,e.needReAuth=!1,e.openCompletSet=!1,e.errModal=!1}}}),{openReAuth:Jl,closeModal:$l,openQuitAccount:Zl,openComplSetProf:ec,openErrModal:tc,openConfirmDelMess:nc,openConfirmDelChat:rc}=Xl.actions,ic=Xl.reducer;var sc,oc;function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ac.apply(this,arguments)}function lc(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",ac({width:49,height:37,viewBox:"0 0 49 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,sc||(sc=t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.513 0.925995C35.087 1.076 43.762 10.583 48.107 18.763C48.107 18.763 46.578 21.892 45.144 23.895C44.45 24.864 43.72 25.808 42.953 26.721C42.406 27.371 41.841 28.004 41.255 28.619C36.018 34.119 28.497 38.222 20.555 36.629C11.732 34.859 4.53498 27.299 0.208984 19.168C0.208984 19.168 1.74498 16.036 3.18699 14.036C3.83299 13.139 4.51098 12.266 5.22098 11.419C5.76498 10.77 6.32898 10.137 6.91198 9.52199C11.539 4.64599 17.476 0.891995 24.513 0.925995ZM24.476 4.926C18.586 4.904 13.688 8.19299 9.81298 12.276C9.28598 12.831 8.77798 13.403 8.28598 13.989C7.63898 14.761 7.02098 15.558 6.43198 16.375C5.84298 17.191 5.23898 18.221 4.75998 19.096C8.57398 25.505 14.299 31.294 21.342 32.707C27.905 34.024 34.03 30.406 38.358 25.861C38.887 25.306 39.398 24.733 39.892 24.146C40.592 23.313 41.258 22.452 41.891 21.567C42.477 20.748 43.08 19.716 43.558 18.84C39.6 12.215 32.828 5.056 24.476 4.926Z",fill:"black"})),oc||(oc=t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.158 10.948C28.583 10.948 32.176 14.541 32.176 18.965C32.176 23.39 28.583 26.982 24.158 26.982C19.734 26.982 16.141 23.39 16.141 18.965C16.141 14.541 19.734 10.948 24.158 10.948ZM24.158 14.957C26.371 14.957 28.167 16.753 28.167 18.965C28.167 21.178 26.371 22.974 24.158 22.974C21.946 22.974 20.15 21.178 20.15 18.965C20.15 16.753 21.946 14.957 24.158 14.957Z",fill:"black"})))}const cc=t.forwardRef(lc);n.p;var uc,hc;function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dc.apply(this,arguments)}function fc(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",dc({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,uc||(uc=t.createElement("g",{clipPath:"url(#clip0_112_38)"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.673 10.345L10.576 13.441L50.429 53.295L53.526 50.198L13.673 10.345Z",fill:"black"}),t.createElement("path",{d:"M17.119 19.984L20.034 22.899C16.843 25.616 14.302 28.998 12.66 31.957L12.655 31.967C17.228 39.613 24.484 46.839 33.642 45.743C36.114 45.447 38.42 44.602 40.527 43.393L43.478 46.343C39.371 48.979 34.663 50.375 29.562 49.685C20.364 48.441 12.843 40.897 8.10199 32.037C10.328 27.558 13.373 23.273 17.119 19.984ZM23.749 15.664C26.321 14.518 29.104 13.844 32.076 13.796C32.241 13.795 34.2 13.888 35.088 14.034C35.645 14.126 36.2 14.241 36.747 14.384C45.472 16.657 51.936 24.033 56 31.632C54.295 35.075 52.062 38.435 49.399 41.314L46.572 38.487C48.539 36.367 50.179 34.007 51.442 31.718C51.442 31.718 50.172 29.676 49.209 28.394C48.59 27.57 47.939 26.77 47.255 25.999C46.715 25.391 44.618 23.326 44.119 22.896C40.771 20.017 36.84 17.758 32.125 17.796C30.299 17.825 28.543 18.185 26.876 18.791L23.749 15.664Z",fill:"black"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.054 27.92L27.453 30.318C27.296 30.795 27.21 31.305 27.21 31.834C27.21 34.506 29.379 36.675 32.051 36.675C32.58 36.675 33.09 36.59 33.567 36.432L35.966 38.831C34.808 39.481 33.472 39.851 32.051 39.851C27.626 39.851 24.034 36.259 24.034 31.834C24.034 30.413 24.405 29.078 25.054 27.92ZM31.903 23.819C31.952 23.818 32.002 23.817 32.051 23.817C36.476 23.817 40.068 27.41 40.068 31.834C40.068 31.884 40.068 31.933 40.067 31.982L31.903 23.819Z",fill:"black"}))),hc||(hc=t.createElement("defs",null,t.createElement("clipPath",{id:"clip0_112_38"},t.createElement("rect",{width:64,height:64,fill:"white"})))))}const pc=t.forwardRef(fc);n.p;function mc(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gc.apply(this,arguments)}function vc(e,t){return vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vc(e,t)}function yc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vc(e,t)}const wc=t.createContext(null);function bc(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function _c(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Ec(e,n,r){var i=bc(e.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),s=[];for(var o in e)o in t?s.length&&(i[o]=s,s=[]):s.push(o);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<s.length;r++)a[s[r]]=n(s[r]);return a}(n,i);return Object.keys(s).forEach((function(o){var a=s[o];if((0,t.isValidElement)(a)){var l=o in n,c=o in i,u=n[o],h=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!h?c||!l||h?c&&l&&(0,t.isValidElement)(u)&&(s[o]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:_c(a,"exit",e),enter:_c(a,"enter",e)})):s[o]=(0,t.cloneElement)(a,{in:!1}):s[o]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:_c(a,"exit",e),enter:_c(a,"enter",e)})}})),s}var Ac=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Sc=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}yc(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,s=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,bc(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:_c(e,"appear",r),enter:_c(e,"enter",r),exit:_c(e,"exit",r)})}))):Ec(e,s,o),firstRender:!1}},r.handleExited=function(e,t){var n=bc(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=gc({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=mc(e,["component","childFactory"]),s=this.state.contextValue,o=Ac(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(wc.Provider,{value:s},o):t.createElement(wc.Provider,{value:s},t.createElement(n,i,o))},n}(t.Component);Sc.propTypes={},Sc.defaultProps={component:"div",childFactory:function(e){return e}};const kc=Sc;function xc(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Cc=!1;var Tc=function(e){return e.scrollTop},Ic="unmounted",Nc="exited",Rc="entering",Oc="entered",Dc="exiting",Pc=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=Nc,r.appearStatus=Rc):i=Oc:i=t.unmountOnExit||t.mountOnEnter?Ic:Nc,r.state={status:i},r.nextCallback=null,r}yc(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ic?{status:Nc}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Rc&&n!==Oc&&(t=Rc):n!==Rc&&n!==Oc||(t=Dc)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Rc){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);n&&Tc(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Nc&&this.setState({status:Ic})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],o=i[0],a=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||Cc?this.safeSetState({status:Oc},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Rc},(function(){t.props.onEntering(o,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:Oc},(function(){t.props.onEntered(o,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!Cc?(this.props.onExit(r),this.safeSetState({status:Dc},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Nc},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Nc},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Ic)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,mc(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(wc.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function Lc(){}Pc.contextType=wc,Pc.propTypes={},Pc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Lc,onEntering:Lc,onEntered:Lc,onExit:Lc,onExiting:Lc,onExited:Lc},Pc.UNMOUNTED=Ic,Pc.EXITED=Nc,Pc.ENTERING=Rc,Pc.ENTERED=Oc,Pc.EXITING=Dc;const Mc=Pc;var jc=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=xc(n.className,r):n.setAttribute("class",xc(n.className&&n.className.baseVal||"",r)));var n,r}))},Uc=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1];t.removeClasses(i,"exit"),t.addClass(i,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.addClass(i,s,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.removeClasses(i,s),t.addClass(i,s,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}yc(n,e);var r=n.prototype;return r.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&Tc(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,s=n.done;this.appliedClasses[t]={},r&&jc(e,r),i&&jc(e,i),s&&jc(e,s)},r.render=function(){var e=this.props,n=(e.classNames,mc(e,["classNames"]));return t.createElement(Mc,gc({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(t.Component);Uc.defaultProps={classNames:""},Uc.propTypes={};const Fc=Uc,Bc=e=>{const[n,r]=(0,t.useState)("");return(0,t.useEffect)((()=>{if(e){const t=e=>{switch(e){case"auth/claims-too-large":r("\u041f\u043e\u043b\u0435\u0437\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0443\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0439, \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043c\u0430\u044f \u0432 setCustomUserClaims() \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0432 1000 \u0431\u0430\u0439\u0442.");break;case"auth/email-already-exists":r("\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c. \u041a\u0430\u0436\u0434\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b.");break;case"auth/id-token-expired":r("\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0442\u043e\u043a\u0435\u043d\u0430 Firebase ID \u0438\u0441\u0442\u0435\u043a.");break;case"auth/id-token-revoked":r("\u0422\u043e\u043a\u0435\u043d Firebase ID \u043e\u0442\u043e\u0437\u0432\u0430\u043d.");break;case"auth/insufficient-permission":r("\u0423\u0447\u0435\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0434\u043b\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 Admin SDK, \u043d\u0435 \u0438\u043c\u0435\u044e\u0442 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u044b\u0445 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u043e\u043c\u0443 \u0440\u0435\u0441\u0443\u0440\u0441\u0443 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438. \u0421\u043c. \u0440\u0430\u0437\u0434\u0435\u043b \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 Firebase \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0447\u0435\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c\u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f\u043c\u0438 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u0445 \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 Admin SDK.");break;case"auth/internal-error":r("\u0421\u0435\u0440\u0432\u0435\u0440 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u043b \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0443\u044e \u043e\u0448\u0438\u0431\u043a\u0443 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e. \u0415\u0441\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0435 \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0430, \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u0435 \u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435 \u0432 \u043d\u0430\u0448 \u043a\u0430\u043d\u0430\u043b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u043e\u0442\u0447\u0435\u0442\u043e\u0432 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445.");break;case"auth/invalid-argument":r("\u041c\u0435\u0442\u043e\u0434\u0443 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e.");break;case"auth/invalid-claims":r("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b \u0443\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u043b\u044f setCustomUserClaims() \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b.");break;case"auth/invalid-continue-uri":r("URL-\u0430\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439 URL-\u0430\u0434\u0440\u0435\u0441\u0430.");break;case"auth/invalid-creation-time":r("\u0412\u0440\u0435\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439 \u0434\u0430\u0442\u044b \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 UTC.");break;case"auth/invalid-credential":r("\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a ,\u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437 , \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0447\u0442\u043e \u043d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c. ");break;case"auth/invalid-disabled-field":r("\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 disabled \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e. \u042d\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.");break;case"auth/invalid-display-name":r("\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 displayName \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e. \u042d\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u0435\u043f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430.");break;case"auth/invalid-dynamic-link-domain":r("\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u043c\u0435\u043d \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u0441\u044b\u043b\u043e\u043a \u043d\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d \u0438 \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d \u0434\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430.");break;case"auth/invalid-email":r("\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f email \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e. \u042d\u0442\u043e \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b.");break;case"auth/invalid-email-verified":r("\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f emailVerified \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e. \u042d\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.");break;case"auth/invalid-hash-algorithm":r("\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u0441\u0442\u0440\u043e\u043a \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u043e\u0432.");break;case"auth/invalid-hash-block-size":r("\u0420\u0430\u0437\u043c\u0435\u0440 \u0445\u0435\u0448-\u0431\u043b\u043e\u043a\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c.");break;case"auth/invalid-hash-derived-key-length":r("\u0414\u043b\u0438\u043d\u0430 \u043a\u043b\u044e\u0447\u0430, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u0437 \u0445\u0435\u0448\u0430, \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c.");break;case"auth/invalid-hash-key":r("\u0425\u044d\u0448-\u043a\u043b\u044e\u0447 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0431\u0430\u0439\u0442\u043e\u0432\u044b\u0439 \u0431\u0443\u0444\u0435\u0440.");break;case"auth/invalid-hash-memory-cost":r("\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0445\u044d\u0448-\u043f\u0430\u043c\u044f\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c.");break;case"auth/invalid-hash-parallelization":r("\u0420\u0430\u0441\u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435 \u0445\u0435\u0448\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c.");break;case"auth/invalid-hash-rounds":r("\u0427\u0438\u0441\u043b\u043e \u0445\u044d\u0448-\u0440\u0430\u0443\u043d\u0434\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u043c.");break;case"auth/invalid-hash-salt-separator":r("\u041f\u043e\u043b\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044f \u0441\u043e\u043b\u0438 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u043c \u0431\u0443\u0444\u0435\u0440\u043e\u043c \u0431\u0430\u0439\u0442\u043e\u0432.");break;case"auth/invalid-id-token":r("\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0442\u043e\u043a\u0435\u043d\u043e\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430 Firebase.");break;case"auth/invalid-last-sign-in-time":r("\u0412\u0440\u0435\u043c\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0432\u0445\u043e\u0434\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439 \u0434\u0430\u0442\u044b \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 UTC.");break;case"auth/invalid-page-token":r("\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0432 listUsers() \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d. \u042d\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043d\u0435\u043f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430.");break;case"auth/invalid-password":r("\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f password \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e. \u042d\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0430, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 \u0448\u0435\u0441\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.");break;case"auth/invalid-password-hash":r("\u0425\u044d\u0448 \u043f\u0430\u0440\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u0431\u043e\u0439 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0431\u0443\u0444\u0435\u0440 \u0431\u0430\u0439\u0442\u043e\u0432.");break;case"auth/invalid-password-salt":r("\u0421\u043e\u043b\u044c \u043f\u0430\u0440\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u043c \u0431\u0430\u0439\u0442\u043e\u0432\u044b\u043c \u0431\u0443\u0444\u0435\u0440\u043e\u043c.");break;case"auth/invalid-phone-number":r("\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f phoneNumber \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e. \u042d\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u0435\u043f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430, \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u0430\u044f \u0441\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043e\u043c E.164.");break;case"auth/invalid-photo-url":r("\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 photoURL \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e. \u042d\u0442\u043e \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 URL-\u0430\u0434\u0440\u0435\u0441.");break;case"auth/invalid-provider-data":r("\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u043c \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 UserInfo.");break;case"auth/invalid-provider-id":r("ProviderId \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430.");break;case"auth/invalid-oauth-responsetype":r("\u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e responseType OAuth \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 true.");break;case"auth/invalid-session-cookie-duration":r("\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0435\u0430\u043d\u0441\u043e\u0432\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 cookie \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c \u0432 \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 \u043e\u0442 5 \u043c\u0438\u043d\u0443\u0442 \u0434\u043e 2 \u043d\u0435\u0434\u0435\u043b\u044c.");break;case"auth/invalid-uid":r("\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 uid \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u0431\u043e\u0439 \u043d\u0435\u043f\u0443\u0441\u0442\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0434\u043b\u0438\u043d\u043e\u0439 \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 128 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.");break;case"auth/invalid-user-import":r("\u0417\u0430\u043f\u0438\u0441\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u0430.");break;case"auth/maximum-user-count-exceeded":r("\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0430.");break;case"auth/missing-android-pkg-name":r("\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 Android, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u043c\u044f \u043f\u0430\u043a\u0435\u0442\u0430 Android.");break;case"auth/missing-continue-uri":r("\u0412 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 URL-\u0430\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f.");break;case"auth/missing-hash-algorithm":r("\u0418\u043c\u043f\u043e\u0440\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0445\u044d\u0448\u0430\u043c\u0438 \u043f\u0430\u0440\u043e\u043b\u0435\u0439 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0435\u0433\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432.");break;case"auth/missing-ios-bundle-id":r("\u0412 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u0430\u043a\u0435\u0442\u0430.");break;case"auth/missing-uid":r("\u0414\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 uid.");break;case"auth/missing-oauth-client-secret":r("\u0421\u0435\u043a\u0440\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 OAuth \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043b\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0442\u043e\u043a\u0430 \u043a\u043e\u0434\u0430 OIDC.");break;case"auth/operation-not-allowed":r('\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a \u0443\u0441\u043b\u0443\u0433 \u0432\u0445\u043e\u0434\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 Firebase. \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0435\u0433\u043e \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u041c\u0435\u0442\u043e\u0434 \u0432\u0445\u043e\u0434\u0430" \u043a\u043e\u043d\u0441\u043e\u043b\u0438 Firebase.');break;case"auth/phone-number-already-exists":r("\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 phoneNumber \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c. \u041a\u0430\u0436\u0434\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 phoneNumber.");break;case"auth/project-not-found":r("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043f\u0440\u043e\u0435\u043a\u0442 Firebase \u0434\u043b\u044f \u0443\u0447\u0435\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0434\u043b\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 Admin SDK.");break;case"auth/reserved-claims":r("\u041e\u0434\u043d\u043e \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0443\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0439, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 setCustomUserClaims() \u0437\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b.");break;case"auth/session-cookie-expired":r("\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 cookie \u0441\u0435\u0430\u043d\u0441\u0430 Firebase \u0438\u0441\u0442\u0435\u043a.");break;case"auth/session-cookie-revoked":r("\u0424\u0430\u0439\u043b cookie \u0441\u0435\u0430\u043d\u0441\u0430 Firebase \u0431\u044b\u043b \u043e\u0442\u043e\u0437\u0432\u0430\u043d.");break;case"auth/too-many-requests":r("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435.");break;case"auth/uid-already-exists":r("\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 uid \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c. \u041a\u0430\u0436\u0434\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 uid.");break;case"auth/unauthorized-continue-uri":r("\u0414\u043e\u043c\u0435\u043d URL-\u0430\u0434\u0440\u0435\u0441\u0430 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u0432\u043d\u0435\u0441\u0435\u043d \u0432 \u0431\u0435\u043b\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a. \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0434\u043e\u043c\u0435\u043d \u0432 \u0431\u0435\u043b\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438 Firebase.");break;case"auth/user-not-found":r("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.");break;default:r("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a.")}};t(e)}}),[e]),n};var zc=n(184);const Vc=e=>{let{title:n,handleForm:r,error:i}=e;const[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(!1),f=Bc(i);(0,t.useEffect)((()=>{i&&l(!0)}),[i]);return(0,zc.jsxs)(Ut,{className:"form",children:[(0,zc.jsx)("p",{className:"title",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f "}),(0,zc.jsxs)("label",{children:[(0,zc.jsx)("input",{type:"email",value:s,name:"email",className:"input",placeholder:"",required:!0,onChange:e=>o(e.target.value),enterKeyHint:"go"}),(0,zc.jsx)("span",{children:"Email"})]}),(0,zc.jsxs)("label",{children:[(0,zc.jsx)("input",{type:h?"text":"password",value:c,name:"password",className:"input",placeholder:"",required:!0,onChange:e=>u(e.target.value),enterKeyHint:"go"}),(0,zc.jsx)("span",{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,zc.jsx)("button",{onClick:e=>{d(!h),e.preventDefault()},className:"eye__btn",title:"hide or not hide password",style:h?{}:{margin:"0 4px 0 0"},children:h?(0,zc.jsx)(pc,{width:"32.5px",height:"32.5px"}):(0,zc.jsx)(cc,{width:"25px",height:"25px"})})]}),(0,zc.jsx)("button",{className:"submit",onKeyDown:e=>{"Enter"===e.key&&r(s,c)},onClick:()=>r(s,c),disabled:!(s.length>=4&&c.length>=6),children:n}),(0,zc.jsx)(kc,{children:a&&(0,zc.jsx)(Fc,{timeout:500,classNames:"slide",unmountOnExit:!0,in:a,children:(0,zc.jsx)("div",{style:{display:"flex",flexDirection:"column",color:"black"},children:f&&f})})})]})},Hc=e=>{let{title:n,handleForm:r,error:i}=e;const[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!1),f=Bc(i);(0,t.useEffect)((()=>{i&&d(!0)}),[i]);return(0,zc.jsxs)(Ut,{className:"form",children:[(0,zc.jsx)("p",{className:"title",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u0430\u044f \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f "}),(0,zc.jsxs)("label",{children:[(0,zc.jsx)("input",{type:"email",value:s,name:"email",className:"input",placeholder:"",required:!0,minLength:4,onChange:e=>o(e.target.value),enterKeyHint:"go"}),(0,zc.jsx)("span",{children:"Email"})]}),(0,zc.jsxs)("label",{children:[(0,zc.jsx)("input",{type:c?"text":"password",value:a,name:"password",className:"input",placeholder:"",required:!0,minLength:6,maxLength:32,onChange:e=>l(e.target.value),enterKeyHint:"go"}),(0,zc.jsx)("span",{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,zc.jsx)("button",{onClick:e=>{u(!c),e.preventDefault()},className:"eye__btn",title:"hide or not hide password",style:c?{}:{margin:"0 4px 0 0"},children:c?(0,zc.jsx)(pc,{width:"32.5px",height:"32.5px"}):(0,zc.jsx)(cc,{width:"25px",height:"25px"})})]}),(0,zc.jsx)("button",{className:"submit",style:{marginTop:"20px"},onClick:()=>r(s,a),onKeyDown:e=>{"Enter"===e.key&&r(s,a)},disabled:!(s.length>=4&&a.length>=6),children:n}),(0,zc.jsx)(kc,{children:h&&(0,zc.jsx)(Fc,{timeout:500,classNames:"slide",unmountOnExit:!0,in:h,children:(0,zc.jsx)("div",{style:{display:"flex",flexDirection:"column",color:"black"},children:f&&f})})})]})},qc=Vl({name:"useProcess",initialState:{data:null,loading:!1,error:null},reducers:{ProcessDataStart:e=>{e.loading=!0,e.error=null},ProcessDataSuccess:e=>{e.loading=!1},ProcessDataFailure:(e,t)=>{e.loading=!1,e.error=t.payload}}}),{ProcessDataStart:Wc,ProcessDataSuccess:Kc,ProcessDataFailure:Gc}=qc.actions,Qc=qc.reducer;var Yc,Xc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Jc={},$c=$c||{},Zc=Xc||self;function eu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var nu="closure_uid_"+(1e9*Math.random()>>>0),ru=0;function iu(e,t,n){return e.call.apply(e.bind,arguments)}function su(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ou(e,t,n){return(ou=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iu:su).apply(null,arguments)}function au(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function lu(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function cu(){this.s=this.s,this.o=this.o}cu.prototype.s=!1,cu.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,nu)&&e[nu]||(e[nu]=++ru))},cu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function hu(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function du(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(eu(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function fu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}fu.prototype.h=function(){this.defaultPrevented=!0};var pu=function(){if(!Zc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Zc.addEventListener("test",e,t),Zc.removeEventListener("test",e,t)}catch(n){}return e}();function mu(e){return/^[\s\xa0]*$/.test(e)}function gu(){var e=Zc.navigator;return e&&(e=e.userAgent)?e:""}function vu(e){return-1!=gu().indexOf(e)}function yu(e){return yu[" "](e),e}yu[" "]=function(){};var wu,bu,_u=vu("Opera"),Eu=vu("Trident")||vu("MSIE"),Au=vu("Edge"),Su=Au||Eu,ku=vu("Gecko")&&!(-1!=gu().toLowerCase().indexOf("webkit")&&!vu("Edge"))&&!(vu("Trident")||vu("MSIE"))&&!vu("Edge"),xu=-1!=gu().toLowerCase().indexOf("webkit")&&!vu("Edge");function Cu(){var e=Zc.document;return e?e.documentMode:void 0}e:{var Tu="",Iu=function(){var e=gu();return ku?/rv:([^\);]+)(\)|;)/.exec(e):Au?/Edge\/([\d\.]+)/.exec(e):Eu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):xu?/WebKit\/(\S+)/.exec(e):_u?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Iu&&(Tu=Iu?Iu[1]:""),Eu){var Nu=Cu();if(null!=Nu&&Nu>parseFloat(Tu)){wu=String(Nu);break e}}wu=Tu}if(Zc.document&&Eu){var Ru=Cu();bu=Ru||(parseInt(wu,10)||void 0)}else bu=void 0;var Ou=bu;function Du(e,t){if(fu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ku){e:{try{yu(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Pu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Du.$.h.call(this)}}lu(Du,fu);var Pu={2:"touch",3:"pen",4:"mouse"};Du.prototype.h=function(){Du.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Lu="closure_listenable_"+(1e6*Math.random()|0),Mu=0;function ju(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Mu,this.fa=this.ia=!1}function Uu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Fu(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Bu(e){const t={};for(const n in e)t[n]=e[n];return t}const zu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vu(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<zu.length;t++)n=zu[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hu(e){this.src=e,this.g={},this.h=0}function qu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=uu(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Uu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Wu(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Hu.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Wu(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new ju(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Ku="closure_lm_"+(1e6*Math.random()|0),Gu={};function Qu(e,t,n,r,i){if(r&&r.once)return Xu(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Qu(e,t[s],n,r,i);return null}return n=rh(n),e&&e[Lu]?e.O(t,n,tu(r)?!!r.capture:!!r,i):Yu(e,t,n,!1,r,i)}function Yu(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=tu(i)?!!i.capture:!!i,a=th(e);if(a||(e[Ku]=a=new Hu(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=eh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xu(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Xu(e,t[s],n,r,i);return null}return n=rh(n),e&&e[Lu]?e.P(t,n,tu(r)?!!r.capture:!!r,i):Yu(e,t,n,!0,r,i)}function Ju(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ju(e,t[s],n,r,i);else r=tu(r)?!!r.capture:!!r,n=rh(n),e&&e[Lu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Wu(s=e.g[t],n,r,i))&&(Uu(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=th(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wu(t,n,r,i)),(n=-1<e?t[e]:null)&&$u(n))}function $u(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Lu])qu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=th(t))?(qu(n,e),0==n.h&&(n.src=null,t[Ku]=null)):Uu(e)}}}function Zu(e){return e in Gu?Gu[e]:Gu[e]="on"+e}function eh(e,t){if(e.fa)e=!0;else{t=new Du(t,this);var n=e.listener,r=e.la||e.src;e.ia&&$u(e),e=n.call(r,t)}return e}function th(e){return(e=e[Ku])instanceof Hu?e:null}var nh="__closure_events_fn_"+(1e9*Math.random()>>>0);function rh(e){return"function"===typeof e?e:(e[nh]||(e[nh]=function(t){return e.handleEvent(t)}),e[nh])}function ih(){cu.call(this),this.i=new Hu(this),this.S=this,this.J=null}function sh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new fu(t,e);else if(t instanceof fu)t.target=t.target||e;else{var i=t;Vu(t=new fu(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=oh(o,r,!0,t)&&i}if(i=oh(o=t.g=e,r,!0,t)&&i,i=oh(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=oh(o=t.g=n[s],r,!1,t)&&i}function oh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&qu(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}lu(ih,cu),ih.prototype[Lu]=!0,ih.prototype.removeEventListener=function(e,t,n,r){Ju(this,e,t,n,r)},ih.prototype.N=function(){if(ih.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Uu(n[r]);delete t.g[e],t.h--}}this.J=null},ih.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ih.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ah=Zc.JSON.stringify;function lh(){var e=mh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ch=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new uh),(e=>e.reset()));class uh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function dh(e){Zc.setTimeout((()=>{throw e}),0)}let fh,ph=!1,mh=new class{constructor(){this.h=this.g=null}add(e,t){const n=ch.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},gh=()=>{const e=Zc.Promise.resolve(void 0);fh=()=>{e.then(vh)}};var vh=()=>{for(var e;e=lh();){try{e.h.call(e.g)}catch(n){dh(n)}var t=ch;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ph=!1};function yh(e,t){ih.call(this),this.h=e||1,this.g=t||Zc,this.j=ou(this.qb,this),this.l=Date.now()}function wh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function bh(e,t,n){if("function"===typeof e)n&&(e=ou(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ou(e.handleEvent,e)}return 2147483647<Number(t)?-1:Zc.setTimeout(e,t||0)}function _h(e){e.g=bh((()=>{e.g=null,e.i&&(e.i=!1,_h(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}lu(yh,ih),(Yc=yh.prototype).ga=!1,Yc.T=null,Yc.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sh(this,"tick"),this.ga&&(wh(this),this.start()))}},Yc.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Yc.N=function(){yh.$.N.call(this),wh(this),delete this.g};class Eh extends cu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_h(this)}N(){super.N(),this.g&&(Zc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ah(e){cu.call(this),this.h=e,this.g={}}lu(Ah,cu);var Sh=[];function kh(e,t,n,r){Array.isArray(n)||(n&&(Sh[0]=n.toString()),n=Sh);for(var i=0;i<n.length;i++){var s=Qu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function xh(e){Fu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$u(e)}),e),e.g={}}function Ch(){this.g=!0}function Th(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ah(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Ah.prototype.N=function(){Ah.$.N.call(this),xh(this)},Ah.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ch.prototype.Ea=function(){this.g=!1},Ch.prototype.info=function(){};var Ih={},Nh=null;function Rh(){return Nh=Nh||new ih}function Oh(e){fu.call(this,Ih.Ta,e)}function Dh(e){const t=Rh();sh(t,new Oh(t))}function Ph(e,t){fu.call(this,Ih.STAT_EVENT,e),this.stat=t}function Lh(e){const t=Rh();sh(t,new Ph(t,e))}function Mh(e,t){fu.call(this,Ih.Ua,e),this.size=t}function jh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Zc.setTimeout((function(){e()}),t)}Ih.Ta="serverreachability",lu(Oh,fu),Ih.STAT_EVENT="statevent",lu(Ph,fu),Ih.Ua="timingevent",lu(Mh,fu);var Uh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Fh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bh(){}function zh(e){return e.h||(e.h=e.i())}function Vh(){}Bh.prototype.h=null;var Hh,qh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wh(){fu.call(this,"d")}function Kh(){fu.call(this,"c")}function Gh(){}function Qh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ah(this),this.P=Xh,e=Su?125:void 0,this.V=new yh(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yh}function Yh(){this.i=null,this.g="",this.h=!1}lu(Wh,fu),lu(Kh,fu),lu(Gh,Bh),Gh.prototype.g=function(){return new XMLHttpRequest},Gh.prototype.i=function(){return{}},Hh=new Gh;var Xh=45e3,Jh={},$h={};function Zh(e,t,n){e.L=1,e.A=yd(fd(t)),e.u=n,e.S=!0,ed(e,null)}function ed(e,t){e.G=Date.now(),id(e),e.B=fd(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Rd(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Yh,e.g=Df(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Eh(ou(e.Pa,e,e.g),e.O)),kh(e.U,e.g,"readystatechange",e.nb),t=e.I?Bu(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Dh(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function td(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function nd(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=rd(e,n),r==$h){4==t&&(e.s=4,Lh(14),i=!1),Th(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jh){e.s=4,Lh(15),Th(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Th(e.j,e.m,r,null),cd(e,r)}td(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Lh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),kf(t),t.M=!0,Lh(11))):(Th(e.j,e.m,n,"[Invalid Chunked Response]"),ld(e),ad(e))}function rd(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?$h:(n=Number(t.substring(n,r)),isNaN(n)?Jh:(r+=1)+n>t.length?$h:(t=t.slice(r,r+n),e.o=r+n,t))}function id(e){e.Y=Date.now()+e.P,sd(e,e.P)}function sd(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=jh(ou(e.lb,e),t)}function od(e){e.C&&(Zc.clearTimeout(e.C),e.C=null)}function ad(e){0==e.l.H||e.J||Tf(e.l,e)}function ld(e){od(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,wh(e.V),xh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function cd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ud(n.i,e)))if(!e.K&&Ud(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Cf(n),vf(n)}Sf(n),Lh(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=jh(ou(n.ib,n),6e3));if(1>=jd(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Nf(n,11)}else if((e.K||n.g==e)&&Cf(n),!mu(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Fd(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,vd(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Of(r,r.J?r.pa:null,r.Y),o.K){Bd(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(od(a),id(a)),r.g=o}else Af(r);0<n.j.length&&wf(n)}else"stop"!=c[0]&&"close"!=c[0]||Nf(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Nf(n,7):gf(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Dh()}catch(c){}}function ud(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(eu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(eu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(eu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Yc=Qh.prototype).setTimeout=function(e){this.P=e},Yc.nb=function(e){e=e.target;const t=this.M;t&&3==uf(e)?t.l():this.Pa(e)},Yc.Pa=function(e){try{if(e==this.g)e:{const u=uf(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Su||this.g&&(this.h.h||this.g.ja()||hf(this.g)))){this.J||4!=u||7==t||Dh(),od(this);var n=this.g.da();this.ca=n;t:if(td(this)){var r=hf(this.g);e="";var i=r.length,s=4==uf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ld(this),ad(this);var o="";break t}this.h.i=new Zc.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mu(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Lh(12),ld(this),ad(this);break e}Th(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cd(this,n)}this.S?(nd(this,u,o),Su&&this.i&&3==u&&(kh(this.U,this.V,"tick",this.mb),this.V.start())):(Th(this.j,this.m,o,null),cd(this,o)),4==u&&ld(this),this.i&&!this.J&&(4==u?Tf(this.l,this):(this.i=!1,id(this)))}else(function(e){const t={};e=(e.g&&2<=uf(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(mu(e[r]))continue;var n=hh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Lh(12)):(this.s=0,Lh(13)),ld(this),ad(this)}}}catch(u){}},Yc.mb=function(){if(this.g){var e=uf(this.g),t=this.g.ja();this.o<t.length&&(od(this),nd(this,e,t),this.i&&4!=e&&id(this))}},Yc.cancel=function(){this.J=!0,ld(this)},Yc.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Dh(),Lh(17)),ld(this),this.s=2,ad(this)):sd(this,this.Y-e)};var hd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof dd){this.h=e.h,pd(this,e.j),this.s=e.s,this.g=e.g,md(this,e.m),this.l=e.l;var t=e.i,n=new Cd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),gd(this,n),this.o=e.o}else e&&(t=String(e).match(hd))?(this.h=!1,pd(this,t[1]||"",!0),this.s=wd(t[2]||""),this.g=wd(t[3]||"",!0),md(this,t[4]),this.l=wd(t[5]||"",!0),gd(this,t[6]||"",!0),this.o=wd(t[7]||"")):(this.h=!1,this.i=new Cd(null,this.h))}function fd(e){return new dd(e)}function pd(e,t,n){e.j=n?wd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function md(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function gd(e,t,n){t instanceof Cd?(e.i=t,function(e,t){t&&!e.j&&(Td(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Id(this,t),Rd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=bd(t,kd)),e.i=new Cd(t,e.h))}function vd(e,t,n){e.i.set(t,n)}function yd(e){return vd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function wd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,_d),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _d(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bd(t,Ed,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(bd(t,Ed,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bd(n,"/"==n.charAt(0)?Sd:Ad,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bd(n,xd)),e.join("")};var Ed=/[#\/\?@]/g,Ad=/[#\?:]/g,Sd=/[#\?]/g,kd=/[#\?@]/g,xd=/#/g;function Cd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Td(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Id(e,t){Td(e),t=Od(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nd(e,t){return Td(e),t=Od(e,t),e.g.has(t)}function Rd(e,t,n){Id(e,t),0<n.length&&(e.i=null,e.g.set(Od(e,t),hu(n)),e.h+=n.length)}function Od(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Yc=Cd.prototype).add=function(e,t){Td(this),this.i=null,e=Od(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Yc.forEach=function(e,t){Td(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Yc.ta=function(){Td(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Yc.Z=function(e){Td(this);let t=[];if("string"===typeof e)Nd(this,e)&&(t=t.concat(this.g.get(Od(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Yc.set=function(e,t){return Td(this),this.i=null,Nd(this,e=Od(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Yc.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Yc.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Dd=class{constructor(e,t){this.g=e,this.map=t}};function Pd(e){this.l=e||Ld,Zc.PerformanceNavigationTiming?e=0<(e=Zc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Zc.g&&Zc.g.Ka&&Zc.g.Ka()&&Zc.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ld=10;function Md(e){return!!e.h||!!e.g&&e.g.size>=e.j}function jd(e){return e.h?1:e.g?e.g.size:0}function Ud(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Fd(e,t){e.g?e.g.add(t):e.h=t}function Bd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zd(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return hu(e.i)}Pd.prototype.cancel=function(){if(this.i=zd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Vd,Hd=class{stringify(e){return Zc.JSON.stringify(e,void 0)}parse(e){return Zc.JSON.parse(e,void 0)}};function qd(){this.g=new Hd}function Wd(e,t,n){const r=n||"";try{ud(e,(function(e,n){let i=e;tu(e)&&(i=ah(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Kd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Gd(e){this.l=e.ec||null,this.j=e.ob||!1}function Qd(e,t){ih.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Yd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lu(Gd,Bh),Gd.prototype.g=function(){return new Qd(this.l,this.j)},Gd.prototype.i=(Vd={},function(){return Vd}),lu(Qd,ih);var Yd=0;function Xd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Jd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,$d(e)}function $d(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Yc=Qd.prototype).open=function(e,t){if(this.readyState!=Yd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,$d(this)},Yc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Zc).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Yc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jd(this)),this.readyState=Yd},Yc.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,$d(this)),this.g&&(this.readyState=3,$d(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Zc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Yc.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jd(this):$d(this),3==this.readyState&&Xd(this)}},Yc.Za=function(e){this.g&&(this.response=this.responseText=e,Jd(this))},Yc.Ya=function(e){this.g&&(this.response=e,Jd(this))},Yc.ka=function(){this.g&&Jd(this)},Yc.setRequestHeader=function(e,t){this.v.append(e,t)},Yc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Yc.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Qd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Zd=Zc.JSON.parse;function ef(e){ih.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tf,this.L=this.M=!1}lu(ef,ih);var tf="",nf=/^https?$/i,rf=["POST","PUT"];function sf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,of(e),lf(e)}function of(e){e.F||(e.F=!0,sh(e,"complete"),sh(e,"error"))}function af(e){if(e.h&&"undefined"!=typeof $c&&(!e.C[1]||4!=uf(e)||2!=e.da()))if(e.v&&4==uf(e))bh(e.La,0,e);else if(sh(e,"readystatechange"),4==uf(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(hd)[1]||null;!i&&Zc.self&&Zc.self.location&&(i=Zc.self.location.protocol.slice(0,-1)),r=!nf.test(i?i.toLowerCase():"")}n=r}if(n)sh(e,"complete"),sh(e,"success");else{e.m=6;try{var s=2<uf(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",of(e)}}finally{lf(e)}}}function lf(e,t){if(e.g){cf(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||sh(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function cf(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Zc.clearTimeout(e.A),e.A=null)}function uf(e){return e.g?e.g.readyState:0}function hf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case tf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(yp){return null}}function df(e){let t="";return Fu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ff(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=df(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):vd(e,t,n))}function pf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mf(e){this.Ga=0,this.j=[],this.l=new Ch,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pf("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pf("baseRetryDelayMs",5e3,e),this.hb=pf("retryDelaySeedMs",1e4,e),this.eb=pf("forwardChannelMaxRetries",2,e),this.xa=pf("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Pd(e&&e.concurrentRequestLimit),this.Ja=new qd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gf(e){if(yf(e),3==e.H){var t=e.W++,n=fd(e.I);if(vd(n,"SID",e.K),vd(n,"RID",t),vd(n,"TYPE","terminate"),_f(e,n),(t=new Qh(e,e.l,t)).L=2,t.A=yd(fd(n)),n=!1,Zc.navigator&&Zc.navigator.sendBeacon)try{n=Zc.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Zc.Image&&((new Image).src=t.A,n=!0),n||(t.g=Df(t.l,null),t.g.ha(t.A)),t.G=Date.now(),id(t)}Rf(e)}function vf(e){e.g&&(kf(e),e.g.cancel(),e.g=null)}function yf(e){vf(e),e.u&&(Zc.clearTimeout(e.u),e.u=null),Cf(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Zc.clearTimeout(e.m),e.m=null)}function wf(e){if(!Md(e.i)&&!e.m){e.m=!0;var t=e.Na;fh||gh(),ph||(fh(),ph=!0),mh.add(t,e),e.C=0}}function bf(e,t){var n;n=t?t.m:e.W++;const r=fd(e.I);vd(r,"SID",e.K),vd(r,"RID",n),vd(r,"AID",e.V),_f(e,r),e.o&&e.s&&ff(r,e.o,e.s),n=new Qh(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ef(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Fd(e.i,n),Zh(n,r,t)}function _f(e,t){e.na&&Fu(e.na,(function(e,n){vd(t,n,e)})),e.h&&ud({},(function(e,n){vd(t,n,e)}))}function Ef(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ou(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Wd(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Af(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;fh||gh(),ph||(fh(),ph=!0),mh.add(t,e),e.A=0}}function Sf(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=jh(ou(e.Ma,e),If(e,e.A)),e.A++,!0)}function kf(e){null!=e.B&&(Zc.clearTimeout(e.B),e.B=null)}function xf(e){e.g=new Qh(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=fd(e.wa);vd(t,"RID","rpc"),vd(t,"SID",e.K),vd(t,"AID",e.V),vd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&vd(t,"TO",e.qa),vd(t,"TYPE","xmlhttp"),_f(e,t),e.o&&e.s&&ff(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=yd(fd(t)),n.u=null,n.S=!0,ed(n,e)}function Cf(e){null!=e.v&&(Zc.clearTimeout(e.v),e.v=null)}function Tf(e,t){var n=null;if(e.g==t){Cf(e),kf(e),e.g=null;var r=2}else{if(!Ud(e.i,t))return;n=t.F,Bd(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;sh(r=Rh(),new Mh(r,n)),wf(e)}else Af(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(jd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=jh(ou(e.Na,e,t),If(e,e.C)),e.C++,!0))}(e,t)||2==r&&Sf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Nf(e,5);break;case 4:Nf(e,10);break;case 3:Nf(e,6);break;default:Nf(e,2)}}function If(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Nf(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ou(e.pb,e);n||(n=new dd("//www.google.com/images/cleardot.gif"),Zc.location&&"http"==Zc.location.protocol||pd(n,"https"),yd(n)),function(e,t){const n=new Ch;if(Zc.Image){const r=new Image;r.onload=au(Kd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=au(Kd,n,r,"TestLoadImage: error",!1,t),r.onabort=au(Kd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=au(Kd,n,r,"TestLoadImage: timeout",!1,t),Zc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Lh(2);e.H=0,e.h&&e.h.za(t),Rf(e),yf(e)}function Rf(e){if(e.H=0,e.ma=[],e.h){const t=zd(e.i);0==t.length&&0==e.j.length||(du(e.ma,t),du(e.ma,e.j),e.i.i.length=0,hu(e.j),e.j.length=0),e.h.ya()}}function Of(e,t,n){var r=n instanceof dd?fd(n):new dd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),md(r,r.m);else{var i=Zc.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new dd(null);r&&pd(s,r),t&&(s.g=t),i&&md(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&vd(r,n,t),vd(r,"VER",e.ra),_f(e,r),r}function Df(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new ef(new Gd({ob:n})):new ef(e.va)).Oa(e.J),t}function Pf(){}function Lf(){if(Eu&&!(10<=Number(Ou)))throw Error("Environmental error: no available transport.")}function Mf(e,t){ih.call(this),this.g=new mf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!mu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mu(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ff(this)}function jf(e){Wh.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Uf(){Kh.call(this),this.status=1}function Ff(e){this.g=e}function Bf(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zf(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Vf(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Yc=ef.prototype).Oa=function(e){this.M=e},Yc.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hh.g(),this.C=this.u?zh(this.u):zh(Hh),this.g.onreadystatechange=ou(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void sf(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Zc.FormData&&e instanceof Zc.FormData,!(0<=uu(rf,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cf(this),0<this.B&&((this.L=function(e){return Eu&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ou(this.ua,this)):this.A=bh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){sf(this,s)}},Yc.ua=function(){"undefined"!=typeof $c&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sh(this,"timeout"),this.abort(8))},Yc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,sh(this,"complete"),sh(this,"abort"),lf(this))},Yc.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lf(this,!0)),ef.$.N.call(this)},Yc.La=function(){this.s||(this.G||this.v||this.l?af(this):this.kb())},Yc.kb=function(){af(this)},Yc.isActive=function(){return!!this.g},Yc.da=function(){try{return 2<uf(this)?this.g.status:-1}catch(Vd){return-1}},Yc.ja=function(){try{return this.g?this.g.responseText:""}catch(Vd){return""}},Yc.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Zd(t)}},Yc.Ia=function(){return this.m},Yc.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Yc=mf.prototype).ra=8,Yc.H=1,Yc.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Qh(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Bu(s),Vu(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ef(this,i,t),vd(n=fd(this.I),"RID",e),vd(n,"CVER",22),this.F&&vd(n,"X-HTTP-Session-Id",this.F),_f(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(df(s)))+"&"+t:this.o&&ff(n,this.o,s)),Fd(this.i,i),this.bb&&vd(n,"TYPE","init"),this.P?(vd(n,"$req",t),vd(n,"SID","null"),i.aa=!0,Zh(i,n,null)):Zh(i,n,t),this.H=2}}else 3==this.H&&(e?bf(this,e):0==this.j.length||Md(this.i)||bf(this))},Yc.Ma=function(){if(this.u=null,xf(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=jh(ou(this.jb,this),e)}},Yc.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lh(10),vf(this),xf(this))},Yc.ib=function(){null!=this.v&&(this.v=null,vf(this),Sf(this),Lh(19))},Yc.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Lh(2)):(this.l.info("Failed to ping google.com"),Lh(1))},Yc.isActive=function(){return!!this.h&&this.h.isActive(this)},(Yc=Pf.prototype).Ba=function(){},Yc.Aa=function(){},Yc.za=function(){},Yc.ya=function(){},Yc.isActive=function(){return!0},Yc.Va=function(){},Lf.prototype.g=function(e,t){return new Mf(e,t)},lu(Mf,ih),Mf.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Lh(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Of(e,null,e.Y),wf(e)},Mf.prototype.close=function(){gf(this.g)},Mf.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ah(e),e=n);t.j.push(new Dd(t.fb++,e)),3==t.H&&wf(t)},Mf.prototype.N=function(){this.g.h=null,delete this.j,gf(this.g),delete this.g,Mf.$.N.call(this)},lu(jf,Wh),lu(Uf,Kh),lu(Ff,Pf),Ff.prototype.Ba=function(){sh(this.g,"a")},Ff.prototype.Aa=function(e){sh(this.g,new jf(e))},Ff.prototype.za=function(e){sh(this.g,new Uf)},Ff.prototype.ya=function(){sh(this.g,"b")},lu(Bf,(function(){this.blockSize=-1})),Bf.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bf.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)zf(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){zf(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){zf(this,r),i=0;break}}this.h=i,this.i+=t},Bf.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Hf={};function qf(e){return-128<=e&&128>e?function(e,t){var n=Hf;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Vf([0|e],0>e?-1:0)})):new Vf([0|e],0>e?-1:0)}function Wf(e){if(isNaN(e)||!isFinite(e))return Gf;if(0>e)return $f(Wf(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Kf;return new Vf(t,0)}var Kf=4294967296,Gf=qf(0),Qf=qf(1),Yf=qf(16777216);function Xf(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Jf(e){return-1==e.h}function $f(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Vf(n,~e.h).add(Qf)}function Zf(e,t){return e.add($f(t))}function ep(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function tp(e,t){this.g=e,this.h=t}function np(e,t){if(Xf(t))throw Error("division by zero");if(Xf(e))return new tp(Gf,Gf);if(Jf(e))return t=np($f(e),t),new tp($f(t.g),$f(t.h));if(Jf(t))return t=np(e,$f(t)),new tp($f(t.g),t.h);if(30<e.g.length){if(Jf(e)||Jf(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Qf,r=t;0>=r.X(e);)n=rp(n),r=rp(r);var i=ip(n,1),s=ip(r,1);for(r=ip(r,2),n=ip(n,2);!Xf(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=ip(r,1),n=ip(n,1)}return t=Zf(e,i.R(t)),new tp(i,t)}for(i=Gf;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Wf(n)).R(t);Jf(o)||0<o.X(e);)o=(s=Wf(n-=r)).R(t);Xf(s)&&(s=Qf),i=i.add(s),e=Zf(e,o)}return new tp(i,e)}function rp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Vf(n,e.h)}function ip(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Vf(i,e.h)}(Yc=Vf.prototype).ea=function(){if(Jf(this))return-$f(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Kf+r)*t,t*=Kf}return e},Yc.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Xf(this))return"0";if(Jf(this))return"-"+$f(this).toString(e);for(var t=Wf(Math.pow(e,6)),n=this,r="";;){var i=np(n,t).g,s=((0<(n=Zf(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Xf(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Yc.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Yc.X=function(e){return Jf(e=Zf(this,e))?-1:Xf(e)?0:1},Yc.abs=function(){return Jf(this)?$f(this):this},Yc.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Vf(n,-2147483648&n[n.length-1]?-1:0)},Yc.R=function(e){if(Xf(this)||Xf(e))return Gf;if(Jf(this))return Jf(e)?$f(this).R($f(e)):$f($f(this).R(e));if(Jf(e))return $f(this.R($f(e)));if(0>this.X(Yf)&&0>e.X(Yf))return Wf(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,ep(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ep(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ep(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ep(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Vf(n,0)},Yc.gb=function(e){return np(this,e).h},Yc.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Vf(n,this.h&e.h)},Yc.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Vf(n,this.h|e.h)},Yc.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Vf(n,this.h^e.h)},Lf.prototype.createWebChannel=Lf.prototype.g,Mf.prototype.send=Mf.prototype.u,Mf.prototype.open=Mf.prototype.m,Mf.prototype.close=Mf.prototype.close,Uh.NO_ERROR=0,Uh.TIMEOUT=8,Uh.HTTP_ERROR=6,Fh.COMPLETE="complete",Vh.EventType=qh,qh.OPEN="a",qh.CLOSE="b",qh.ERROR="c",qh.MESSAGE="d",ih.prototype.listen=ih.prototype.O,ef.prototype.listenOnce=ef.prototype.P,ef.prototype.getLastError=ef.prototype.Sa,ef.prototype.getLastErrorCode=ef.prototype.Ia,ef.prototype.getStatus=ef.prototype.da,ef.prototype.getResponseJson=ef.prototype.Wa,ef.prototype.getResponseText=ef.prototype.ja,ef.prototype.send=ef.prototype.ha,ef.prototype.setWithCredentials=ef.prototype.Oa,Bf.prototype.digest=Bf.prototype.l,Bf.prototype.reset=Bf.prototype.reset,Bf.prototype.update=Bf.prototype.j,Vf.prototype.add=Vf.prototype.add,Vf.prototype.multiply=Vf.prototype.R,Vf.prototype.modulo=Vf.prototype.gb,Vf.prototype.compare=Vf.prototype.X,Vf.prototype.toNumber=Vf.prototype.ea,Vf.prototype.toString=Vf.prototype.toString,Vf.prototype.getBits=Vf.prototype.D,Vf.fromNumber=Wf,Vf.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return $f(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Wf(Math.pow(n,8)),i=Gf,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Wf(Math.pow(n,o)),i=i.R(o).add(Wf(a))):i=(i=i.R(r)).add(Wf(a))}return i};var sp=Jc.createWebChannelTransport=function(){return new Lf},op=Jc.getStatEventTarget=function(){return Rh()},ap=Jc.ErrorCode=Uh,lp=Jc.EventType=Fh,cp=Jc.Event=Ih,up=Jc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hp=(Jc.FetchXmlHttpFactory=Gd,Jc.WebChannel=Vh),dp=Jc.XhrIo=ef,fp=Jc.Md5=Bf,pp=Jc.Integer=Vf;const mp="@firebase/firestore";class gp{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gp.UNAUTHENTICATED=new gp(null),gp.GOOGLE_CREDENTIALS=new gp("google-credentials-uid"),gp.FIRST_PARTY=new gp("first-party-uid"),gp.MOCK_USER=new gp("mock-user");let vp="10.9.0";const yp=new ar("@firebase/firestore");function wp(){return yp.logLevel}function bp(e){if(yp.logLevel<=nr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ap);yp.debug("Firestore (".concat(vp,"): ").concat(e),...i)}}function _p(e){if(yp.logLevel<=nr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ap);yp.error("Firestore (".concat(vp,"): ").concat(e),...i)}}function Ep(e){if(yp.logLevel<=nr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ap);yp.warn("Firestore (".concat(vp,"): ").concat(e),...i)}}function Ap(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Sp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(vp,") INTERNAL ASSERTION FAILED: ")+e;throw _p(t),new Error(t)}function kp(e,t){e||Sp()}function xp(e,t){return e}const Cp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tp extends Ln{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ip{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Np{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Rp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gp.UNAUTHENTICATED)))}shutdown(){}}class Op{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Dp{constructor(e){this.t=e,this.currentUser=gp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ip;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ip,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{bp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(bp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ip)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(bp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(kp("string"==typeof t.accessToken),new Np(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kp(null===e||"string"==typeof e),new gp(e)}}class Pp{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=gp.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Lp{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Pp(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(gp.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jp{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&bp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,bp("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{bp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):bp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(kp("string"==typeof e.token),this.R=e.token,new Mp(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Up(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Up(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Bp(e,t){return e<t?-1:e>t?1:0}function zp(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Vp{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Tp(Cp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Tp(Cp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Tp(Cp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tp(Cp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vp.fromMillis(Date.now())}static fromDate(e){return Vp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Vp(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bp(this.nanoseconds,e.nanoseconds):Bp(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Hp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Hp(e)}static min(){return new Hp(new Vp(0,0))}static max(){return new Hp(new Vp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qp{constructor(e,t,n){void 0===t?t=0:t>e.length&&Sp(),void 0===n?n=e.length-t:n>e.length-t&&Sp(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===qp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qp?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wp extends qp{construct(e,t,n){return new Wp(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Tp(Cp.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Wp(e)}static emptyPath(){return new Wp([])}}const Kp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gp extends qp{construct(e,t,n){return new Gp(e,t,n)}static isValidIdentifier(e){return Kp.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gp.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gp(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Tp(Cp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Tp(Cp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Tp(Cp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Tp(Cp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gp(t)}static emptyPath(){return new Gp([])}}class Qp{constructor(e){this.path=e}static fromPath(e){return new Qp(Wp.fromString(e))}static fromName(e){return new Qp(Wp.fromString(e).popFirst(5))}static empty(){return new Qp(Wp.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wp.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wp.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qp(new Wp(e.slice()))}}class Yp{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Yp.UNKNOWN_ID=-1;function Xp(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Hp.fromTimestamp(1e9===r?new Vp(n+1,0):new Vp(n,r));return new $p(i,Qp.empty(),t)}function Jp(e){return new $p(e.readTime,e.key,-1)}class $p{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new $p(Hp.min(),Qp.empty(),-1)}static max(){return new $p(Hp.max(),Qp.empty(),-1)}}function Zp(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Qp.comparator(e.documentKey,t.documentKey),0!==n?n:Bp(e.largestBatchId,t.largestBatchId))}const em="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function nm(e){if(e.code!==Cp.FAILED_PRECONDITION||e.message!==em)throw e;bp("LocalStore","Unexpectedly lost primary lease")}class rm{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Sp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rm(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof rm?t:rm.resolve(t)}catch(e){return rm.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):rm.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):rm.reject(t)}static resolve(e){return new rm(((t,n)=>{t(e)}))}static reject(e){return new rm(((t,n)=>{n(e)}))}static waitFor(e){return new rm(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=rm.resolve(!1);for(const n of e)t=t.next((e=>e?rm.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new rm(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new rm(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class im{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Ip,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new am(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=dm(t.target.error);this.V.reject(new am(e,n))}}static open(e,t,n,r){try{return new im(t,e.transaction(r,n))}catch(e){throw new am(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(bp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new cm(t)}}class sm{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===sm.S(Nn())&&_p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return bp("SimpleDb","Removing database:",e),um(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Dn())return!1;if(sm.C())return!0;const e=Nn(),t=sm.S(e),n=0<t&&t<10,r=sm.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(bp("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new am(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Tp(Cp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Tp(Cp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new am(e,r))},r.onupgradeneeded=e=>{bp("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{bp("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=im.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),rm.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(bp("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class om{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return um(this.k.delete())}}class am extends Tp{constructor(e,t){super(Cp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function lm(e){return"IndexedDbTransactionError"===e.name}class cm{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(bp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(bp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),um(n)}add(e){return bp("SimpleDb","ADD",this.store.name,e,e),um(this.store.add(e))}get(e){return um(this.store.get(e)).next((t=>(void 0===t&&(t=null),bp("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return bp("SimpleDb","DELETE",this.store.name,e),um(this.store.delete(e))}count(){return bp("SimpleDb","COUNT",this.store.name),um(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new rm(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new rm(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){bp("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new rm(((n,r)=>{t.onerror=e=>{const t=dm(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new rm(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new om(i),o=t(i.primaryKey,i.value,s);if(o instanceof rm){const e=o.catch((e=>(s.done(),rm.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>rm.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function um(e){return new rm(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=dm(e.target.error);n(t)}}))}let hm=!1;function dm(e){const t=sm.S(Nn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Tp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return hm||(hm=!0,setTimeout((()=>{throw e}),0)),e}}return e}class fm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function pm(e){return null==e}function mm(e){return 0===e&&1/e==-1/0}function gm(e){return"number"==typeof e&&Number.isInteger(e)&&!mm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}fm._e=-1;const vm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ym=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wm=ym;function bm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _m(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Em(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Am{constructor(e,t){this.comparator=e,this.root=t||km.EMPTY}insert(e,t){return new Am(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,km.BLACK,null,null))}remove(e){return new Am(this.comparator,this.root.remove(e,this.comparator).copy(null,null,km.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sm(this.root,e,this.comparator,!0)}}class Sm{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class km{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:km.RED,this.left=null!=r?r:km.EMPTY,this.right=null!=i?i:km.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new km(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return km.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return km.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,km.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,km.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Sp();if(this.right.isRed())throw Sp();const e=this.left.check();if(e!==this.right.check())throw Sp();return e+(this.isRed()?0:1)}}km.EMPTY=null,km.RED=!0,km.BLACK=!1,km.EMPTY=new class{constructor(){this.size=0}get key(){throw Sp()}get value(){throw Sp()}get color(){throw Sp()}get left(){throw Sp()}get right(){throw Sp()}copy(e,t,n,r,i){return this}insert(e,t,n){return new km(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xm{constructor(e){this.comparator=e,this.data=new Am(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cm(this.data.getIterator())}getIteratorFrom(e){return new Cm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof xm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xm(this.comparator);return t.data=e,t}}class Cm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tm{constructor(e){this.fields=e,e.sort(Gp.comparator)}static empty(){return new Tm([])}unionWith(e){let t=new xm(Gp.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Tm(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zp(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Im extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Im("Invalid base64 string: "+e):e}}(e);return new Nm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Nm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bp(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nm.EMPTY_BYTE_STRING=new Nm("");const Rm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Om(e){if(kp(!!e),"string"==typeof e){let t=0;const n=Rm.exec(e);if(kp(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Dm(e.seconds),nanos:Dm(e.nanos)}}function Dm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pm(e){return"string"==typeof e?Nm.fromBase64String(e):Nm.fromUint8Array(e)}function Lm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Mm(e){const t=e.mapValue.fields.__previous_value__;return Lm(t)?Mm(t):t}function jm(e){const t=Om(e.mapValue.fields.__local_write_time__.timestampValue);return new Vp(t.seconds,t.nanos)}class Um{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Fm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fm&&e.projectId===this.projectId&&e.database===this.database}}const Bm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lm(e)?4:eg(e)?9007199254740991:10:Sp()}function Vm(e,t){if(e===t)return!0;const n=zm(e);if(n!==zm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jm(e).isEqual(jm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Om(e.timestampValue),r=Om(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pm(e.bytesValue).isEqual(Pm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Dm(e.geoPointValue.latitude)===Dm(t.geoPointValue.latitude)&&Dm(e.geoPointValue.longitude)===Dm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Dm(e.integerValue)===Dm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Dm(e.doubleValue),r=Dm(t.doubleValue);return n===r?mm(n)===mm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zp(e.arrayValue.values||[],t.arrayValue.values||[],Vm);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bm(n)!==bm(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vm(n[i],r[i])))return!1;return!0}(e,t);default:return Sp()}}function Hm(e,t){return void 0!==(e.values||[]).find((e=>Vm(e,t)))}function qm(e,t){if(e===t)return 0;const n=zm(e),r=zm(t);if(n!==r)return Bp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bp(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Dm(e.integerValue||e.doubleValue),r=Dm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wm(e.timestampValue,t.timestampValue);case 4:return Wm(jm(e),jm(t));case 5:return Bp(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Pm(e),r=Pm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Bp(n[i],r[i]);if(0!==e)return e}return Bp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Bp(Dm(e.latitude),Dm(t.latitude));return 0!==n?n:Bp(Dm(e.longitude),Dm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=qm(n[i],r[i]);if(e)return e}return Bp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Bm.mapValue&&t===Bm.mapValue)return 0;if(e===Bm.mapValue)return 1;if(t===Bm.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Bp(r[o],s[o]);if(0!==e)return e;const t=qm(n[r[o]],i[s[o]]);if(0!==t)return t}return Bp(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Sp()}}function Wm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bp(e,t);const n=Om(e),r=Om(t),i=Bp(n.seconds,r.seconds);return 0!==i?i:Bp(n.nanos,r.nanos)}function Km(e){return Gm(e)}function Gm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Om(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Pm(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Qp.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Gm(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Gm(e.fields[i]));return n+"}"}(e.mapValue):Sp()}function Qm(e){return!!e&&"integerValue"in e}function Ym(e){return!!e&&"arrayValue"in e}function Xm(e){return!!e&&"nullValue"in e}function Jm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $m(e){return!!e&&"mapValue"in e}function Zm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _m(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Zm(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zm(e.arrayValue.values[n]);return t}return Object.assign({},e)}function eg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class tg{constructor(e){this.value=e}static empty(){return new tg({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$m(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zm(t)}setAll(e){let t=Gp.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Zm(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());$m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$m(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_m(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new tg(Zm(this.value))}}function ng(e){const t=[];return _m(e.fields,((e,n)=>{const r=new Gp([e]);if($m(n)){const e=ng(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Tm(t)}class rg{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new rg(e,0,Hp.min(),Hp.min(),Hp.min(),tg.empty(),0)}static newFoundDocument(e,t,n,r){return new rg(e,1,t,Hp.min(),n,r,0)}static newNoDocument(e,t){return new rg(e,2,t,Hp.min(),Hp.min(),tg.empty(),0)}static newUnknownDocument(e,t){return new rg(e,3,t,Hp.min(),Hp.min(),tg.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Hp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tg.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tg.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Hp.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rg(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ig{constructor(e,t){this.position=e,this.inclusive=t}}function sg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Qp.comparator(Qp.fromName(o.referenceValue),n.key):qm(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function og(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vm(e.position[n],t.position[n]))return!1;return!0}class ag{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function lg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class cg{}class ug extends cg{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new yg(e,t,n):"array-contains"===t?new Eg(e,n):"in"===t?new Ag(e,n):"not-in"===t?new Sg(e,n):"array-contains-any"===t?new kg(e,n):new ug(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new wg(e,n):new bg(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qm(t,this.value)):null!==t&&zm(this.value)===zm(t)&&this.matchesComparison(qm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sp()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hg extends cg{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new hg(e,t)}matches(e){return dg(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function dg(e){return"and"===e.op}function fg(e){return pg(e)&&dg(e)}function pg(e){for(const t of e.filters)if(t instanceof hg)return!1;return!0}function mg(e){if(e instanceof ug)return e.field.canonicalString()+e.op.toString()+Km(e.value);if(fg(e))return e.filters.map((e=>mg(e))).join(",");{const t=e.filters.map((e=>mg(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function gg(e,t){return e instanceof ug?function(e,t){return t instanceof ug&&e.op===t.op&&e.field.isEqual(t.field)&&Vm(e.value,t.value)}(e,t):e instanceof hg?function(e,t){return t instanceof hg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&gg(n,t.filters[r])),!0)}(e,t):void Sp()}function vg(e){return e instanceof ug?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Km(e.value))}(e):e instanceof hg?function(e){return e.op.toString()+" {"+e.getFilters().map(vg).join(" ,")+"}"}(e):"Filter"}class yg extends ug{constructor(e,t,n){super(e,t,n),this.key=Qp.fromName(n.referenceValue)}matches(e){const t=Qp.comparator(e.key,this.key);return this.matchesComparison(t)}}class wg extends ug{constructor(e,t){super(e,"in",t),this.keys=_g("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class bg extends ug{constructor(e,t){super(e,"not-in",t),this.keys=_g("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _g(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Qp.fromName(e.referenceValue)))}class Eg extends ug{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ym(t)&&Hm(t.arrayValue,this.value)}}class Ag extends ug{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hm(this.value.arrayValue,t)}}class Sg extends ug{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hm(this.value.arrayValue,t)}}class kg extends ug{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ym(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Hm(this.value.arrayValue,e)))}}class xg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function Cg(e){return new xg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Tg(e){const t=xp(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>mg(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),pm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Km(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Km(e))).join(",")),t.ce=e}return t.ce}function Ig(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!gg(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!og(e.startAt,t.startAt)&&og(e.endAt,t.endAt)}function Ng(e){return Qp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Rg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Og(e,t,n,r,i,s,o,a){return new Rg(e,t,n,r,i,s,o,a)}function Dg(e){return new Rg(e)}function Pg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Lg(e){return null!==e.collectionGroup}function Mg(e){const t=xp(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new xm(Gp.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new ag(r,n))})),e.has(Gp.keyField().canonicalString())||t.le.push(new ag(Gp.keyField(),n))}return t.le}function jg(e){const t=xp(e);return t.he||(t.he=Ug(t,Mg(e))),t.he}function Ug(e,t){if("F"===e.limitType)return Cg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ag(e.field,t)}));const n=e.endAt?new ig(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ig(e.startAt.position,e.startAt.inclusive):null;return Cg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Fg(e,t,n){return new Rg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bg(e,t){return Ig(jg(e),jg(t))&&e.limitType===t.limitType}function zg(e){return"".concat(Tg(jg(e)),"|lt:").concat(e.limitType)}function Vg(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>vg(e))).join(", "),"]")),pm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Km(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Km(e))).join(",")),"Target(".concat(t,")")}(jg(e)),"; limitType=").concat(e.limitType,")")}function Hg(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Qp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Mg(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=sg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mg(e),t))&&!(e.endAt&&!function(e,t,n){const r=sg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mg(e),t))}(e,t)}function qg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wg(e){return(t,n)=>{let r=!1;for(const i of Mg(e)){const e=Kg(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Kg(e,t,n){const r=e.field.isKeyField()?Qp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qm(r,i):Sp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Sp()}}class Gg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_m(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Em(this.inner)}size(){return this.innerSize}}const Qg=new Am(Qp.comparator);function Yg(){return Qg}const Xg=new Am(Qp.comparator);function Jg(){let e=Xg;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function $g(e){let t=Xg;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Zg(){return tv()}function ev(){return tv()}function tv(){return new Gg((e=>e.toString()),((e,t)=>e.isEqual(t)))}const nv=new Am(Qp.comparator),rv=new xm(Qp.comparator);function iv(){let e=rv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const sv=new xm(Bp);function ov(){return sv}function av(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mm(t)?"-0":t}}function lv(e){return{integerValue:""+e}}function cv(e,t){return gm(t)?lv(t):av(e,t)}class uv{constructor(){this._=void 0}}function hv(e,t,n){return e instanceof pv?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Lm(t)&&(t=Mm(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof mv?gv(e,t):e instanceof vv?yv(e,t):function(e,t){const n=fv(e,t),r=bv(n)+bv(e.Ie);return Qm(n)&&Qm(e.Ie)?lv(r):av(e.serializer,r)}(e,t)}function dv(e,t,n){return e instanceof mv?gv(e,t):e instanceof vv?yv(e,t):n}function fv(e,t){return e instanceof wv?function(e){return Qm(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class pv extends uv{}class mv extends uv{constructor(e){super(),this.elements=e}}function gv(e,t){const n=_v(t);for(const r of e.elements)n.some((e=>Vm(e,r)))||n.push(r);return{arrayValue:{values:n}}}class vv extends uv{constructor(e){super(),this.elements=e}}function yv(e,t){let n=_v(t);for(const r of e.elements)n=n.filter((e=>!Vm(e,r)));return{arrayValue:{values:n}}}class wv extends uv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function bv(e){return Dm(e.integerValue||e.doubleValue)}function _v(e){return Ym(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ev{constructor(e,t){this.field=e,this.transform=t}}class Av{constructor(e,t){this.version=e,this.transformResults=t}}class Sv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sv}static exists(e){return new Sv(void 0,e)}static updateTime(e){return new Sv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xv{}function Cv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new jv(e.key,Sv.none()):new Ov(e.key,e.data,Sv.none());{const n=e.data,r=tg.empty();let i=new xm(Gp.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Dv(e.key,r,new Tm(i.toArray()),Sv.none())}}function Tv(e,t,n){e instanceof Ov?function(e,t,n){const r=e.value.clone(),i=Lv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dv?function(e,t,n){if(!kv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Lv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Pv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Iv(e,t,n,r){return e instanceof Ov?function(e,t,n,r){if(!kv(e.precondition,t))return n;const i=e.value.clone(),s=Mv(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dv?function(e,t,n,r){if(!kv(e.precondition,t))return n;const i=Mv(e.fieldTransforms,r,t),s=t.data;return s.setAll(Pv(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return kv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Nv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=fv(r.transform,e||null);null!=i&&(null===n&&(n=tg.empty()),n.set(r.field,i))}return n||null}function Rv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zp(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mv&&t instanceof mv||e instanceof vv&&t instanceof vv?zp(e.elements,t.elements,Vm):e instanceof wv&&t instanceof wv?Vm(e.Ie,t.Ie):e instanceof pv&&t instanceof pv}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ov extends xv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Dv extends xv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Pv(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Lv(e,t,n){const r=new Map;kp(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,dv(o,a,n[i]))}return r}function Mv(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,hv(e,s,t))}return r}class jv extends xv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uv extends xv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Tv(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Iv(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Iv(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ev();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Cv(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Hp.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),iv())}isEqual(e){return this.batchId===e.batchId&&zp(this.mutations,e.mutations,((e,t)=>Rv(e,t)))&&zp(this.baseMutations,e.baseMutations,((e,t)=>Rv(e,t)))}}class Bv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){kp(e.mutations.length===n.length);let r=nv;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Bv(e,t,n,r)}}class zv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Vv{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hv,qv;function Wv(e){switch(e){default:return Sp();case Cp.CANCELLED:case Cp.UNKNOWN:case Cp.DEADLINE_EXCEEDED:case Cp.RESOURCE_EXHAUSTED:case Cp.INTERNAL:case Cp.UNAVAILABLE:case Cp.UNAUTHENTICATED:return!1;case Cp.INVALID_ARGUMENT:case Cp.NOT_FOUND:case Cp.ALREADY_EXISTS:case Cp.PERMISSION_DENIED:case Cp.FAILED_PRECONDITION:case Cp.ABORTED:case Cp.OUT_OF_RANGE:case Cp.UNIMPLEMENTED:case Cp.DATA_LOSS:return!0}}function Kv(e){if(void 0===e)return _p("GRPC error has no .code"),Cp.UNKNOWN;switch(e){case Hv.OK:return Cp.OK;case Hv.CANCELLED:return Cp.CANCELLED;case Hv.UNKNOWN:return Cp.UNKNOWN;case Hv.DEADLINE_EXCEEDED:return Cp.DEADLINE_EXCEEDED;case Hv.RESOURCE_EXHAUSTED:return Cp.RESOURCE_EXHAUSTED;case Hv.INTERNAL:return Cp.INTERNAL;case Hv.UNAVAILABLE:return Cp.UNAVAILABLE;case Hv.UNAUTHENTICATED:return Cp.UNAUTHENTICATED;case Hv.INVALID_ARGUMENT:return Cp.INVALID_ARGUMENT;case Hv.NOT_FOUND:return Cp.NOT_FOUND;case Hv.ALREADY_EXISTS:return Cp.ALREADY_EXISTS;case Hv.PERMISSION_DENIED:return Cp.PERMISSION_DENIED;case Hv.FAILED_PRECONDITION:return Cp.FAILED_PRECONDITION;case Hv.ABORTED:return Cp.ABORTED;case Hv.OUT_OF_RANGE:return Cp.OUT_OF_RANGE;case Hv.UNIMPLEMENTED:return Cp.UNIMPLEMENTED;case Hv.DATA_LOSS:return Cp.DATA_LOSS;default:return Sp()}}(qv=Hv||(Hv={}))[qv.OK=0]="OK",qv[qv.CANCELLED=1]="CANCELLED",qv[qv.UNKNOWN=2]="UNKNOWN",qv[qv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qv[qv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qv[qv.NOT_FOUND=5]="NOT_FOUND",qv[qv.ALREADY_EXISTS=6]="ALREADY_EXISTS",qv[qv.PERMISSION_DENIED=7]="PERMISSION_DENIED",qv[qv.UNAUTHENTICATED=16]="UNAUTHENTICATED",qv[qv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qv[qv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qv[qv.ABORTED=10]="ABORTED",qv[qv.OUT_OF_RANGE=11]="OUT_OF_RANGE",qv[qv.UNIMPLEMENTED=12]="UNIMPLEMENTED",qv[qv.INTERNAL=13]="INTERNAL",qv[qv.UNAVAILABLE=14]="UNAVAILABLE",qv[qv.DATA_LOSS=15]="DATA_LOSS";let Gv=null;function Qv(){return new TextEncoder}const Yv=new pp([4294967295,4294967295],0);function Xv(e){const t=Qv().encode(e),n=new fp;return n.update(t),new Uint8Array(n.digest())}function Jv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new pp([n,r],0),new pp([i,s],0)]}class $v{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Zv("Invalid padding: ".concat(t));if(n<0)throw new Zv("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Zv("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Zv("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=pp.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(pp.fromNumber(n)));return 1===r.compare(Yv)&&(r=new pp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Xv(e),[n,r]=Jv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new $v(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Xv(e),[n,r]=Jv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Zv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ey{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ty.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ey(Hp.min(),r,new Am(Bp),Yg(),iv())}}class ty{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ty(n,t,iv(),iv(),iv())}}class ny{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class ry{constructor(e,t){this.targetId=e,this.fe=t}}class iy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nm.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class sy{constructor(){this.ge=0,this.pe=ly(),this.ye=Nm.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=iv(),t=iv(),n=iv();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Sp()}})),new ty(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=ly()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,kp(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class oy{constructor(e){this.Be=e,this.ke=new Map,this.qe=Yg(),this.Qe=ay(),this.Ke=new Am(Bp)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Sp()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Ng(i))if(0===n){const e=new Qp(i.path);this.We(t,e,rg.newNoDocument(e,Hp.min()))}else kp(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Gv||Gv.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Pm(n).toUint8Array()}catch(e){if(e instanceof Im)return Ep("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new $v(s,r,i)}catch(e){return Ep(e instanceof Zv?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Ng(i.target)){const t=new Qp(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,rg.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=iv();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new ey(e,t,this.Ke,this.qe,n);return this.qe=Yg(),this.Qe=ay(),this.Ke=new Am(Bp),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new sy,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new xm(Bp),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||bp("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new sy),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function ay(){return new Am(Qp.comparator)}function ly(){return new Am(Qp.comparator)}const cy={asc:"ASCENDING",desc:"DESCENDING"},uy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hy={and:"AND",or:"OR"};class dy{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fy(e,t){return e.useProto3Json||pm(t)?t:{value:t}}function py(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function my(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gy(e,t){return py(e,t.toTimestamp())}function vy(e){return kp(!!e),Hp.fromTimestamp(function(e){const t=Om(e);return new Vp(t.seconds,t.nanos)}(e))}function yy(e,t){return wy(e,t).canonicalString()}function wy(e,t){const n=function(e){return new Wp(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function by(e){const t=Wp.fromString(e);return kp(By(t)),t}function _y(e,t){return yy(e.databaseId,t.path)}function Ey(e,t){const n=by(t);if(n.get(1)!==e.databaseId.projectId)throw new Tp(Cp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tp(Cp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Qp(xy(n))}function Ay(e,t){return yy(e.databaseId,t)}function Sy(e){const t=by(e);return 4===t.length?Wp.emptyPath():xy(t)}function ky(e){return new Wp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xy(e){return kp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Cy(e,t,n){return{name:_y(e,t),fields:n.value.mapValue.fields}}function Ty(e,t){let n;if(t instanceof Ov)n={update:Cy(e,t.key,t.value)};else if(t instanceof jv)n={delete:_y(e,t.key)};else if(t instanceof Dv)n={update:Cy(e,t.key,t.data),updateMask:Fy(t.fieldMask)};else{if(!(t instanceof Uv))return Sp();n={verify:_y(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof pv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wv)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Sp()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Sp()}(e,t.precondition)),n}function Iy(e,t){return{documents:[Ay(e,t.path)]}}function Ny(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ay(e,i);const s=function(e){if(0!==e.length)return Uy(hg.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:My(e.field),direction:Dy(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=fy(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Ry(e){let t=Sy(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kp(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Oy(e);return t instanceof hg&&fg(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new ag(jy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,pm(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ig(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ig(n,t)}(n.endAt)),Og(t,i,o,s,a,"F",l,c)}function Oy(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=jy(e.unaryFilter.field);return ug.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=jy(e.unaryFilter.field);return ug.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=jy(e.unaryFilter.field);return ug.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=jy(e.unaryFilter.field);return ug.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Sp()}}(e):void 0!==e.fieldFilter?function(e){return ug.create(jy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hg.create(e.compositeFilter.filters.map((e=>Oy(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Sp()}}(e.compositeFilter.op))}(e):Sp()}function Dy(e){return cy[e]}function Py(e){return uy[e]}function Ly(e){return hy[e]}function My(e){return{fieldPath:e.canonicalString()}}function jy(e){return Gp.fromServerFormat(e.fieldPath)}function Uy(e){return e instanceof ug?function(e){if("=="===e.op){if(Jm(e.value))return{unaryFilter:{field:My(e.field),op:"IS_NAN"}};if(Xm(e.value))return{unaryFilter:{field:My(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jm(e.value))return{unaryFilter:{field:My(e.field),op:"IS_NOT_NAN"}};if(Xm(e.value))return{unaryFilter:{field:My(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:My(e.field),op:Py(e.op),value:e.value}}}(e):e instanceof hg?function(e){const t=e.getFilters().map((e=>Uy(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ly(e.op),filters:t}}}(e):Sp()}function Fy(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function By(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class zy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hp.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hp.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nm.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new zy(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zy(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Vy{constructor(e){this.ct=e}}function Hy(e){const t=Ry({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fg(t,t.limit,"L"):t}class qy{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Dm(e.integerValue));else if("doubleValue"in e){const n=Dm(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),mm(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Pm(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?eg(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Sp()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Qp.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}qy.bt=new qy;class Wy{constructor(){this._n=new Ky}addToCollectionParentIndex(e,t){return this._n.add(t),rm.resolve()}getCollectionParents(e,t){return rm.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return rm.resolve()}deleteFieldIndex(e,t){return rm.resolve()}deleteAllFieldIndexes(e){return rm.resolve()}createTargetIndexes(e,t){return rm.resolve()}getDocumentsMatchingTarget(e,t){return rm.resolve(null)}getIndexType(e,t){return rm.resolve(0)}getFieldIndexes(e,t){return rm.resolve([])}getNextCollectionGroupToUpdate(e){return rm.resolve(null)}getMinOffset(e,t){return rm.resolve($p.min())}getMinOffsetFromCollectionGroup(e,t){return rm.resolve($p.min())}updateCollectionGroup(e,t,n){return rm.resolve()}updateIndexEntries(e,t){return rm.resolve()}}class Ky{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xm(Wp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xm(Wp.comparator)).toArray()}}new Uint8Array(0);class Gy{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Gy(e,Gy.DEFAULT_COLLECTION_PERCENTILE,Gy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gy.DEFAULT_COLLECTION_PERCENTILE=10,Gy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gy.DEFAULT=new Gy(41943040,Gy.DEFAULT_COLLECTION_PERCENTILE,Gy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gy.DISABLED=new Gy(-1,0,0);class Qy{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Qy(0)}static Ln(){return new Qy(-1)}}class Yy{constructor(){this.changes=new Gg((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rg.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?rm.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jy{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Iv(n.mutation,e,Tm.empty(),Vp.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,iv()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iv();const r=Zg();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Jg();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Zg();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,iv())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Yg();const s=tv(),o=tv();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Dv)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Iv(o.mutation,t,o.mutation.getFieldMask(),Vp.now())):s.set(t.key,Tm.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Xy(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=tv();let r=new Am(((e,t)=>e-t)),i=iv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Tm.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||iv()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=ev();l.forEach((e=>{if(!i.has(e)){const r=Cv(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return rm.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Qp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):rm.resolve(Zg());let o=-1,a=i;return s.next((t=>rm.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?rm.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,iv()))).next((e=>({batchId:o,changes:$g(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qp(t)).next((e=>{let t=Jg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Jg();return this.indexManager.getCollectionParents(e,i).next((o=>rm.forEach(o,(o=>{const a=function(e,t){return new Rg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,rg.newInvalidDocument(r)))}));let n=Jg();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Iv(s.mutation,r,Tm.empty(),Vp.now()),Hg(t,r)&&(n=n.insert(e,r))})),n}))}}class $y{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return rm.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:vy(e.createTime)}}(t)),rm.resolve()}getNamedQuery(e,t){return rm.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Hy(e.bundledQuery),readTime:vy(e.readTime)}}(t)),rm.resolve()}}class Zy{constructor(){this.overlays=new Am(Qp.comparator),this.hr=new Map}getOverlay(e,t){return rm.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Zg();return rm.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),rm.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),rm.resolve()}getOverlaysForCollection(e,t,n){const r=Zg(),i=t.length+1,s=new Qp(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return rm.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Am(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Zg(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Zg(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return rm.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new zv(t,n));let i=this.hr.get(t);void 0===i&&(i=iv(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class ew{constructor(){this.Pr=new xm(tw.Ir),this.Tr=new xm(tw.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new tw(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new tw(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Qp(new Wp([])),n=new tw(t,e),r=new tw(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Qp(new Wp([])),n=new tw(t,e),r=new tw(t,e+1);let i=iv();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new tw(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class tw{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Qp.comparator(e.key,t.key)||Bp(e.pr,t.pr)}static Er(e,t){return Bp(e.pr,t.pr)||Qp.comparator(e.key,t.key)}}class nw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new xm(tw.Ir)}checkEmpty(e){return rm.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Fv(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new tw(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return rm.resolve(s)}lookupMutationBatch(e,t){return rm.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return rm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return rm.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return rm.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new tw(t,0),r=new tw(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),rm.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xm(Bp);return t.forEach((e=>{const t=new tw(e,0),r=new tw(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),rm.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Qp.isDocumentKey(i)||(i=i.child(""));const s=new tw(new Qp(i),0);let o=new xm(Bp);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),rm.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){kp(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return rm.forEach(t.mutations,(r=>{const i=new tw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new tw(t,0),r=this.wr.firstAfterOrEqual(n);return rm.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,rm.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rw{constructor(e){this.vr=e,this.docs=new Am(Qp.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return rm.resolve(n?n.document.mutableCopy():rg.newInvalidDocument(t))}getEntries(e,t){let n=Yg();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rg.newInvalidDocument(e))})),rm.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Yg();const s=t.path,o=new Qp(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Zp(Jp(o),n)<=0||(r.has(o.key)||Hg(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return rm.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Sp()}Fr(e,t){return rm.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new iw(this)}getSize(e){return rm.resolve(this.size)}}class iw extends Yy{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),rm.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class sw{constructor(e){this.persistence=e,this.Mr=new Gg((e=>Tg(e)),Ig),this.lastRemoteSnapshotVersion=Hp.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ew,this.targetCount=0,this.Lr=Qy.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),rm.resolve()}getLastRemoteSnapshotVersion(e){return rm.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rm.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),rm.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),rm.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Qy(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,rm.resolve()}updateTargetData(e,t){return this.qn(t),rm.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,rm.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),rm.waitFor(i).next((()=>r))}getTargetCount(e){return rm.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return rm.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),rm.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),rm.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),rm.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return rm.resolve(n)}containsKey(e,t){return rm.resolve(this.Nr.containsKey(t))}}class ow{constructor(e,t){this.Br={},this.overlays={},this.kr=new fm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new sw(this),this.indexManager=new Wy,this.remoteDocumentCache=function(e){return new rw(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Vy(t),this.$r=new $y(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new nw(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){bp("MemoryPersistence","Starting transaction:",e);const r=new aw(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return rm.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class aw extends tm{constructor(e){super(),this.currentSequenceNumber=e}}class lw{constructor(e){this.persistence=e,this.zr=new ew,this.jr=null}static Hr(e){return new lw(e)}get Jr(){if(this.jr)return this.jr;throw Sp()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),rm.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),rm.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),rm.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rm.forEach(this.Jr,(n=>{const r=Qp.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Hp.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return rm.or([()=>rm.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class cw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=iv(),r=iv();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new cw(e,t.fromCache,n,r)}}class uw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hw{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=On()?8:sm.v(Nn())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new uw;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(wp()<=nr.DEBUG&&bp("QueryEngine","SDK will not create cache indexes for query:",Vg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),rm.resolve()):(wp()<=nr.DEBUG&&bp("QueryEngine","Query:",Vg(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(wp()<=nr.DEBUG&&bp("QueryEngine","The SDK decides to create cache indexes for query:",Vg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jg(t))):rm.resolve())}ji(e,t){if(Pg(t))return rm.resolve(null);let n=jg(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Fg(t,null,"F"),n=jg(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=iv(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Fg(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Pg(t)||r.isEqual(Hp.min())?rm.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?rm.resolve(null):(wp()<=nr.DEBUG&&bp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vg(t)),this.es(e,s,t,Xp(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new xm(Wg(e));return t.forEach(((t,r)=>{Hg(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return wp()<=nr.DEBUG&&bp("QueryEngine","Using full collection scan to execute query:",Vg(t)),this.zi.getDocumentsMatchingQuery(e,t,$p.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class dw{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Am(Bp),this.rs=new Gg((e=>Tg(e)),Ig),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jy(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function fw(e,t,n,r){return new dw(e,t,n,r)}async function pw(e,t){const n=xp(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=iv();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function mw(e){const t=xp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function gw(e,t,n){let r=iv(),i=iv();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Yg();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Hp.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):bp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function vw(e,t){const n=xp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function yw(e,t){const n=xp(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,rm.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new zy(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function ww(e,t,n){const r=xp(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!lm(e))throw e;bp("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function bw(e,t,n){const r=xp(e);let i=Hp.min(),s=iv();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=xp(e),i=r.rs.get(n);return void 0!==i?rm.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,jg(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Hp.min(),n?s:iv()))).next((e=>(_w(r,qg(t),e),{documents:e,hs:s})))))}function _w(e,t,n){let r=e.ss.get(t)||Hp.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class Ew{constructor(){this.activeTargetIds=ov()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Aw{constructor(){this.no=new Ew,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ew,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sw{io(e){}shutdown(){}}class kw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){bp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){bp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xw=null;function Cw(){return null===xw?xw=268435456+Math.round(2147483648*Math.random()):xw++,"0x"+xw.toString(16)}const Tw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Iw{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Nw="WebChannelConnection";class Rw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=Cw(),o=this.bo(e,t.toUriEncodedString());bp("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(bp("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Ep("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Tw[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Cw();return new Promise(((s,o)=>{const a=new dp;a.setWithCredentials(!0),a.listenOnce(lp.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ap.NO_ERROR:const t=a.getResponseJson();bp(Nw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case ap.TIMEOUT:bp(Nw,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Tp(Cp.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:const n=a.getStatus();if(bp(Nw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Cp).indexOf(t)>=0?t:Cp.UNKNOWN}(t.status);o(new Tp(e,t.message))}else o(new Tp(Cp.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Tp(Cp.UNAVAILABLE,"Connection failed."));break;default:Sp()}}finally{bp(Nw,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);bp(Nw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Cw(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sp(),o=op(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");bp(Nw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Iw({lo:t=>{d?bp(Nw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(bp(Nw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),bp(Nw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,hp.EventType.OPEN,(()=>{d||bp(Nw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,hp.EventType.CLOSE,(()=>{d||(d=!0,bp(Nw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,hp.EventType.ERROR,(t=>{d||(d=!0,Ep(Nw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Tp(Cp.UNAVAILABLE,"The operation could not be completed")))})),p(u,hp.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];kp(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){bp(Nw,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Hv[e];if(void 0!==t)return Kv(t)}(t),i=o.message;void 0===n&&(n=Cp.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Vo(new Tp(n,i)),u.close()}else bp(Nw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,cp.STAT_EVENT,(t=>{t.stat===up.PROXY?bp(Nw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===up.NOPROXY&&bp(Nw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Ow(){return"undefined"!=typeof document?document:null}function Dw(e){return new dy(e,!0)}class Pw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&bp("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Lw{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Pw(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Cp.RESOURCE_EXHAUSTED?(_p(t.toString()),_p("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Cp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Tp(Cp.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return bp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(bp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mw extends Lw{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Sp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(kp(void 0===t||"string"==typeof t),Nm.fromBase64String(t||"")):(kp(void 0===t||t instanceof Uint8Array),Nm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Cp.UNKNOWN:Kv(e.code);return new Tp(t,e.message||"")}(o);n=new iy(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ey(e,r.document.name),s=vy(r.document.updateTime),o=r.document.createTime?vy(r.document.createTime):Hp.min(),a=new tg({mapValue:{fields:r.document.fields}}),l=rg.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ny(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ey(e,r.document),s=r.readTime?vy(r.readTime):Hp.min(),o=rg.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ny([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ey(e,r.document),s=r.removedTargetIds||[];n=new ny([],s,i,null)}else{if(!("filter"in t))return Sp();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Vv(r,i),o=e.targetId;n=new ry(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Hp.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Hp.min():t.readTime?vy(t.readTime):Hp.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=ky(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ng(r)?{documents:Iy(e,r)}:{query:Ny(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=my(e,t.resumeToken);const r=fy(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Hp.min())>0){n.readTime=py(e,t.snapshotVersion.toTimestamp());const r=fy(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Sp()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=ky(this.serializer),t.removeTarget=e,this.t_(t)}}class jw extends Lw{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(kp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(kp(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?vy(e.updateTime):vy(t);return n.isEqual(Hp.min())&&(n=vy(t)),new Av(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=vy(e.commitTime);return this.listener.T_(n,t)}return kp(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ky(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ty(this.serializer,e)))};this.t_(t)}}class Uw extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Tp(Cp.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,wy(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Cp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Tp(Cp.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,wy(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Cp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Tp(Cp.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Fw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(_p(t),this.g_=!1):bp("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Bw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Yw(this)&&(bp("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=xp(e);t.v_.add(4),await Vw(t),t.x_.set("Unknown"),t.v_.delete(4),await zw(t)}(this))}))})),this.x_=new Fw(n,r)}}async function zw(e){if(Yw(e))for(const t of e.F_)await t(!0)}async function Vw(e){for(const t of e.F_)await t(!1)}function Hw(e,t){const n=xp(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Qw(n)?Gw(n):fb(n).Jo()&&Ww(n,t))}function qw(e,t){const n=xp(e),r=fb(n);n.C_.delete(t),r.Jo()&&Kw(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Yw(n)&&n.x_.set("Unknown"))}function Ww(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Hp.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fb(e).c_(t)}function Kw(e,t){e.O_.Oe(t),fb(e).l_(t)}function Gw(e){e.O_=new oy({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),fb(e).start(),e.x_.p_()}function Qw(e){return Yw(e)&&!fb(e).Ho()&&e.C_.size>0}function Yw(e){return 0===xp(e).v_.size}function Xw(e){e.O_=void 0}async function Jw(e){e.C_.forEach(((t,n)=>{Ww(e,t)}))}async function $w(e,t){Xw(e),Qw(e)?(e.x_.S_(t),Gw(e)):e.x_.set("Unknown")}async function Zw(e,t,n){if(e.x_.set("Online"),t instanceof iy&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){bp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await eb(e,n)}else if(t instanceof ny?e.O_.$e(t):t instanceof ry?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Hp.min()))try{const t=await mw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Nm.EMPTY_BYTE_STRING,r.snapshotVersion)),Kw(e,t);const i=new zy(r.target,t,n,r.sequenceNumber);Ww(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){bp("RemoteStore","Failed to raise snapshot:",t),await eb(e,t)}}async function eb(e,t,n){if(!lm(t))throw t;e.v_.add(1),await Vw(e),e.x_.set("Offline"),n||(n=()=>mw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{bp("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await zw(e)}))}function tb(e,t){return t().catch((n=>eb(e,n,t)))}async function nb(e){const t=xp(e),n=pb(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;rb(t);)try{const e=await vw(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,ib(t,e)}catch(e){await eb(t,e)}sb(t)&&ob(t)}function rb(e){return Yw(e)&&e.D_.length<10}function ib(e,t){e.D_.push(t);const n=pb(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function sb(e){return Yw(e)&&!pb(e).Ho()&&e.D_.length>0}function ob(e){pb(e).start()}async function ab(e){pb(e).d_()}async function lb(e){const t=pb(e);for(const n of e.D_)t.I_(n.mutations)}async function cb(e,t,n){const r=e.D_.shift(),i=Bv.from(r,t,n);await tb(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await nb(e)}async function ub(e,t){t&&pb(e).P_&&await async function(e,t){if(function(e){return Wv(e)&&e!==Cp.ABORTED}(t.code)){const n=e.D_.shift();pb(e).Zo(),await tb(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await nb(e)}}(e,t),sb(e)&&ob(e)}async function hb(e,t){const n=xp(e);n.asyncQueue.verifyOperationInProgress(),bp("RemoteStore","RemoteStore received new credentials");const r=Yw(n);n.v_.add(3),await Vw(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await zw(n)}async function db(e,t){const n=xp(e);t?(n.v_.delete(2),await zw(n)):t||(n.v_.add(2),await Vw(n),n.x_.set("Unknown"))}function fb(e){return e.N_||(e.N_=function(e,t,n){const r=xp(e);return r.R_(),new Mw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Jw.bind(null,e),To:$w.bind(null,e),u_:Zw.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Qw(e)?Gw(e):e.x_.set("Unknown")):(await e.N_.stop(),Xw(e))}))),e.N_}function pb(e){return e.L_||(e.L_=function(e,t,n){const r=xp(e);return r.R_(),new jw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:ab.bind(null,e),To:ub.bind(null,e),E_:lb.bind(null,e),T_:cb.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await nb(e)):(await e.L_.stop(),e.D_.length>0&&(bp("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class mb{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ip,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new mb(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tp(Cp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gb(e,t){if(_p("AsyncQueue","".concat(t,": ").concat(e)),lm(e))return new Tp(Cp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class vb{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Qp.comparator(t.key,n.key):(e,t)=>Qp.comparator(e.key,t.key),this.keyedMap=Jg(),this.sortedSet=new Am(this.comparator)}static emptySet(e){return new vb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vb))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new vb;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class yb{constructor(){this.B_=new Am(Qp.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Sp():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class wb{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new wb(e,t,vb.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class bb{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class _b{constructor(){this.queries=new Gg((e=>zg(e)),Bg),this.onlineState="Unknown",this.W_=new Set}}async function Eb(e,t){const n=xp(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.K_()&&t.U_()&&(r=2):(s=new bb,r=t.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=gb(e,"Initialization of query '".concat(Vg(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Q_.push(t),t.G_(n.onlineState),s.q_&&t.z_(s.q_)&&xb(n)}async function Ab(e,t){const n=xp(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),0===s.Q_.length?i=t.U_()?0:1:!s.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Sb(e,t){const n=xp(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&xb(n)}function kb(e,t,n){const r=xp(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function xb(e){e.W_.forEach((e=>{e.next()}))}var Cb,Tb;(Tb=Cb||(Cb={})).j_="default",Tb.Cache="cache";class Ib{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new wb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=wb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Cb.Cache}}class Nb{constructor(e){this.key=e}}class Rb{constructor(e){this.key=e}}class Ob{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=iv(),this.mutatedKeys=iv(),this.ha=Wg(e),this.Pa=new vb(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new yb,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Hg(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||l&&this.ha(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:s,Ea:n,Xi:o,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sp()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const o=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,l=a!==this.ca;return this.ca=a,0!==s.length||l?{snapshot:new wb(this.query,e.Pa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:o}:{Va:o}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new yb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=iv(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new Rb(e))})),this.la.forEach((n=>{e.has(n)||t.push(new Nb(n))})),t}fa(e){this.ua=e.hs,this.la=iv();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return wb.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Db{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Pb{constructor(e){this.key=e,this.pa=!1}}class Lb{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Gg((e=>zg(e)),Bg),this.Sa=new Map,this.ba=new Set,this.Da=new Am(Qp.comparator),this.Ca=new Map,this.va=new ew,this.Fa={},this.Ma=new Map,this.xa=Qy.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function Mb(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=r_(e);let i;const s=r.wa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await Ub(r,t,n,!0),i}async function jb(e,t){const n=r_(e);await Ub(n,t,!0,!1)}async function Ub(e,t,n,r){const i=await yw(e.localStore,jg(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Fb(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Hw(e.remoteStore,i),a}async function Fb(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await bw(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Jb(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const s=await bw(e.localStore,t,!0),o=new Ob(t,s.hs),a=o.Ta(s.documents),l=ty.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);Jb(e,n,c.Va);const u=new Db(t,n,o);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function Bb(e,t,n){const r=xp(e),i=r.wa.get(t),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter((e=>!Bg(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ww(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qw(r.remoteStore,i.targetId),Yb(r,i.targetId)})).catch(nm)):(Yb(r,i.targetId),await ww(r.localStore,i.targetId,!0))}async function zb(e,t){const n=xp(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qw(n.remoteStore,r.targetId))}async function Vb(e,t){const n=xp(e);try{const e=await function(e,t){const n=xp(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Nm.EMPTY_BYTE_STRING,Hp.min()).withLastLimboFreeSnapshotVersion(Hp.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=Yg(),l=iv();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(gw(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Hp.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return rm.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(kp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?kp(r.pa):e.removedDocuments.size>0&&(kp(r.pa),r.pa=!1))})),await e_(n,e,t)}catch(e){await nm(e)}}function Hb(e,t,n){const r=xp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=xp(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&xb(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qb(e,t,n){const r=xp(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),s=i&&i.key;if(s){let e=new Am(Qp.comparator);e=e.insert(s,rg.newNoDocument(s,Hp.min()));const n=iv().add(s),i=new ey(Hp.min(),new Map,new Am(Bp),e,n);await Vb(r,i),r.Da=r.Da.remove(s),r.Ca.delete(t),Zb(r)}else await ww(r.localStore,t,!1).then((()=>Yb(r,t,n))).catch(nm)}async function Wb(e,t){const n=xp(e),r=t.batch.batchId;try{const e=await function(e,t){const n=xp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=rm.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);kp(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=iv();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Qb(n,r,null),Gb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await e_(n,e)}catch(e){await nm(e)}}async function Kb(e,t,n){const r=xp(e);try{const e=await function(e,t){const n=xp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(kp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Qb(r,t,n),Gb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await e_(r,e)}catch(n){await nm(n)}}function Gb(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function Qb(e,t,n){const r=xp(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function Yb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||Xb(e,t)}))}function Xb(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(qw(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),Zb(e))}function Jb(e,t,n){for(const r of n)r instanceof Nb?(e.va.addReference(r.key,t),$b(e,r)):r instanceof Rb?(bp("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||Xb(e,r.key)):Sp()}function $b(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(bp("SyncEngine","New document in limbo: "+n),e.ba.add(r),Zb(e))}function Zb(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new Qp(Wp.fromString(t)),r=e.xa.next();e.Ca.set(r,new Pb(n)),e.Da=e.Da.insert(n,r),Hw(e.remoteStore,new zy(jg(Dg(n.path)),r,"TargetPurposeLimboResolution",fm._e))}}async function e_(e,t,n){const r=xp(e),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{o.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=cw.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.ya.u_(i),await async function(e,t){const n=xp(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>rm.forEach(t,(t=>rm.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>rm.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!lm(e))throw e;bp("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function t_(e,t){const n=xp(e);if(!n.currentUser.isEqual(t)){bp("SyncEngine","User change. New user:",t.toKey());const e=await pw(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new Tp(Cp.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await e_(n,e.us)}}function n_(e,t){const n=xp(e),r=n.Ca.get(t);if(r&&r.pa)return iv().add(r.key);{let e=iv();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}function r_(e){const t=xp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=n_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qb.bind(null,t),t.ya.u_=Sb.bind(null,t.eventManager),t.ya.La=kb.bind(null,t.eventManager),t}function i_(e){const t=xp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Kb.bind(null,t),t}class s_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dw(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return fw(this.persistence,new hw,e.initialUser,this.serializer)}createPersistence(e){return new ow(lw.Hr,this.serializer)}createSharedClientState(e){return new Aw}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class o_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Hb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=t_.bind(null,this.syncEngine),await db(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new _b}createDatastore(e){const t=Dw(e.databaseInfo.databaseId),n=function(e){return new Rw(e)}(e.databaseInfo);return function(e,t,n,r){return new Uw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Bw(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Hb(this.syncEngine,e,0)),kw.D()?new kw:new Sw)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Lb(e,t,n,r,i,s);return o&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=xp(e);bp("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Vw(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class a_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):_p("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class l_{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=gp.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{bp("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(bp("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Tp(Cp.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ip;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=gb(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function c_(e,t){e.asyncQueue.verifyOperationInProgress(),bp("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await pw(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function u_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await d_(e);bp("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>hb(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>hb(t.remoteStore,n))),e._onlineComponents=t}function h_(e){return"FirebaseError"===e.name?e.code===Cp.FAILED_PRECONDITION||e.code===Cp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function d_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){bp("FirestoreClient","Using user provided OfflineComponentProvider");try{await c_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!h_(n))throw n;Ep("Error using user provided cache. Falling back to memory cache: "+n),await c_(e,new s_)}}else bp("FirestoreClient","Using default OfflineComponentProvider"),await c_(e,new s_);return e._offlineComponents}async function f_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(bp("FirestoreClient","Using user provided OnlineComponentProvider"),await u_(e,e._uninitializedComponentsProvider._online)):(bp("FirestoreClient","Using default OnlineComponentProvider"),await u_(e,new o_))),e._onlineComponents}function p_(e){return f_(e).then((e=>e.syncEngine))}async function m_(e){const t=await f_(e),n=t.eventManager;return n.onListen=Mb.bind(null,t.syncEngine),n.onUnlisten=Bb.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=jb.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=zb.bind(null,t.syncEngine),n}function g_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ip;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new a_({next:s=>{t.enqueueAndForget((()=>Ab(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Tp(Cp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Tp(Cp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Ib(Dg(n.path),s,{includeMetadataChanges:!0,ta:!0});return Eb(e,o)}(await m_(e),e.asyncQueue,t,n,r))),r.promise}function v_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ip;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new a_({next:n=>{t.enqueueAndForget((()=>Ab(e,o))),n.fromCache&&"server"===r.source?i.reject(new Tp(Cp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Ib(n,s,{includeMetadataChanges:!0,ta:!0});return Eb(e,o)}(await m_(e),e.asyncQueue,t,n,r))),r.promise}function y_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const w_=new Map;function b_(e,t,n){if(!n)throw new Tp(Cp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function __(e){if(!Qp.isDocumentKey(e))throw new Tp(Cp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function E_(e){if(Qp.isDocumentKey(e))throw new Tp(Cp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function A_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Sp()}function S_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tp(Cp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=A_(e);throw new Tp(Cp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class k_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Tp(Cp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Tp(Cp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Tp(Cp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Tp(Cp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Tp(Cp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Tp(Cp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Tp(Cp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Tp(Cp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Rp;switch(e.type){case"firstParty":return new Lp(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Tp(Cp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=w_.get(e);t&&(bp("ComponentProvider","Removing Datastore"),w_.delete(e),t.terminate())}(this),Promise.resolve()}}class C_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new C_(this.firestore,e,this._query)}}class T_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new I_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new T_(this.firestore,e,this._key)}}class I_ extends C_{constructor(e,t,n){super(e,t,Dg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new T_(this.firestore,null,new Qp(e))}withConverter(e){return new I_(this.firestore,e,this._path)}}function N_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xn(e),b_("collection","path",t),e instanceof x_){const n=Wp.fromString(t,...r);return E_(n),new I_(e,null,n)}{if(!(e instanceof T_||e instanceof I_))throw new Tp(Cp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wp.fromString(t,...r));return E_(n),new I_(e.firestore,null,n)}}function R_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xn(e),1===arguments.length&&(t=Fp.newId()),b_("doc","path",t),e instanceof x_){const n=Wp.fromString(t,...r);return __(n),new T_(e,null,new Qp(n))}{if(!(e instanceof T_||e instanceof I_))throw new Tp(Cp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wp.fromString(t,...r));return __(n),new T_(e.firestore,e instanceof I_?e.converter:null,new Qp(n))}}class O_{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Pw(this,"async_queue_retry"),this.cu=()=>{const e=Ow();e&&bp("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Ow();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=Ow();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new Ip;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!lm(e))throw e;bp("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw _p("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=mb.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&Sp()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function D_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class P_ extends x_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new O_,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||j_(this),this._firestoreClient.terminate()}}function L_(e,t){const n="string"==typeof e?e:t||"(default)",r=Mr("object"==typeof e?e:zr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=kn("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=S_(e,x_))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ep("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=gp.MOCK_USER;else{t=In(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Tp(Cp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new gp(s)}e._authCredentials=new Op(new Np(t,n))}}(r,...e)}return r}function M_(e){return e._firestoreClient||j_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function j_(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Um(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,y_(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new l_(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class U_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new U_(Nm.fromBase64String(e))}catch(e){throw new Tp(Cp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new U_(Nm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class F_{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Tp(Cp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gp(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class B_{constructor(e){this._methodName=e}}class z_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Tp(Cp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Tp(Cp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bp(this._lat,e._lat)||Bp(this._long,e._long)}}const V_=/^__.*__$/;class H_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Dv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ov(e,this.data,t,this.fieldTransforms)}}class q_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Dv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function W_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sp()}}class K_{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new K_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return uE(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(W_(this.Vu)&&V_.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class G_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Dw(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new K_({Vu:e,methodName:t,Du:n,path:Gp.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q_(e){const t=e._freezeSettings(),n=Dw(e._databaseId);return new G_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Y_(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cu(s.merge||s.mergeFields?2:0,t,n,i);oE("Data must be an object, but it was:",o,r);const a=iE(r,o);let l,c;if(s.merge)l=new Tm(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=aE(t,r,n);if(!o.contains(i))throw new Tp(Cp.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));hE(e,i)||e.push(i)}l=new Tm(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new H_(new tg(a),l,c)}class X_ extends B_{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X_}}function J_(e,t,n){return new K_({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class $_ extends B_{_toFieldTransform(e){return new Ev(e.path,new pv)}isEqual(e){return e instanceof $_}}class Z_ extends B_{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=J_(this,e,!0),n=this.vu.map((e=>rE(e,t))),r=new mv(n);return new Ev(e.path,r)}isEqual(e){return e instanceof Z_&&Un(this.vu,e.vu)}}class eE extends B_{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=J_(this,e,!0),n=this.vu.map((e=>rE(e,t))),r=new vv(n);return new Ev(e.path,r)}isEqual(e){return e instanceof eE&&Un(this.vu,e.vu)}}function tE(e,t,n,r){const i=e.Cu(1,t,n);oE("Data must be an object, but it was:",i,r);const s=[],o=tg.empty();_m(r,((e,r)=>{const a=cE(t,e,n);r=Xn(r);const l=i.yu(a);if(r instanceof X_)s.push(a);else{const e=rE(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Tm(s);return new q_(o,a,i.fieldTransforms)}function nE(e,t,n,r,i,s){const o=e.Cu(1,t,n),a=[aE(t,r,n)],l=[i];if(s.length%2!=0)throw new Tp(Cp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(aE(t,s[d])),l.push(s[d+1]);const c=[],u=tg.empty();for(let d=a.length-1;d>=0;--d)if(!hE(c,a[d])){const e=a[d];let t=l[d];t=Xn(t);const n=o.yu(e);if(t instanceof X_)c.push(e);else{const r=rE(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Tm(c);return new q_(u,h,o.fieldTransforms)}function rE(e,t){if(sE(e=Xn(e)))return oE("Unsupported field value:",t,e),iE(e,t);if(e instanceof B_)return function(e,t){if(!W_(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=rE(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Xn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Vp.fromDate(e);return{timestampValue:py(t.serializer,n)}}if(e instanceof Vp){const n=new Vp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:py(t.serializer,n)}}if(e instanceof z_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof U_)return{bytesValue:my(t.serializer,e._byteString)};if(e instanceof T_){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:yy(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(A_(e)))}(e,t)}function iE(e,t){const n={};return Em(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_m(e,((e,r)=>{const i=rE(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function sE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vp||e instanceof z_||e instanceof U_||e instanceof T_||e instanceof B_)}function oE(e,t,n){if(!sE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=A_(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function aE(e,t,n){if((t=Xn(t))instanceof F_)return t._internalPath;if("string"==typeof t)return cE(e,t);throw uE("Field path arguments must be of type string or ",e,!1,void 0,n)}const lE=new RegExp("[~\\*/\\[\\]]");function cE(e,t,n){if(t.search(lE)>=0)throw uE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new F_(...t.split("."))._internalPath}catch(lu){throw uE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function uE(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Tp(Cp.INVALID_ARGUMENT,a+e+l)}function hE(e,t){return e.some((e=>e.isEqual(t)))}class dE{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new T_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fE extends dE{data(){return super.data()}}function pE(e,t){return"string"==typeof t?cE(e,t):t instanceof F_?t._internalPath:t._delegate._internalPath}function mE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Tp(Cp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gE{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Sp()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return _m(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new z_(Dm(e.latitude),Dm(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Mm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jm(e));default:return null}}convertTimestamp(e){const t=Om(e);return new Vp(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Wp.fromString(e);kp(By(n));const r=new Fm(n.get(1),n.get(3)),i=new Qp(n.popFirst(5));return r.isEqual(t)||_p("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function vE(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class yE{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wE extends dE{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new bE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(pE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class bE extends wE{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class _E{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yE(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new bE(this._firestore,this._userDataWriter,n.key,n,new yE(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Tp(Cp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new bE(e._firestore,e._userDataWriter,n.doc.key,n.doc,new yE(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new bE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:EE(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function EE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sp()}}function AE(e){e=S_(e,T_);const t=S_(e.firestore,P_);return g_(M_(t),e._key).then((n=>RE(t,e,n)))}class SE extends gE{constructor(e){super(),this.firestore=e}convertBytes(e){return new U_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new T_(this.firestore,null,t)}}function kE(e){e=S_(e,C_);const t=S_(e.firestore,P_),n=M_(t),r=new SE(t);return mE(e._query),v_(n,e._query).then((n=>new _E(t,r,e,n)))}function xE(e,t,n){e=S_(e,T_);const r=S_(e.firestore,P_),i=vE(e.converter,t,n);return NE(r,[Y_(Q_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Sv.none())])}function CE(e,t,n){e=S_(e,T_);const r=S_(e.firestore,P_),i=Q_(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Xn(t))||t instanceof F_?nE(i,"updateDoc",e._key,t,n,a):tE(i,"updateDoc",e._key,t),NE(r,[s.toMutation(e._key,Sv.exists(!0))])}function TE(e){return NE(S_(e.firestore,P_),[new jv(e._key,Sv.none())])}function IE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=Xn(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||D_(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(D_(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof T_)h=S_(e.firestore,P_),d=Dg(e._key.path),u={next:t=>{n[l]&&n[l](RE(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=S_(e,C_);h=S_(t.firestore,P_),d=t._query;const r=new SE(h);u={next:e=>{n[l]&&n[l](new _E(h,r,t,e))},error:n[l+1],complete:n[l+2]},mE(e._query)}return function(e,t,n,r){const i=new a_(r),s=new Ib(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Eb(await m_(e),s))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>Ab(await m_(e),s)))}}(M_(h),d,c,u)}function NE(e,t){return function(e,t){const n=new Ip;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=i_(e);try{const e=await function(e,t){const n=xp(e),r=Vp.now(),i=t.reduce(((e,t)=>e.add(t.key)),iv());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Yg(),l=iv();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Nv(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Dv(e.key,t,ng(t.value.mapValue),Sv.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:$g(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new Am(Bp)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await e_(r,e.changes),await nb(r.remoteStore)}catch(e){const t=gb(e,"Failed to persist write");n.reject(t)}}(await p_(e),t,n))),n.promise}(M_(e),t)}function RE(e,t,n){const r=n.docs.get(t._key),i=new SE(e);return new wE(e,i,t._key,r,new yE(n.hasPendingWrites,n.fromCache),t.converter)}function OE(){return new X_("deleteField")}function DE(){return new $_("serverTimestamp")}function PE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Z_("arrayUnion",t)}function LE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eE("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){vp=e}(Fr),Lr(new Jn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new P_(new Dp(e.getProvider("auth-internal")),new jp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Tp(Cp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fm(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Vr(mp,"4.5.0",e),Vr(mp,"4.5.0","esm2017")}();const ME=Vl({name:"user",initialState:{email:null,token:"",id:0,fullName:"",photoURL:"",firstName:"",lastName:""},reducers:{setUser(e,t){e.email=t.payload.email,e.token=t.payload.token,e.id=t.payload.id,e.fullName=t.payload.fullName,e.photoURL=t.payload.photoURL,e.firstName=t.payload.firstName,e.lastName=t.payload.lastName},removeUser(e){e.email=null,e.token="",e.id=0,e.fullName="",e.photoURL="",e.firstName="",e.lastName=""}}}),{setUser:jE,removeUser:UE}=ME.actions,FE=ME.reducer,BE=()=>{const e=ga(),t=e.currentUser,n=L_(),r=gn((e=>e.user)).id,i=mn();return(0,zc.jsx)(Hc,{title:"\u0421onfirm",handleForm:(s,o)=>{if(i(Wc()),t){const a=Ns.credential(s,o);return Ks(t,a).then((async()=>{if(t)try{await TE(R_(n,"users",r.toString())),await async function(e){return Xn(e).delete()}(t),await Js(e),i(UE()),i(Kc()),i($l())}catch(RC){console.error("Error:",RC.message),"auth/requires-recent-login"===RC.code?i(Jl()):i(Gc(RC.message))}})).catch((e=>{i(Gc(e.message))}))}i(Gc("\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b"))},error:""})},zE=Vl({name:"useMenu",initialState:{needMenu:!1},reducers:{openMenu:e=>{e.needMenu=!0},closeMenu:e=>{e.needMenu=!1}}}),{openMenu:VE,closeMenu:HE}=zE.actions,qE=zE.reducer,WE=e=>{let{icon:t=!1,color:n,className:r=""}=e;const i=mn();return(0,zc.jsxs)("button",{className:"btnQuit ".concat(r||""),onClick:()=>{i(Zl()),i(HE())},children:[t&&(0,zc.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#71aaeb",viewBox:"0 0 20 20",children:(0,zc.jsx)("path",{"fill-rule":"evenodd",d:"M8.32 2h.93a.75.75 0 1 1 0 1.5h-.9c-1 0-1.7 0-2.24.04a2.9 2.9 0 0 0-1.1.26A2.75 2.75 0 0 0 3.8 5c-.13.25-.21.57-.26 1.11-.04.55-.04 1.25-.04 2.24v3.3c0 1 0 1.7.04 2.24.05.53.13.86.26 1.1A2.75 2.75 0 0 0 5 16.2c.25.13.57.21 1.11.26.55.04 1.25.04 2.24.04h.9a.75.75 0 0 1 0 1.5h-.93c-.96 0-1.72 0-2.33-.05a4.39 4.39 0 0 1-1.67-.41 4.25 4.25 0 0 1-1.86-1.86A4.38 4.38 0 0 1 2.05 14C2 13.4 2 12.64 2 11.68V8.32c0-.96 0-1.72.05-2.33.05-.63.16-1.17.41-1.67a4.25 4.25 0 0 1 1.86-1.86c.5-.25 1.04-.36 1.67-.41C6.6 2 7.36 2 8.32 2Zm5.9 4.97a.75.75 0 0 1 1.06 0l2.5 2.5a.75.75 0 0 1 0 1.06l-2.5 2.5a.75.75 0 1 1-1.06-1.06l1.22-1.22H8.75a.75.75 0 0 1 0-1.5h6.69l-1.22-1.22a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})}),(0,zc.jsx)("span",{style:{marginLeft:"8px",color:n},children:"\u0412\u044b\u0439\u0442\u0438"})]})},KE=()=>{const e=Ke(),t=ga(),n=mn();return(0,zc.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:20},children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438?",(0,zc.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",width:"100%",marginTop:12},children:[(0,zc.jsx)("button",{className:"confirm__btn",style:{color:"#f80707"},onClick:async()=>{n($l()),await Js(t).then((()=>{e("/message/login"),n(UE()),n(HE())})).catch((e=>{}))},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),(0,zc.jsx)("button",{className:"confirm__btn",onClick:()=>{n($l()),n(Kc())},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})};var GE,QE,YE=n(4805);function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE.apply(this,arguments)}function JE(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",XE({width:800,height:800,viewBox:"0 0 800 800",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,GE||(GE=t.createElement("g",{clipPath:"url(#clip0_60_2)"},t.createElement("path",{d:"M776.886 138.125L661.833 23.1141C631.019 -7.68593 581.136 -7.71406 550.309 23.0859L475.727 97.6688L111.272 462.206C96.161 477.316 84.6063 495.552 77.375 515.645L3.50472 721.239C-4.19841 742.694 1.16097 766.652 17.2813 782.772C33.3891 798.88 57.375 804.241 78.8157 796.522L284.383 722.627C304.477 715.408 322.725 703.827 337.822 688.742L682.83 343.719L682.844 343.733L702.344 324.205L776.886 249.634L776.913 249.608C807.592 218.822 807.713 168.966 776.886 138.125ZM150.273 501.208L512.009 139.405L576.545 203.941L209.234 571.252L145.034 507.066C146.717 505.059 148.414 503.066 150.273 501.208ZM265.73 670.709L134.745 717.792L82.236 665.281L129.305 534.309C129.641 533.353 130.113 532.45 130.475 531.508L268.517 669.536C267.575 669.914 266.672 670.372 265.73 670.709ZM298.819 649.741C296.959 651.586 294.967 653.295 292.961 654.98L228.733 590.755L596.045 223.442L660.567 287.964L298.819 649.741ZM737.87 210.647L682.83 265.702L680.069 268.462L531.509 119.903L589.325 62.0875C598.564 52.8891 613.553 52.8766 622.833 62.1281L737.872 177.127C747.125 186.352 747.138 201.342 737.831 210.673L737.87 210.647Z",fill:"black"}))),QE||(QE=t.createElement("defs",null,t.createElement("clipPath",{id:"clip0_60_2"},t.createElement("rect",{width:800,height:800,fill:""})))))}const $E=t.forwardRef(JE);n.p;var ZE,eA;function tA(){return tA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tA.apply(this,arguments)}function nA(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",tA({width:800,height:800,viewBox:"0 0 800 800",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,ZE||(ZE=t.createElement("g",{clipPath:"url(#clip0_82_2)"},t.createElement("path",{d:"M0 0V800H800V0H0ZM276.687 638.173L98.9329 369.981L147.009 345.98L273.027 510.056L669.181 161.789L702.514 201.788L276.687 638.173Z",fill:"#007227"}))),eA||(eA=t.createElement("defs",null,t.createElement("clipPath",{id:"clip0_82_2"},t.createElement("rect",{width:800,height:800,fill:"white"})))))}const rA=t.forwardRef(nA),iA=(n.p,"firebasestorage.googleapis.com"),sA="storageBucket";class oA extends Ln{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(cA(e),"Firebase Storage: ".concat(t," (").concat(cA(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oA.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var aA,lA;function cA(e){return"storage/"+e}function uA(){return new oA(aA.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hA(){return new oA(aA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dA(){return new oA(aA.CANCELED,"User canceled the upload/download.")}function fA(){return new oA(aA.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pA(e){return new oA(aA.INVALID_ARGUMENT,e)}function mA(){return new oA(aA.APP_DELETED,"The Firebase app was deleted.")}function gA(e,t){return new oA(aA.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function vA(e){throw new oA(aA.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(aA||(aA={}));class yA{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=yA.makeFromUrl(e,t)}catch(i){return new yA(e,"")}if(""===n.path)return n;throw r=e,new oA(aA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===iA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new yA(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new oA(aA.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class wA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function bA(e){return"string"===typeof e||e instanceof String}function _A(e){return EA()&&e instanceof Blob}function EA(){return"undefined"!==typeof Blob}function AA(e,t,n,r){if(r<t)throw pA("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw pA("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function SA(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function kA(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function xA(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(lA||(lA={}));class CA{constructor(e,t,n,r,i,s,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new TA(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===lA.NO_ERROR,i=n.getStatus();if(!t||xA(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===lA.ABORT;return void e(!1,new TA(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new TA(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=uA();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?mA():dA())}else{r(hA())}};this.canceled_?t(0,new TA(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class TA{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function IA(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function NA(){const e=IA();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(EA())return new Blob(n);throw new oA(aA.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function RA(e){if("undefined"===typeof atob)throw t="base-64",new oA(aA.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const OA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class DA{constructor(e,t){this.data=e,this.contentType=t||null}}function PA(e,t){switch(e){case OA.RAW:return new DA(LA(t));case OA.BASE64:case OA.BASE64URL:return new DA(MA(e,t));case OA.DATA_URL:return new DA(function(e){const t=new jA(e);return t.base64?MA(OA.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw gA(OA.DATA_URL,"Malformed data URL.")}return LA(t)}(t.rest)}(t),new jA(t).contentType)}throw uA()}function LA(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function MA(e,t){switch(e){case OA.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw gA(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case OA.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw gA(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=RA(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw gA(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class jA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw gA(OA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class UA{constructor(e,t){let n=0,r="";_A(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(_A(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new UA(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new UA(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(EA()){const e=t.map((e=>e instanceof UA?e.data_:e));return new UA(NA.apply(null,e))}{const e=t.map((e=>bA(e)?PA(OA.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new UA(r,!0)}}uploadData(){return this.data_}}function FA(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function BA(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function zA(e,t){return t}class VA{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||zA}}let HA=null;function qA(){if(HA)return HA;const e=[];e.push(new VA("bucket")),e.push(new VA("generation")),e.push(new VA("metageneration")),e.push(new VA("name","fullPath",!0));const t=new VA("name");t.xform=function(e,t){return function(e){return!bA(e)||e.length<2?e:BA(e)}(t)},e.push(t);const n=new VA("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new VA("timeCreated")),e.push(new VA("updated")),e.push(new VA("md5Hash",null,!0)),e.push(new VA("cacheControl",null,!0)),e.push(new VA("contentDisposition",null,!0)),e.push(new VA("contentEncoding",null,!0)),e.push(new VA("contentLanguage",null,!0)),e.push(new VA("contentType",null,!0)),e.push(new VA("metadata","customMetadata",!0)),HA=e,HA}function WA(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new yA(n,r);return t._makeStorageReference(i)}})}(r,e),r}function KA(e,t,n){const r=FA(t);if(null===r)return null;return WA(e,r,n)}function GA(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class QA{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function YA(e){if(!e)throw uA()}function XA(e,t){return function(n,r){const i=KA(e,r,t);return YA(null!==i),i}}function JA(e,t){return function(n,r){const i=KA(e,r,t);return YA(null!==i),function(e,t,n,r){const i=FA(t);if(null===i)return null;if(!bA(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return SA("/b/"+o(i)+"/o/"+o(s),n,r)+kA({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function $A(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new oA(aA.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new oA(aA.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new oA(aA.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new oA(aA.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ZA(e){const t=$A(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new oA(aA.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function eS(e,t,n){const r=SA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new QA(r,"GET",XA(e,n),i);return s.errorHandler=ZA(t),s}function tS(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function nS(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=tS(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+GA(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=UA.getBlob(c,r,u);if(null===h)throw fA();const d={name:l.fullPath},f=SA(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new QA(f,"POST",XA(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=$A(t),m}class rS{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function iS(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){YA(!1)}return YA(!!n&&-1!==(t||["active"]).indexOf(n)),n}const sS=262144;function oS(e,t,n,r,i,s,o,a){const l=new rS(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new oA(aA.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(h,d);if(null===m)throw fA();const g=t.maxUploadRetryTime,v=new QA(n,"POST",(function(e,n){const i=iS(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?XA(t,s)(e,n):null,new rS(o,a,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=$A(e),v}const aS="running",lS="paused",cS="success",uS="canceled",hS="error";function dS(e){switch(e){case"running":case"pausing":case"canceling":return aS;case"paused":return lS;case"success":return cS;case"canceled":return uS;default:return hS}}class fS{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function pS(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let mS=null;class gS{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lA.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=lA.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=lA.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw vA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vA("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw vA("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vA("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class vS extends gS{initXhr(){this.xhr_.responseType="text"}}function yS(){return mS?mS():new vS}class wS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=qA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(aA.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(xA(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=hA()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(aA.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=tS(t,r,i),a={name:o.fullPath},l=SA(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=GA(o,n),h=e.maxUploadRetryTime,d=new QA(l,"POST",(function(e){let t;iS(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){YA(!1)}return YA(bA(t)),t}),h);return d.urlParams=a,d.headers=c,d.body=u,d.errorHandler=$A(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,yS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new QA(n,"POST",(function(e){const t=iS(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){YA(!1)}n||YA(!1);const i=Number(n);return YA(!isNaN(i)),new rS(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=$A(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,yS,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=sS*this._chunkMultiplier,t=new rS(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=oS(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,yS,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(sS*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=eS(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,yS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=nS(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,yS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=dA(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=dS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new fS(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(dS(this._state)){case cS:pS(this._resolve.bind(null,this.snapshot))();break;case uS:case hS:pS(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(dS(this._state)){case aS:case lS:e.next&&pS(e.next.bind(e,this.snapshot))();break;case cS:e.complete&&pS(e.complete.bind(e))();break;default:e.error&&pS(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class bS{constructor(e,t){this._service=e,this._location=t instanceof yA?t:yA.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new bS(e,t)}get root(){const e=new yA(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BA(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new yA(this._location.bucket,e);return new bS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new oA(aA.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function _S(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=SA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new QA(r,"GET",JA(e,n),i);return s.errorHandler=ZA(t),s}(e.storage,e._location,qA());return e.storage.makeRequestWithTokens(t,yS).then((e=>{if(null===e)throw new oA(aA.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function ES(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new yA(e._location.bucket,n);return new bS(e.storage,r)}function AS(e,t){if(e instanceof xS){const n=e;if(null==n._bucket)throw new oA(aA.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sA+"' property when initializing the app?");const r=new bS(n,n._bucket);return null!=t?AS(r,t):r}return void 0!==t?ES(e,t):e}function SS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof xS)return new bS(e,t);throw pA("To use ref(service, url), the first argument must be a Storage instance.")}return AS(e,t)}function kS(e,t){const n=null===t||void 0===t?void 0:t[sA];return null==n?null:yA.makeFromBucketSpec(n,e)}class xS{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=iA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?yA.makeFromBucketSpec(r,this._host):kS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=yA.makeFromBucketSpec(this._url,e):this._bucket=kS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bS(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new wA(mA());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=kA(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new CA(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const CS="@firebase/storage",TS="0.12.2",IS="storage";function NS(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new wS(e,new UA(t),n)}(e=Xn(e),t,n)}function RS(e){return function(e){e._throwIfRoot("getMetadata");const t=eS(e.storage,e._location,qA());return e.storage.makeRequestWithTokens(t,yS)}(e=Xn(e))}function OS(e){return _S(e=Xn(e))}function DS(e,t){return SS(e=Xn(e),t)}function PS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr(),t=arguments.length>1?arguments[1]:void 0;e=Xn(e);const n=Mr(e,IS).getImmediate({identifier:t}),r=kn("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:In(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function LS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new xS(r,i,s,n,Fr)}Lr(new Jn(IS,LS,"PUBLIC").setMultipleInstances(!0)),Vr(CS,TS,""),Vr(CS,TS,"esm2017");var MS=n(9704),jS=n.n(MS);const US=()=>{const{firstName:e,lastName:n,photoURL:r,id:i}=ya(),[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(null),c=ga().currentUser,u=Ke(),h=(0,YE.useMediaQuery)({maxWidth:800}),{thisID:d}=Qe(),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(null),[w,b]=(0,t.useState)(!1),_=PS(),E=mn(),A=L_(),S=R_(A,"users",i.toString());(0,t.useEffect)((()=>{d?i.toString()!==d?u("/message/"):(p(e),g(n),o(r)):u("/message/")}),[]),(0,t.useEffect)((()=>{}));const k=(e,t)=>{const n=e.localeCompare(t)<0?e:t,r=e.localeCompare(t)<0?t:e;return"".concat(n).concat(r)},x=async e=>{const t=(await AE(R_(A,"UserChat",i.toString()))).data();if(t){Object.values(t).forEach((async t=>{if(t.UserInfo.id&&t&&t.UserInfo){const n=t.UserInfo.id,r=k(n,i.toString()),s=R_(A,"UserChat",n),o=(await AE(s)).data();if(o){Object.values(o).forEach((async t=>{t&&t.UserInfo&&t.UserInfo.id&&t.UserInfo.id===i.toString()&&await CE(s,{["".concat(r,".UserInfo.photoURL")]:e})}))}}})),c&&await Qs(c,{photoURL:e}),await CE(S,{photoURL:e})}},C=async()=>{if(v){const e=await(async e=>{const t=await e.arrayBuffer(),n=jS().lib.WordArray.create(t);return jS().SHA256(n).toString(jS().enc.Hex)})(v),t=await(async e=>{try{const t=DS(_,e);return await RS(t),await OS(t)}catch(RC){return"storage/object-not-found"===RC.code||console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 URL-\u0430\u0434\u0440\u0435\u0441\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f:",RC),null}})(e);if(t)o(t),await x(t);else{const t=DS(_,e);NS(t,v).on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;l(Math.floor(t))}),(e=>{E(Gc("string"===typeof e?e:"'\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0439 \u0442\u0438\u043f \u043e\u0448\u0438\u0431\u043a\u0438:', ".concat(e)))}),(async()=>{const e=await OS(t);o(e),await x(e)}))}}};return(0,zc.jsxs)("div",{className:"profile__setting__main",children:[(0,zc.jsx)("div",{className:"profile__avatar",children:null!==a&&100!==a?(0,zc.jsx)("h3",{style:{color:"white"},children:"".concat(a,"%")}):(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)("img",{src:v?URL.createObjectURL(v):s,alt:"\u0412\u0430\u0448\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f",loading:"eager"}),h?(0,zc.jsx)("label",{htmlFor:"image",children:(0,zc.jsx)($E,{className:"editPen__media",width:"30px",height:"30px"})}):(0,zc.jsxs)("label",{htmlFor:"image",className:"edit__photo",children:[(0,zc.jsx)($E,{width:"30px",height:"30px"}),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"]}),(0,zc.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},id:"image",onChange:e=>{const t=e.target.files?e.target.files[0]:null;t&&("image/jpeg"===t.type||"image/png"===t.type?y(t):E(Gc("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442\u0430 jpg, \u043b\u0438\u0431\u043e png")))},alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})]})}),(0,zc.jsxs)("div",{className:"main__grid__setting",children:[(0,zc.jsx)("input",{type:"text",className:"input__grid__setting",value:f,defaultValue:e,onChange:e=>p(e.target.value)}),(0,zc.jsx)("input",{type:"text",className:"input__grid__setting",value:m,defaultValue:n,onChange:e=>g(e.target.value)})]}),(0,zc.jsxs)("div",{className:"setting__btns",children:[(0,zc.jsx)("button",{className:"setting__profile__btn",style:{color:"red"},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,zc.jsx)("button",{className:"setting__profile__btn",style:{color:"green"},onClick:async()=>{const t=[];v&&t.push(C()),m===n&&f===e||t.push((async()=>{const t=(await AE(R_(A,"UserChat",i.toString()))).data(),r=f+" "+m;t&&(Object.values(t).forEach((async t=>{if(t.UserInfo.id&&t&&t.UserInfo){const s=t.UserInfo.id,o=k(s,i.toString()),a=R_(A,"UserChat",s),l=(await AE(a)).data();l&&Object.values(l).forEach((async t=>{t&&t.UserInfo&&t.UserInfo.id&&t.UserInfo.id===i.toString()&&(m===n&&f===e||await CE(a,{["".concat(o,".UserInfo.fullName")]:r}),f!==e&&await CE(a,{["".concat(o,".UserInfo.firstName")]:f}),m!==n&&await CE(a,{["".concat(o,".UserInfo.lastName")]:m}))}))}})),c&&await Qs(c,{displayName:r}),await CE(S,{fullName:r,firstName:f,lastName:m}))})());try{await Promise.all(t),E(ec())}catch(RC){E(Gc("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"))}},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},FS=()=>(0,zc.jsxs)("div",{style:{display:"flex",fontSize:"calc(10px + 2vw)",alignItems:"center"},children:[(0,zc.jsx)(rA,{width:"50px",height:"50px",style:{marginRight:"8px"}}),"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!"]}),BS=()=>{const{error:e}=gn((e=>e.process)),t=Bc(e);return(0,zc.jsx)("h4",{style:{fontSize:"20px"},children:e&&t})},zS=Vl({name:"selectedMess",initialState:{words:[]},reducers:{setSelectMess(e,t){e.words=t.payload},removeSelectMess(e){e.words=[]}}}),{setSelectMess:VS,removeSelectMess:HS}=zS.actions,qS=zS.reducer,WS=()=>{const[e,n]=(0,t.useState)(!1),r=mn(),{words:i}=gn((e=>e.selectedMess)),{overUserID:s}=Qe(),{id:o}=ya(),a=L_(),l=(e,t)=>{const n=e.localeCompare(t)<0?e:t,r=e.localeCompare(t)<0?t:e;return"".concat(n).concat(r)},c=()=>{r($l()),r(Gc(null))};return(0,zc.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,zc.jsx)("h3",{children:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435?"}),(0,zc.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,zc.jsxs)("label",{className:"checkbox-container",children:[(0,zc.jsx)("input",{className:"custom-checkbox",checked:e,type:"checkbox",onChange:()=>{n(!e)}}),(0,zc.jsx)("span",{className:"checkmark"}),(0,zc.jsx)("p",{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443 \u0432\u0441\u0435\u0445?"})]}),(0,zc.jsxs)("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center",gap:"12px"},children:[(0,zc.jsx)("button",{className:"main__btn__del_mess",onClick:c,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,zc.jsx)("button",{onClick:async()=>{if(s){const t=l(s,o.toString()),u=R_(a,"chats",t),h=await AE(u);if(h.exists())if(e)i.forEach((async e=>{e.deleteFor?await CE(R_(a,"chats",t),{messages:LE({id:e.id,text:e.text,senderId:e.senderId,date:e.date,img:e.img,deleteFor:e.deleteFor})}):await CE(R_(a,"chats",t),{messages:LE({id:e.id,text:e.text,senderId:e.senderId,date:e.date,img:e.img})})})),r(HS()),n(!1),c();else{const e=l(s,o.toString());for(let t=0;t<i.length;t++){const n=i[t];if(n.deleteFor)await CE(R_(a,"chats",e),{messages:LE({id:n.id,text:n.text,senderId:n.senderId,date:n.date,img:n.img,deleteFor:n.deleteFor})});else{const e=h.data().messages.map((e=>e.id===n.id?{id:e.id,text:e.text,senderId:e.senderId,date:e.date,img:e.img,deleteFor:o.toString()}:e));await CE(u,{messages:e})}}r(HS()),n(!1),c()}}},className:"main__btn__del_mess delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})};var KS;function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GS.apply(this,arguments)}function QS(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",GS({width:40,height:44,viewBox:"0 0 40 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,KS||(KS=t.createElement("path",{d:"M15.75 22L20 26.2222L24.25 30.4444M24.25 22L15.75 30.4444M3 9.33333H37M28.5 9.33333L27.925 7.61926C27.3676 5.95819 27.0888 5.12766 26.572 4.51362C26.1155 3.97139 25.5295 3.55168 24.8673 3.29298C24.1174 3 23.2364 3 21.4739 3H18.5261C16.7636 3 15.8826 3 15.1327 3.29298C14.4706 3.55168 13.8844 3.97139 13.428 4.51362C12.9111 5.12766 12.6325 5.95819 12.0751 7.61926L11.5 9.33333M32.75 9.33333V30.8667C32.75 34.4138 32.75 36.1871 32.0551 37.542C31.444 38.7337 30.4688 39.7025 29.2692 40.3097C27.9054 41 26.1204 41 22.55 41H17.45C13.8797 41 12.0945 41 10.7308 40.3097C9.53127 39.7025 8.55603 38.7337 7.94483 37.542C7.25 36.1871 7.25 34.4138 7.25 30.8667V9.33333",stroke:"black",strokeWidth:5,strokeLinecap:"round",strokeLinejoin:"round"})))}const YS=t.forwardRef(QS),XS=(n.p,()=>(0,zc.jsxs)("div",{className:"container",children:[(0,zc.jsx)("div",{className:"top",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square"})})})})})})}),(0,zc.jsx)("div",{className:"bottom",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square"})})})})})})}),(0,zc.jsx)("div",{className:"left",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square"})})})})})})}),(0,zc.jsx)("div",{className:"right",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square",children:(0,zc.jsx)("div",{className:"square"})})})})})})})]})),JS=()=>(0,zc.jsx)("div",{className:"loader"}),$S=()=>(0,zc.jsx)("div",{className:"loader_users",children:(0,zc.jsxs)("div",{className:"wrapper",children:[(0,zc.jsx)("div",{className:"circle"}),(0,zc.jsx)("div",{className:"line-1"}),(0,zc.jsx)("div",{className:"line-2"})]})}),ZS=e=>{let{chat:t,UserID:n}=e;const r=mn(),i=L_(),{id:s}=ya();return(0,zc.jsx)("div",{className:"delete__chat",onClick:async e=>{t?(e.stopPropagation(),r(rc(t))):n&&await AE(R_(i,"UserChat",s.toString())).then((t=>{const i=t.data();if(i){const t=i[((e,t)=>{const n=e.localeCompare(t)<0?e:t,r=e.localeCompare(t)<0?t:e;return"".concat(n).concat(r)})(s.toString(),n)];t.UserInfo&&(e.stopPropagation(),r(rc(t)))}}))},children:(0,zc.jsx)(YS,{className:"trash__svg",width:"20px",height:"20px"})})},ek=e=>{let{load:n,setLoad:r}=e;const[i,s]=(0,t.useState)(!1),{confirmDelChatObj:o}=gn((e=>e.isModalReduser)),a=mn(),{id:l}=ya(),c=L_();return n?(0,zc.jsx)("div",{children:(0,zc.jsx)(JS,{})}):(0,zc.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,zc.jsxs)("h3",{children:["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u0430\u0442 \u0434\u043b\u044f ",null===o||void 0===o?void 0:o.UserInfo.fullName,"? "]}),(0,zc.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"10px"},children:[(0,zc.jsxs)("label",{className:"checkbox-container",children:[(0,zc.jsx)("input",{className:"custom-checkbox",checked:i,type:"checkbox",onChange:()=>{s(!i)}}),(0,zc.jsx)("span",{className:"checkmark"}),(0,zc.jsxs)("p",{children:["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0430\u043a \u0436\u0435 \u0434\u043b\u044f ",(0,zc.jsx)("br",{})," ",null===o||void 0===o?void 0:o.UserInfo.fullName,"?"]})]}),(0,zc.jsxs)("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center",gap:"12px"},children:[(0,zc.jsx)("button",{className:"main__btn__del_mess",onClick:()=>{a($l()),a(Gc(null))},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,zc.jsx)("button",{onClick:async()=>{if(r(!0),o){const s=null===o||void 0===o?void 0:o.UserInfo.id,u=((e,t)=>{const n=e.localeCompare(t)<0?e:t,r=e.localeCompare(t)<0?t:e;return"".concat(n).concat(r)})(l.toString(),s);if(i){var e;console.log("1"),await TE(R_(c,"chats",u)),console.log("2"),await CE(R_(c,"UserChat",l.toString()),{[u]:OE()}),console.log("3"),await CE(R_(c,"UserChat",s),{[u]:OE()});const t=null===(e=(await AE(R_(c,"users",l.toString()))).data())||void 0===e?void 0:e.selectedUsers;console.log(t),t&&(t.forEach((async e=>{e.id===s&&await CE(R_(c,"users",l.toString()),{selectedUsers:LE({id:e.id,fullName:e.fullName,photoURL:e.photoURL})})})),r(!1))}else{var t;const e=await AE(R_(c,"chats",u)),i=R_(c,"chats",u),o=null===(t=e.data())||void 0===t?void 0:t.messages;if(o){var n;const e=o.map((e=>({id:e.id,text:e.text,senderId:e.senderId,date:e.date,img:e.img,deleteFor:l.toString()})));await CE(i,{messages:e}),await CE(R_(c,"UserChat",l.toString()),{[u]:OE()});const t=null===(n=(await AE(R_(c,"users",l.toString()))).data())||void 0===n?void 0:n.selectedUsers;t&&(t.forEach((async e=>{e.id===s&&await CE(R_(c,"users",l.toString()),{selectedUsers:LE({id:e.id,fullName:e.fullName,photoURL:e.photoURL})})})),r(!1))}else r(!1),a(Gc("\u0447\u0435 \u0442\u043e \u043d\u0435 \u0442\u043e"))}}else r(!1),a(Gc("\u0447\u0435 \u0442\u043e \u043d\u0435 \u0442\u043e"))},className:"main__btn__del_mess delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})},tk=e=>{let{children:n}=e;const r=mn(),{needReAuth:i,needQuit:s,openCompletSet:o,errModal:a,ConfirmDelMess:l,confirmDelChatObj:c}=gn((e=>e.isModalReduser)),[u,h]=(0,t.useState)(!1),d=()=>{u||(r($l()),r(Gc(null)))};return(0,zc.jsx)("div",{className:"modal-overlay",onClick:e=>{e.target===e.currentTarget&&d()},onKeyDown:e=>{"Escape"===e.code&&d()},children:(0,zc.jsxs)("div",{className:"modal-content",children:[(0,zc.jsx)("span",{className:"close-btn",onClick:d,children:"\xd7"}),i&&(0,zc.jsx)(BE,{}),s&&(0,zc.jsx)(KE,{}),o&&(0,zc.jsx)(FS,{}),a&&(0,zc.jsx)(BS,{}),l&&(0,zc.jsx)(WS,{}),null!==c&&(0,zc.jsx)(ek,{load:u,setLoad:h})]})})},nk={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let rk;const ik=new Uint8Array(16);function sk(){if(!rk&&(rk="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!rk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rk(ik)}const ok=[];for(let n=0;n<256;++n)ok.push((n+256).toString(16).slice(1));function ak(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ok[e[t+0]]+ok[e[t+1]]+ok[e[t+2]]+ok[e[t+3]]+"-"+ok[e[t+4]]+ok[e[t+5]]+"-"+ok[e[t+6]]+ok[e[t+7]]+"-"+ok[e[t+8]]+ok[e[t+9]]+"-"+ok[e[t+10]]+ok[e[t+11]]+ok[e[t+12]]+ok[e[t+13]]+ok[e[t+14]]+ok[e[t+15]]}const lk=function(e,t,n){if(nk.randomUUID&&!t&&!e)return nk.randomUUID();const r=(e=e||{}).random||(e.rng||sk)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return ak(r)},ck=Vl({name:"SearchUsers",initialState:{users:[]},reducers:{setSearchUserData:(e,t)=>{e.users=t.payload}}}),{setSearchUserData:uk}=ck.actions,hk=ck.reducer;var dk,fk;function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pk.apply(this,arguments)}function mk(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",pk({width:34,height:33,viewBox:"0 0 34 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,dk||(dk=t.createElement("circle",{cx:12.5,cy:12.5,r:11,stroke:"black",strokeWidth:3})),fk||(fk=t.createElement("path",{d:"M30.8822 32.6179C31.4996 33.1703 32.4479 33.1176 33.0002 32.5002C33.5526 31.8828 33.5 30.9345 32.8826 30.3822L30.8822 32.6179ZM21.3822 24.1179L30.8822 32.6179L32.8826 30.3822L23.3826 21.8821L21.3822 24.1179Z",fill:"black"})))}const gk=t.forwardRef(mk);n.p;var vk,yk;function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wk.apply(this,arguments)}function bk(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",wk({width:33,height:32,viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,vk||(vk=t.createElement("path",{d:"M2.54688 2.103L30.8311 30.3873",stroke:"black",strokeWidth:3,strokeLinecap:"round"})),yk||(yk=t.createElement("path",{d:"M30.4957 2L2.21139 30.2843",stroke:"black",strokeWidth:3,strokeLinecap:"round"})))}const _k=t.forwardRef(bk),Ek=(n.p,Vl({name:"editMess",initialState:{editMess:null},reducers:{setEditMess(e,t){e.editMess=t.payload},removeEditMess(e){e.editMess=null}}})),{setEditMess:Ak,removeEditMess:Sk}=Ek.actions,kk=Ek.reducer,xk=()=>{const[e,n]=(0,t.useState)(""),r=Ke(),{id:i,fullName:s,photoURL:o}=ya(),a=mn(),l=L_(),c=gn((e=>e.setSearchUsers.users)),[u,h]=(0,t.useState)([]),[d,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),{need:y}=gn((e=>e.needMainInput));(0,t.useEffect)((()=>{m(""!==e)}),[e]),(0,t.useEffect)((()=>{c.length?v(!0):v(!1)}),[c]);const w=async()=>{f(e),a(Wc());const t=await kE(N_(l,"users"));if(t.empty)a(Gc("\u043d\u0435\u0442 \u0442\u0430\u043a\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),a(uk([]));else{const n=[];t.forEach((e=>{const t=e.data();n.push(t)}));const r=n.filter((t=>t.fullName&&t.fullName.toLowerCase().includes(e.toLowerCase())));h(r),a(Kc()),a(uk(r.slice(0,5)))}},b=()=>{n(""),a(Gc(null)),v(!1),setTimeout((()=>{a(uk([]))}),500)};return(0,zc.jsxs)("div",{style:{width:"50%",position:"relative",display:"flex",justifyContent:"center"},children:[(0,zc.jsx)(gk,{className:"lupa",onClick:w}),(0,zc.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.code?w():"Escape"===e.code&&b()},placeholder:"\u041f\u043e\u0438\u0441\u043a",disabled:!y,className:"inputSearch",enterKeyHint:"search"}),c.length>=1?(0,zc.jsx)("div",{className:"modal__mini",onClick:b,children:(0,zc.jsx)(kc,{style:{zIndex:2},children:g&&(0,zc.jsx)(Fc,{timeout:100,classNames:"search",unmountOnExit:!0,in:g,children:(0,zc.jsxs)("div",{className:"user-list",children:[c.map((e=>e.id!==i&&(0,zc.jsxs)("button",{style:{cursor:"pointer"},className:"user-item",onClick:()=>(async e=>{const t=((e,t)=>{const n=e.localeCompare(t)<0?e:t,r=e.localeCompare(t)<0?t:e;return"".concat(n).concat(r)})(i.toString(),e.id.toString());try{(await AE(R_(l,"chats",t))).exists()||(await xE(R_(l,"chats",t),{messages:[]}),await CE(R_(l,"UserChat",i.toString()),{[t+".UserInfo"]:{id:e.id,fullName:e.fullName,photoURL:e.photoURL},[t+".date"]:DE()}),await CE(R_(l,"UserChat",e.id.toString()),{[t+".UserInfo"]:{id:i,fullName:s,photoURL:o},[t+".date"]:DE()})),r("/message/chat/".concat(e.id))}catch(c){a(Gc(c.code)),a(uk([]))}a(uk([])),n("")})(e),children:[(0,zc.jsx)("img",{src:e.photoURL,alt:e.fullName}),(0,zc.jsx)("div",{className:"nameUsersSearch",children:(0,zc.jsx)("p",{children:e.fullName})})]},e.id))),u.length>5&&(0,zc.jsx)("button",{className:"allSearchBtn",onClick:()=>{b(),uk([]),n(""),r("/message/search/".concat(d))},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435"})]})})})}):"",(0,zc.jsx)(kc,{children:p&&(0,zc.jsx)(Fc,{timeout:500,classNames:"close",unmountOnExit:!0,in:p,children:(0,zc.jsx)(_k,{onClick:b,className:"closebtn"})})})]})},Ck=e=>{let{disabled:n}=e;const r=PS(),i=L_(),[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(""),{overUserID:h}=Qe(),{user:d}=gn((e=>e.chat)),[f,p]=(0,t.useState)(""),{id:m}=ya(),g=mn(),{error:v}=gn((e=>e.process)),{editMess:y}=gn((e=>e.editMess)),w=(0,t.useRef)(null);(0,t.useEffect)((()=>{h&&p(((e,t)=>{const n=e.localeCompare(t)<0?e:t,r=e.localeCompare(t)<0?t:e;return"".concat(n).concat(r)})(m.toString(),h))}),[h]),(0,t.useEffect)((()=>{y&&w.current&&(o(y.text),w.current.focus(),u(y.text))}),[y]);const b=async()=>{if(y){if(""!==s)if(s!==c){var e;o(""),l(null),u("");const t=await AE(R_(i,"chats",f)),n=R_(i,"chats",f),r=null===(e=t.data())||void 0===e?void 0:e.messages;if(r){const e=r.map((e=>y.id===e.id?e.deleteFor?{id:e.id,text:s,senderId:e.senderId,date:e.date,img:e.img,checkedFor:e.checkedFor,edited:!0,deleteFor:e.deleteFor}:{id:e.id,text:s,senderId:e.senderId,date:e.date,img:e.img,checkedFor:e.checkedFor,edited:!0}:e));await CE(n,{messages:e}),g(Sk()),g(HS())}}else o(""),l(null),u(""),g(Sk())}else if(a){if(d){const e=await(async e=>{const t=await e.arrayBuffer(),n=jS().lib.WordArray.create(t);return jS().SHA256(n).toString(jS().enc.Hex)})(a),t=await(async e=>{try{const t=DS(r,e);return await RS(t),await OS(t)}catch(v){return"storage/object-not-found"===v.code||g(Gc(v.code)),null}})(e);if(t){if(""!==f){const e=lk();o(""),l(null),await CE(R_(i,"chats",f),{messages:PE({id:e,text:s,senderId:m,date:Vp.now(),img:t,checkedFor:[{id:m.toString()}]})}),""!==s?(await CE(R_(i,"UserChat",d.id),{[f+".lastMessage"]:{text:s,date:Vp.now(),from:m.toString(),messID:e,for:h},[f+".date"]:DE()}).catch((e=>{g(Gc(e.code))})),await CE(R_(i,"UserChat",m.toString()),{[f+".lastMessage"]:{text:s,date:Vp.now(),messID:e,from:m.toString(),for:h},[f+".date"]:DE()}).catch((e=>{g(Gc(e.code))}))):(await CE(R_(i,"UserChat",d.id),{[f+".lastMessage"]:{text:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",date:Vp.now(),messID:e,from:m.toString(),for:h},[f+".date"]:DE()}).catch((e=>{g(Gc(e.code))})),await CE(R_(i,"UserChat",m.toString()),{[f+".lastMessage"]:{text:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",date:Vp.now(),from:m.toString(),messID:e,for:h},[f+".date"]:DE()}).catch((e=>{g(Gc(e.code))})))}}else{const t=DS(r,e);NS(t,a).on("state_changed",(e=>{}),(e=>{g(Gc(e.code))}),(async()=>{try{const e=await OS(t);if(""!==f){const t=lk();o(""),l(null),await CE(R_(i,"chats",f),{messages:PE({id:t,text:s,senderId:m,date:Vp.now(),img:e,checkedFor:[{id:m.toString()}]})}),""!==s?(await CE(R_(i,"UserChat",d.id),{[f+".lastMessage"]:{text:s,date:Vp.now(),from:m.toString(),messID:t,for:h},[f+".date"]:DE()}).catch((e=>{g(Gc(e.code))})),await CE(R_(i,"UserChat",m.toString()),{[f+".lastMessage"]:{text:s,date:Vp.now(),from:m.toString(),messID:t,for:h},[f+".date"]:DE()}).catch((e=>{g(Gc(e.code))}))):(await CE(R_(i,"UserChat",d.id),{[f+".lastMessage"]:{text:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",date:Vp.now(),messID:t,from:m.toString(),for:h},[f+".date"]:DE()}).catch((e=>{g(Gc(e.code))})),await CE(R_(i,"UserChat",m.toString()),{[f+".lastMessage"]:{text:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",date:Vp.now(),messID:t,from:m.toString(),for:h},[f+".date"]:DE()}).catch((e=>{g(Gc(e.code))})))}}catch(v){g(Gc(v.code))}}))}}}else if(d&&""!==f&&""!==s){o(""),l(null);if((await AE(R_(i,"chats",f))).data()){const e=lk(),t={id:e,text:s,senderId:m,date:Vp.now(),img:null,checkedFor:[{id:m.toString()}]};console.log(e),await CE(R_(i,"chats",f),{messages:PE(t)}),console.log(e),await CE(R_(i,"UserChat",d.id),{[f+".lastMessage"]:{text:s,date:Vp.now(),messID:e,from:m.toString(),for:h},[f+".date"]:DE()}).catch((e=>{g(Gc(e))})),console.log(e),await CE(R_(i,"UserChat",m.toString()),{[f+".lastMessage"]:{text:s,date:Vp.now(),from:m.toString(),messID:e,for:h},[f+".date"]:DE()}).catch((e=>{g(Gc(e))}))}else await xE(R_(i,"chats",f),{messages:[]})}};return(0,zc.jsxs)("div",{className:"inputSend",children:[a&&(0,zc.jsxs)("div",{className:"selected__img",children:[(0,zc.jsx)("img",{src:URL.createObjectURL(a),alt:"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),(0,zc.jsx)("button",{style:{border:"none",background:"none",padding:0},onClick:()=>l(null),children:(0,zc.jsx)(_k,{className:"Close__selected__img",width:"25px",height:"25px"})})]}),(0,zc.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0442\u043e \u043d\u0438\u0431\u0443\u0434\u044c...",onChange:e=>o(e.target.value),value:s,onKeyDown:e=>{"Enter"===e.key&&e.currentTarget===e.target&&b()},disabled:n,ref:w,enterKeyHint:"send"}),(0,zc.jsxs)("div",{className:"send",children:[(0,zc.jsx)("input",{type:"file",accept:"video/*,image/*",style:{display:"none"},id:"image",onChange:e=>{const t=e.target.files?e.target.files[0]:null;l(t),e.target.value=""},alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"}),(0,zc.jsx)("label",{htmlFor:"image",children:(0,zc.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmCB8RAzQjvjAGAAAEuUlEQVRYw+2WbUyTVxTH/7cvdFiBOBCKqJCROlJETQQaUVpeu4mxH5ZCidkyUWOiuBmRaBRJIL4lhPnyZR/QxBpRtmqyhtWiRVeftsaAG0t0+AIuoqmausdMrUUstWcfNgh0ILBWlyX7f7p57rnn/s59zj33AP/rLxExZt9ZX2+PUan+FQAbpaVxHJH9w9bWd7mvYHiwSSwGACoSCP65u6mL2TMPH6bpS5dCHRmJAoWCrX72jJLv3MF3Ph9mb9+u9joc3O8FBdDv2wefSBTyjmWvX6OtszPQWl+fz3heBK9Kha8WLRqaJ0NMDLB4MW77/WSWyZAP4IlcjhqlMmxhp2dnC57qdDbKymJGo1CYmBgdjVqFIlDvdOKV1SqILC9/udHn01z3eofWOH+LiqJboZ8Aq4uKCijq6khXUYHPzpwZnuAqMzI4joirNJvDFuk46tZFRHArvV7upscznHDezT09rMHpZKoRVEEyGoXCjtTo6FAB0s/4fJjL83g8ffqkF3HGrVvtshcvOI6Ia+E4e+acOaFAcJX37nEc0agrd9GQlNSti4gINrZRURESGhtpkVgMpcuFWSoV7Tt6NNSTAEbUgYvZCQmitL4+vqip6W9G94uKAAD8li3u1pQUttXtRld+vo1CT8phB6Ks+Hi8EolwPS4u2IjVuly0FmCppaUyV2wsaePjoXC58pnfHzaAN2ng52PHJO+vX08b8/KAvDxI/H6WvG1bqJtPGkBz3eu98rFSOXhArydPQgJLb2tTJV679s4AAGDJg5cvoTcY3mRjNAqFCTXNzSx1yRKqKi5Wa3p7J/I7pYeHk+bm2mN27RrrphAxJnMcOYKj5eW0IzmZfWS1XjQkJYUNwLFLqWRRbW3Uuns3v/P06WAIR3FjI+kqKqB0uaA3mehSSorortV6wRAbGzKAjdLSApVmM30rlWIez8Oj1Y6E4A7U1FBtVRXm8Ty+1mik35eVQWCxoEChEPdbLDYav+JNCGCj2bMFm86fR09cHMkPHmQtCxbgi9u3hyA46+bNWLxnD37xeLCypERddfNmZtbgoDSytJQ1OJ1Iz84WfGoyWXokkikDtFtjYgRLzWaUzZ2LBadOqROrq1VVjx7531Or8cONG/BotZAcOoT9Ph9UOp36x6tXh9ZmZvb3S26tWIGfurqwvrBQ+sJoHKtwjQtwJSkyMuKBxYL9Cxcy07lz0jurVzMWCABAYafbzfY2NAAAJH6/4LFer86wWoN9KH99/tz/TUkJWG8vPFqt8MumJiLGJgUw+IlGgw9ycrC3o2Pggk6XmTU4OMpgVnU1OCK2bN263C6TaTw/hZ1udyBXo4HS5SJdRcUlpKdPCmDa5+3taFy7VlC7fPnIxmRIFL9mTaBWo1H5jx+fKI/yWV8fW5aTQ/2rVuWhu3tMo+GGxHH27EQOwyGu9f79Uc+xsO7Jkz9Dk8uJ3m5n7HDMmIEbMhnm8fxwVi6b+fAh12K3Y5ZKZX964sSlu83NlBL038MgQfO0aYHs6moExGIaaGkZlZGcVS5nB9rbaUdy8ts8AQDA3o4O4cniYhb8vSM1Onpgx4YNODR/Pps5dvEIReTxetmqy5dfbzEYwtFP/Pf1B63n8BCweUoHAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA4LTMxVDE3OjAzOjUyKzAwOjAwAqs7ggAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wOC0zMVQxNzowMzo1MiswMDowMHP2gz4AAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjItMDgtMzFUMTc6MDM6NTIrMDA6MDAk46LhAAAAAElFTkSuQmCC",alt:""})}),(0,zc.jsx)("button",{onClick:b,style:{border:"none",background:"transparent"},children:(0,zc.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAl5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////tZPfGQAAAMh0Uk5TAAkjRW+YuNLl8Pn9/vG3cEYLNXKVtdz88rRxNAQveLzt7L0sD0yh5g0BInS+9vvr1LuLe2lqonMR2ue5hFYWCAJVgrrZbBAH+qhfKgpgqkoGMKNhYqacaN+UOOmS+PMDO4hAp6s8ZwzhU+Qt3k3qgBgabffbT07d9WXgR0vEOsNQQSXHE6yTjWMyK6AZBS4SsJ6kPtg5DhRUP613Nn/Tl5Y90RfVbkRXhrOxG87oIde2Q1L0M58eMZDujFHjssIpzMhrH6mDhXb3djgeAAAAAWJLR0TJar1nXAAAAAlwSFlzAAA7DgAAOw4BzLahgwAABpRJREFUaN61WulDU0cQn8cZchAQSbhiCBAwEUQQ0QYDoVKBAppaLJIWoaCoRKAieNUqaqFVrLZaLR6IrYJFSw9s691aa9v3Z/XNviQQCO/tJmG+QPbNzO7+dnd2jgWgIS4iMio6JlYRp1SplRpFbHy0NiGCoxKVp8RlScuTdRo970f6FF3q8rT0xFC1ZxhWGDP5xUhtylqRnRGC+hxzbh4vTWpFrnllcNot1lX5BT5FqwvXFOUWr9WWrNOuLS4tWlO42vepoGi91cKuf0PaG2ov3rayjXZDeYXD+81RUW6ofHNTnndd1FVvbWZUX23Or/EI22rfrqsPxFNf17DF5hmE0rjVyYLOO7kaUTBz27vZEpLV2Y3bPXsg7r1sav2JTTtEobxmV7XsXF3N74vcusYKSvQ/aCECO2tdrTT8rW21O8XV/jCHBp72MrJBWjoSqI8ql7BLSbZa8m55ZrtCnG/nHmpIBVrZqSNie7fKjX9fF9k6qW4W9UjuGNLD/m7pua7vQa6e3o9Y9QMc6C1EWVufxL6wrD+IPP0DDnb9wvE7dBiljxxdnGUf2XDHPg5GPdLxYyivWBQlO8H/kxPB6gc4cZKs9GDgr6eI/pOng9cPcPoMwcAV6NunZfhtR1so+gHaiREYCnDi6odVuL5B4++lhH48cZ8ttBolaB8KB0LVDzCAu7Xg8/nNZ8nUeoO4OOaTo5hs9XP+rdUj2Jp6PnT9AOdTUdfyL/wau1Ow1wvh0A9gQLsU52eVLubjrdQUHv3CeqJtLdowpyUJLfR2afvpoLocCO35EneSdrYhokpoSJHeoa6vLl2m7uEQ3kBfW32/V+GqdEheeJuzeL6KugeuFm2+z+rlZOH965IUcaMd19kdlD1cQYct/qrnVzf6V8PSst8QI1M4SNmBYxgNt1n8kYFnwOSSERkl10nVNdopmATuEdFvNeAtXOqUG9NAFc+AkvM63gwG8v8NFGyUl7ncz4KSFplv4H+JRlxiGreskgUlNy6zEeOHm+j7dcghxIySE3dq5k3PXFQNdPNmQalB5UG+GRGqo+uABaU6xGhMOHTJwt+yegoJRpTq8QpO5iACbetGSv1MKG3EkURApBAJ6CvpO6BHyS4EQJpI0Ap/Cg0MHVCjZBBGoo+CaIH5VjlDB9Qold8SuMYBneIiytCEDSUOT3A8YDe5jM4EHUqWUoEnFtDSFbPpp0XpNto7wHByLXMHVChhBxrAcFhLq3YhSpEyHSgBI+l17B0AfCu6uRK5EOxAvdQdqEAZJESVJKysapeFKMhFtlMuctzSb9NYvPFZD5oHH+lo1HFJ4PkO4oMwFTT4CKYin5iK8SUzdnfuEmM3wWyuqfAR6KzgTegnYJL1wqHDR6B7eOFMQkT/Ul2Z32PQZAVuCleZ+tKnxcfj0E1xjG4LNT4A2TbRbYG0JXK8Gr2OVzoOaoszvPgIgfEQDiXdi1UeTYaLAR+ACzav80vcd3XY3fckn/sObkzjbJdLkDLhA1BxX2DuEnHJyMUQ6oqMBFNwALA7czaEEoPAZumRPfiBKQhsHZ8TBMLVTcKvaemc6qkjDPgAXMOoN9VXWCCBeK2kzf7xJ5ZAvH7ILxCnSiWMGn/+hVY/zDz0TyXABCZDdkmXSjj6WykHHd6avjktYU7nTKA3lzU3nQPd6FzoWO4dCfoVPSaN2a/N+Ruuc8yDcOj/HeHgh/1TavBof7iSgq2PSRZ+QXquKVxpzdEnWN7oXNDOPcWi1X5zECr96NleQY3+aYDqycWYcKSWI5+jlhcXA31rJ8nxP0JKjv/5EnU8DzxKyyDOjv+rnU3nXJp8Kab3F9srMyEWKJ4RfKZnFmWwJIVSYmkdJQgcfCXBU7FuGnlMxQfY9f/9+AkZ/ytJm2WZIbPkk5nT2GfJ+eX3zsidVbGQwx8uYSrU5fSRiI3vGpRltZx4QcrELfe76UuNz2JIqVE/1UZja3zF0teUxdLLQw+JQMvTDTT8woXXKc6XtzVfkS33VrSN94jcO5poXWiwuKM9BWvT9SjJgrU77b6nYK1pdrOYYqc5q0YUVNteN5wLXHI/1zA07Sm51+SbZec6j/wfDfxjN5RzDu83B3fn0b1/jdOzjwb6KNH3w8l6NMbv2YOx9LaHtuXfzZx9KVKQfDSYZw9IV4+PKHhpUitGgn24QSjjwn9Gk3pR7SbjjZCenhBKXNY4lrrw8YxGNzXWmE69MWWIs05GjcfHKjRKlUp8/jMxaaU76P8DDtk/w12HrtEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDUtMjNUMTU6MTM6MTYrMDE6MDCqM9DnAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTA1LTIzVDE1OjEzOjE2KzAxOjAw225oWwAAAEZ0RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi43LjgtOSAyMDE5LTAyLTAxIFExNiBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ0F74sgAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6aGVpZ2h0ADUxMsDQUFEAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANTEyHHwD3AAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTU4NjIwNzk20fq7IQAAABN0RVh0VGh1bWI6OlNpemUAMTQuNktCQiyX13MAAABxdEVYdFRodW1iOjpVUkkAZmlsZTovLy4vdXBsb2Fkcy81Ni82dHBIRjNHLzE5NDYvMTkwNDY3MS1hcnJvdy1hcnJvdy1yaWdodC1jaGFuZ2UtZGlyZWN0aW9uLW5leHQtcGFnZS1yaWdodF8xMjI1MjEucG5nAsSsoQAAAABJRU5ErkJggg==",alt:"",className:"img_send"})})]}),v&&v]})};var Tk,Ik;function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nk.apply(this,arguments)}function Rk(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",Nk({width:17,height:10,viewBox:"0 0 17 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,Tk||(Tk=t.createElement("path",{d:"M1 1L8.07107 8.07107",stroke:"",strokeWidth:2,strokeLinecap:"round"})),Ik||(Ik=t.createElement("path",{d:"M15.071 1L7.99998 8.07107",stroke:"",strokeWidth:2,strokeLinecap:"round"})))}const Ok=t.forwardRef(Rk),Dk=(n.p,e=>{let{children:n}=e;const[r,i]=(0,t.useState)(!1),{photoURL:s,fullName:o}=ya(),{isOpen:a}=gn((e=>e.isModalReduser));(0,t.useEffect)((()=>{a&&i(!1)}),[a]);return(0,zc.jsxs)(kc,{style:{zIndex:2},children:[(0,zc.jsxs)("button",{className:"btnProfileImg",onClick:()=>{i(!r)},children:[(0,zc.jsx)("img",{src:s,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 ".concat(o),loading:"eager"}),(0,zc.jsx)("div",{className:r?" arrow-profile-wrapper active":"arrow-profile-wrapper",children:(0,zc.jsx)(Ok,{className:"arrow-profile"})})]}),r&&(0,zc.jsx)(Fc,{timeout:100,classNames:"ProfileClose",unmountOnExit:!0,in:r,children:(0,zc.jsx)("div",{className:"modal-overlay-profile",onClick:e=>{e.target===e.currentTarget&&(i(!1),e.stopPropagation())},children:n})})]})});var Pk=n(1418),Lk=n.n(Pk);const Mk=(()=>{var e,t;const n="".concat(null===(e=window)||void 0===e||null===(t=e.localStorage)||void 0===t?void 0:t.getItem("theme"));if(["light","dark"].includes(n))return n;return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"})(),jk=Vl({name:"theme",initialState:Mk,reducers:{set:(e,t)=>t.payload}}),{set:Uk}=jk.actions,Fk=jk.reducer,Bk="theme_ThemeStyle__sTtIv",zk="theme_light__siFaV",Vk="theme_dark__Y1pIE",Hk=e=>{let{className:t="",icon:n}=e;const r=gn((e=>e.theme)),i=mn(),s=(0,YE.useMediaQuery)({maxWidth:800}),o={display:"flex",justifyContent:"center",alignItems:"center",border:"none"},a="light"===r?"#fff":"#000",l=()=>"light"===r?(0,zc.jsxs)("p",{style:{color:"#d5d5d5",marginLeft:"8px"},children:["\u0422\u0435\u043c\u0430: ",(0,zc.jsx)("span",{className:"themeBtn",children:"\u0421\u0432\u0435\u0442\u043b\u0430\u044f"})]}):(0,zc.jsxs)("p",{style:{color:"#d5d5d5",marginLeft:"8px"},children:["\u0422\u0435\u043c\u0430: ",(0,zc.jsx)("span",{className:"themeBtn",children:"\u0422\u0435\u043c\u043d\u0430\u044f"})]});return(0,zc.jsx)("button",{style:o,type:"button",className:Lk()(t,Bk,String("light"===r?zk:Vk)),onClick:()=>{i(Uk("light"===r?"dark":"light"))},children:s?n&&(0,zc.jsxs)("div",{style:o,children:[(0,zc.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,zc.jsx)("path",{d:"M10 5.45455C7.49091 5.45455 5.45455 7.49091 5.45455 10C5.45455 12.5091 7.49091 14.5455 10 14.5455C12.5091 14.5455 14.5455 12.5091 14.5455 10C14.5455 7.49091 12.5091 5.45455 10 5.45455ZM0.909091 10.9091H2.72727C3.22727 10.9091 3.63636 10.5 3.63636 10C3.63636 9.5 3.22727 9.09091 2.72727 9.09091H0.909091C0.409091 9.09091 0 9.5 0 10C0 10.5 0.409091 10.9091 0.909091 10.9091ZM17.2727 10.9091H19.0909C19.5909 10.9091 20 10.5 20 10C20 9.5 19.5909 9.09091 19.0909 9.09091H17.2727C16.7727 9.09091 16.3636 9.5 16.3636 10C16.3636 10.5 16.7727 10.9091 17.2727 10.9091ZM9.09091 0.909091V2.72727C9.09091 3.22727 9.5 3.63636 10 3.63636C10.5 3.63636 10.9091 3.22727 10.9091 2.72727V0.909091C10.9091 0.409091 10.5 0 10 0C9.5 0 9.09091 0.409091 9.09091 0.909091ZM9.09091 17.2727V19.0909C9.09091 19.5909 9.5 20 10 20C10.5 20 10.9091 19.5909 10.9091 19.0909V17.2727C10.9091 16.7727 10.5 16.3636 10 16.3636C9.5 16.3636 9.09091 16.7727 9.09091 17.2727ZM4.53636 3.25455C4.18182 2.9 3.6 2.9 3.25455 3.25455C2.9 3.60909 2.9 4.19091 3.25455 4.53636L4.21818 5.5C4.57273 5.85455 5.15455 5.85455 5.5 5.5C5.84545 5.14545 5.85455 4.56364 5.5 4.21818L4.53636 3.25455ZM15.7818 14.5C15.4273 14.1455 14.8455 14.1455 14.5 14.5C14.1455 14.8545 14.1455 15.4364 14.5 15.7818L15.4636 16.7455C15.8182 17.1 16.4 17.1 16.7455 16.7455C17.1 16.3909 17.1 15.8091 16.7455 15.4636L15.7818 14.5ZM16.7455 4.53636C17.1 4.18182 17.1 3.6 16.7455 3.25455C16.3909 2.9 15.8091 2.9 15.4636 3.25455L14.5 4.21818C14.1455 4.57273 14.1455 5.15455 14.5 5.5C14.8545 5.84545 15.4364 5.85455 15.7818 5.5L16.7455 4.53636ZM5.5 15.7818C5.85455 15.4273 5.85455 14.8455 5.5 14.5C5.14545 14.1455 4.56364 14.1455 4.21818 14.5L3.25455 15.4636C2.9 15.8182 2.9 16.4 3.25455 16.7455C3.60909 17.0909 4.19091 17.1 4.53636 16.7455L5.5 15.7818Z",fill:a})}),l()]}):(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)("div",{children:(0,zc.jsx)("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,zc.jsxs)("g",{fill:"#71aaeb",children:[(0,zc.jsx)("path",{d:"M10.8 6.05a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0zm3.65 2.15a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5zM4.3 9.45a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0zM7.85 4.8a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5z"}),(0,zc.jsx)("path",{"clip-rule":"evenodd",d:"M14.18 14.04c2.14.23 4.32-.75 4.32-4.04A8.47 8.47 0 0 0 10 1.5 8.47 8.47 0 0 0 1.5 10a8.47 8.47 0 0 0 8.5 8.5c1.13 0 2.25-1 1.98-2.43l-.17-.68c-.25-.94-.43-1.6 1.08-1.49l1.29.14zm.16-1.5-.25-.02-1.1-.12a3.34 3.34 0 0 0-1.74.27 2 2 0 0 0-1.1 1.68 3.8 3.8 0 0 0 .22 1.47l.14.54c.02.13 0 .22 0 .28a.44.44 0 0 1-.1.17.57.57 0 0 1-.41.19 6.97 6.97 0 0 1-7-7 6.97 6.97 0 0 1 7-7 6.97 6.97 0 0 1 7 7c0 1.3-.41 1.87-.77 2.15-.42.32-1.07.48-1.9.4z","fill-rule":"evenodd"})]})})}),l()]})})};var qk,Wk,Kk;function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gk.apply(this,arguments)}function Qk(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",Gk({width:45,height:45,viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,qk||(qk=t.createElement("rect",{x:2,y:2,width:41,height:41,rx:20.5,stroke:"#979696",strokeWidth:4})),Wk||(Wk=t.createElement("rect",{x:14,y:5,width:17,height:16,rx:8,stroke:"#979696",strokeWidth:4})),Kk||(Kk=t.createElement("path",{d:"M5.5 33C10.8333 27.1667 25.1 19 39.5 33",stroke:"#979696",strokeWidth:3})))}const Yk=t.forwardRef(Qk),Xk=(n.p,e=>{let{icon:t,className:n=""}=e;const{id:r}=ya(),i=Ke(),s=mn();return(0,zc.jsxs)("button",{className:"btnQuit ".concat(n),onClick:()=>{s(HE()),i("/message/profile/setting/".concat(r.toString()))},children:[t&&(0,zc.jsx)(Yk,{width:"20",height:"20",className:"profile__icon__link"}),(0,zc.jsx)("span",{style:{marginLeft:"8px"},children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})]})}),Jk=()=>{const e=function(e){He()||c(!1);let{pathname:n}=qe();return t.useMemo((()=>R(e,n)),[n,e])}("message/search/:value");return(0,zc.jsxs)(zc.Fragment,{children:[!e&&(0,zc.jsx)(xk,{}),(0,zc.jsx)(Dk,{children:(0,zc.jsxs)("ul",{className:"profileButton",children:[(0,zc.jsx)("li",{className:"list_menu",children:(0,zc.jsx)(Xk,{icon:!0})}),(0,zc.jsx)("li",{className:"list_menu",children:(0,zc.jsx)(Hk,{icon:!1})}),(0,zc.jsx)("li",{className:"list_menu",children:(0,zc.jsx)(WE,{color:"#71aaeb",icon:!0})})]})})]})},$k=e=>{let{children:t,className:n,onClick:r}=e;return(0,zc.jsx)("button",{className:n,onClick:r,children:t})};var Zk;function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ex.apply(this,arguments)}function tx(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",ex({width:51,height:46,viewBox:"0 0 51 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,Zk||(Zk=t.createElement("path",{d:"M24.5702 43.423C20.9792 37.3389 12.4015 22.677 6.73925 11.9499C5.32433 9.2693 4.09922 6.849 3.18202 4.87765C3.16275 4.83622 3.14364 4.79505 3.12469 4.75413C3.36256 5.03053 3.61391 5.32662 3.87918 5.64331C8.48832 11.1458 12.185 15.3847 15.4303 18.2477C18.6685 21.1044 21.6813 22.7969 24.9284 22.8147C28.1693 22.8324 31.2496 21.1788 34.6181 18.3355C37.9973 15.4832 41.8943 11.2332 46.7721 5.66889C47.2147 5.16407 47.6211 4.71039 47.9932 4.3044C47.9211 4.45633 47.8464 4.61214 47.7692 4.77177C46.814 6.74652 45.5344 9.17376 44.0544 11.8636C38.1317 22.6277 29.1365 37.3528 25.3924 43.4276C25.1967 43.7452 24.7549 43.7361 24.5702 43.423Z",stroke:"black",strokeWidth:3})))}const nx=t.forwardRef(tx),rx=(n.p,()=>{const[e,n]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=()=>{const e=document.getElementById("header");if(e){const t=e.getBoundingClientRect();n(t.top>=0&&t.bottom<=window.innerHeight)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,zc.jsx)(kc,{children:!e&&(0,zc.jsx)(Fc,{timeout:500,classNames:"close_arrow",unmountOnExit:!0,in:e,children:(0,zc.jsx)($k,{className:"scrollTop",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:(0,zc.jsxs)("svg",{width:"32",height:"40",viewBox:"0 0 16 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,zc.jsx)("line",{x1:"5.5",y1:"12",x2:"5.5",y2:"22",stroke:"black"}),(0,zc.jsx)("path",{d:"M11 22.5V12.5H15L8.5 1L7.5 2.5L1.5 12.5H5.5V22.5H11Z",stroke:"black"})]})})})})}),ix=()=>{const[e,n]=(0,t.useState)(!0);(0,t.useEffect)((()=>{const e=()=>{const e=document.getElementById("soobsheniya"),t=document.getElementById("bottom__message");if(e&&t){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();n(i.top>=r.top&&i.bottom<=r.bottom)}},t=document.getElementById("soobsheniya");if(t)return t.addEventListener("scroll",e),()=>{t.removeEventListener("scroll",e)}}),[]);return(0,zc.jsx)(kc,{children:!e&&(0,zc.jsx)(Fc,{timeout:500,classNames:"close_arrow",unmountOnExit:!0,in:!e,children:(0,zc.jsx)($k,{className:"scrollBottom",onClick:()=>{const e=document.getElementById("bottom__message");e&&e.scrollIntoView({behavior:"smooth"})},children:(0,zc.jsx)(nx,{width:"39",height:"37"})})})})},sx=n.p+"static/media/My-logo-mini.20081e8f2d7b5a86d7b8.png",ox=()=>{const e=Ke(),t=mn();return(0,zc.jsx)("button",{type:"button",style:{backgroundColor:"transparent",border:"none",padding:"20px 20px",color:"inherit",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:()=>{t(HS()),e("/message/")},children:(0,zc.jsx)("img",{src:sx,alt:"Main page",style:{width:"40px"}})})},ax=()=>{const[e,n]=(0,t.useState)(""),r=Ke(),i=()=>{r("/message/search/".concat(e)),n("")};return(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)("div",{className:"mini__logo",children:(0,zc.jsx)("img",{src:sx,alt:"Logo",style:{width:"100%"},onClick:()=>{r("/message/")}})}),(0,zc.jsxs)("div",{className:"transition__input",children:[(0,zc.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),className:"search__media",placeholder:"",onKeyDown:e=>{"Enter"===e.code&&i()}}),(0,zc.jsx)(gk,{className:"header__lupa",onClick:i})]})]})};var lx,cx,ux,hx,dx;function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fx.apply(this,arguments)}function px(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",fx({width:48,height:45,viewBox:"0 0 48 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,lx||(lx=t.createElement("path",{d:"M8 2.5H40C43.0376 2.5 45.5 4.96243 45.5 8V34C45.5 35.933 43.933 37.5 42 37.5H8C4.96243 37.5 2.5 35.0376 2.5 32V8C2.5 4.96243 4.96243 2.5 8 2.5Z",stroke:"#979696",strokeWidth:5})),cx||(cx=t.createElement("rect",{x:10,y:17,width:6,height:6,rx:3,fill:"#979696"})),ux||(ux=t.createElement("rect",{x:21,y:17,width:6,height:6,rx:3,fill:"#979696"})),hx||(hx=t.createElement("rect",{x:32,y:17,width:6,height:6,rx:3,fill:"#979696"})),dx||(dx=t.createElement("path",{id:"last__path",fill:"#979696",d:"M42 39.2381C42 39.6571 46 43.254 48 45C47.418 43.8145 46.6103 40.0994 47.8762 34.5238C47.1525 37.6667 42 38.7143 42 39.2381Z"})))}const mx=t.forwardRef(px),gx=(n.p,()=>{const{needMenu:e}=gn((e=>e.useMenu)),t=mn(),n=Ke(),r="/message/"===qe().pathname;return(0,zc.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-around"},children:[(0,zc.jsx)(mx,{onClick:()=>{t(HS()),n("/message/")},className:"mess__icon ".concat(r?"active":"")}),(0,zc.jsx)("div",{className:"profile__main",onClick:()=>{t(e?HE():VE())},children:(0,zc.jsx)(Yk,{className:"profile__icon"})})]})}),vx=()=>{const{needMenu:e}=gn((e=>e.useMenu)),{photoURL:n,fullName:r,id:i}=gn((e=>e.user)),s=mn();return(0,t.useEffect)((()=>{document.body.style.overflow=e?"hidden":"auto",window.scrollTo({top:0,behavior:"smooth"})}),[e]),(0,zc.jsxs)("div",{className:"menu",children:[(0,zc.jsx)("button",{className:"close__btn__menu",onClick:()=>s(HE()),children:"\xd7"}),(0,zc.jsxs)("div",{className:"profile__block",children:[(0,zc.jsx)("img",{src:n,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 ".concat(r),loading:"eager"}),(0,zc.jsx)("h4",{children:r}),(0,zc.jsx)(Xk,{className:"setting__profile",icon:!1})]}),(0,zc.jsx)(Hk,{className:"media__menu__theme",icon:!0}),(0,zc.jsx)(WE,{icon:!1,color:"#f80707",className:"media__menu__quit"}),(0,zc.jsx)("div",{})]})},yx=()=>{const{isAuth:e}=ya(),n=(0,YE.useMediaQuery)({maxWidth:800}),{isOpen:r}=gn((e=>e.isModalReduser)),{needMenu:i}=gn((e=>e.useMenu)),{user:s}=gn((e=>e.chat)),o=qe();return(0,t.useEffect)((()=>{const e=o.pathname;switch(!0){case e.startsWith("/message/chat"):null!==s&&void 0!==s&&s.fullName&&(document.title=s.fullName);break;case e.startsWith("/message/search"):document.title="\u041f\u043e\u0438\u0441\u043a";break;default:document.title="\u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"}}),[o,s]),(0,zc.jsxs)(zc.Fragment,{children:[e&&(0,zc.jsx)("header",{className:"App-header",id:"header",children:n?(0,zc.jsx)(ax,{}):(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)(ox,{}),(0,zc.jsx)(Jk,{})]})}),r&&(0,zc.jsx)(tk,{}),(0,zc.jsx)(ct,{}),e&&(0,zc.jsx)(rx,{}),e&&n&&(0,zc.jsx)("footer",{className:"App-footer",id:"footer",children:(0,zc.jsx)(gx,{})}),e&&n&&(0,zc.jsx)(Fc,{timeout:5e3,classNames:"open-menu",in:i,unmountOnExit:!0,children:(0,zc.jsx)(vx,{})})]})},wx=()=>(0,zc.jsx)("div",{}),bx=n.p+"static/media/background-login.04e2dd3cc922d375a504.png",_x=n.p+"static/media/My-logo-big.8be969c6d37cb3094901.png",Ex=()=>{const e=mn(),n=Ke(),{loading:r}=gn((e=>e.process))||{},i=qe(),s=(0,YE.useMediaQuery)({maxWidth:800}),o=ga(),[a,l]=(0,t.useState)(null),{isAuth:c}=ya();(0,t.useEffect)((()=>{e(Wc()),"/message/login"===i.pathname&&(document.title="\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"),c?(n("/message/"),e(Kc())):setTimeout((()=>{e(Kc())}),500)}),[c]);const u=async(t,r)=>{try{l(null),e(Wc()),await function(e,t,n){return Ws(Xn(e),Ns.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Gs(e),t}))}(o,t,r).then((t=>{Ys(o,to).then((async t=>{const r=o.currentUser;if(r){const t={email:r.email,token:r.refreshToken,id:r.uid,fullName:r.displayName,photoURL:r.photoURL};e(jE(t)),e(Kc()),c&&n("/message/")}})).catch((t=>{l(t.code),e(Kc())}))})).catch((t=>{l(t.code),e(Kc())}))}catch(RC){l(RC.code),e(Kc())}};return r?(0,zc.jsx)(XS,{}):(0,zc.jsxs)("div",{className:"regBlock",style:{backgroundImage:"url(".concat(bx,")")},children:[!s&&(0,zc.jsx)("img",{src:_x,alt:"Logo this website",style:{width:"20vw"}}),(0,zc.jsxs)("div",{className:"block__form_login",children:[(0,zc.jsx)(Vc,{title:"Signin",handleForm:(e,t)=>u(e,t),error:a||""}),(0,zc.jsxs)("p",{className:"signin",children:["\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?  ",(0,zc.jsx)(jt,{style:{textShadow:"none"},to:"/message/register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})," "]}),a&&a]})]})},Ax=e=>{let{title:n,handleForm:r,error:i}=e;const[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(""),[f,p]=(0,t.useState)(!1),m=Bc(i),[g,v]=(0,t.useState)(!1);(0,t.useEffect)((()=>{i&&v(!0)}),[i]);return(0,zc.jsxs)(Ut,{className:"form",children:[(0,zc.jsx)("p",{className:"title",children:" \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "}),(0,zc.jsxs)("label",{children:[(0,zc.jsx)("input",{type:"firstName",maxLength:16,value:c,placeholder:"",required:!0,className:"input",onChange:e=>u(e.target.value),enterKeyHint:"go"}),(0,zc.jsx)("span",{children:"\u0418\u043c\u044f"})]}),(0,zc.jsxs)("label",{children:[(0,zc.jsx)("input",{type:"lastName",maxLength:16,value:h,placeholder:"",required:!0,className:"input",onChange:e=>d(e.target.value),enterKeyHint:"go"}),(0,zc.jsx)("span",{children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"})]}),(0,zc.jsxs)("label",{children:[(0,zc.jsx)("input",{type:"email",minLength:4,value:s,className:"input",placeholder:"",required:!0,onChange:e=>o(e.target.value),enterKeyHint:"go"}),(0,zc.jsx)("span",{children:"Email"})]}),(0,zc.jsxs)("label",{children:[(0,zc.jsx)("input",{type:f?"text":"password",value:a,className:"input",placeholder:"",required:!0,onChange:e=>l(e.target.value),enterKeyHint:"go"}),(0,zc.jsx)("span",{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,zc.jsx)("button",{onClick:e=>{p(!f),e.preventDefault()},className:"eye__btn",title:"hide or not hide password",style:f?{}:{margin:"0 4px 0 0"},children:f?(0,zc.jsx)(pc,{width:"32.5px",height:"32.5px"}):(0,zc.jsx)(cc,{width:"25px",height:"25px"})})]}),(0,zc.jsx)("button",{className:"submit",disabled:!(s.length>=4&&a.length>=6&&c.length>=2),onClick:()=>r(s,a,c,h),children:n}),(0,zc.jsx)(kc,{children:g&&(0,zc.jsx)(Fc,{timeout:500,classNames:"slide",unmountOnExit:!0,in:g,children:(0,zc.jsx)("div",{style:{display:"flex",flexDirection:"column",color:"black"},children:m&&m})})})]})},Sx=()=>{const e=mn(),n=Ke(),r=L_(),{loading:i}=gn((e=>e.process))||{},[s,o]=(0,t.useState)(!1),{isAuth:a}=ya(),l=(0,YE.useMediaQuery)({maxWidth:800}),c=qe(),[u,h]=(0,t.useState)(null),d="https://firebasestorage.googleapis.com/v0/b/messager-react-1753d.appspot.com/o/default__photo.jpg?alt=media&token=808ffaeb-5259-4554-b25a-782e7b38ce8b";(0,t.useEffect)((()=>{null!==u&&o(!0)}),[u]),(0,t.useEffect)((()=>{e(Wc()),"/message/register"===c.pathname&&(document.title="\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),a?(n("/message/"),e(Kc())):setTimeout((()=>{e(Kc())}),500)}),[a]);return i?(0,zc.jsx)(XS,{}):(0,zc.jsxs)("div",{className:"regBlock",style:{backgroundImage:"url(".concat(bx,")")},children:[!l&&(0,zc.jsx)("img",{src:_x,alt:"Logo this website",style:{width:"20vw"}}),(0,zc.jsxs)("div",{className:"block__form_login",children:[(0,zc.jsx)(Ax,{title:"Signup",handleForm:async(t,i,s,o)=>{const l=ga(),c=s+" "+o;try{e(Wc());const{user:u}=await async function(e,t,n){const r=us(e),i=vs(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",js),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Gs(e),t})),o=await Us._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(l,t,i);await Qs(u,{displayName:c,photoURL:d});const h=R_(r,"users",u.uid);await xE(h,{email:u.email,token:u.refreshToken,id:u.uid,fullName:u.displayName,photoURL:d}),await CE(h,{firstName:s,lastName:o}),await Ys(l,to),e(jE({email:u.email,token:u.refreshToken,id:u.uid,fullName:u.displayName,photoURL:d,firstName:s,lastName:o})),await xE(R_(r,"UserChat",u.uid),{}),setTimeout((()=>{e(Kc()),a&&n("/message/")}),200)}catch(RC){e(Kc()),h(RC.code)}},error:u||""}),(0,zc.jsxs)("p",{className:"signin",children:[" \u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?  ",(0,zc.jsx)(jt,{style:{textShadow:"none"},to:"/message/login",children:"\u0412\u0445\u043e\u0434"})," "]})]})]})},kx=Vl({name:"chat",initialState:{chatID:null,user:null},reducers:{setChat(e,t){const{chatID:n,user:r}=t.payload;e.user=r,e.chatID=n},removeChat(e){e.chatID="",e.user=null}}}),{setChat:xx,removeChat:Cx}=kx.actions,Tx=kx.reducer;var Ix=function(e,t){return Ix=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ix(e,t)};var Nx=function(){return Nx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nx.apply(this,arguments)};var Rx="Pixel",Ox="Percent",Dx={unit:Ox,value:.8};function Px(e){return"number"===typeof e?{unit:Ox,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:Rx,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:Ox,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Dx):(console.warn("scrollThreshold should be string or number"),Dx)}var Lx=function(e){function n(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var i,s=!1,o=0;function a(){i&&clearTimeout(i)}function l(){var l=this,c=Date.now()-o,u=arguments;function h(){o=Date.now(),n.apply(l,u)}s||(r&&!i&&h(),a(),void 0===r&&c>e?h():!0!==t&&(i=setTimeout(r?function(){i=void 0}:h,void 0===r?e-c:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){a(),s=!0},l}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}Ix(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),n.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?Nx(Nx({},t),{prevDataLength:e.dataLength}):null},n.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=Px(t);return r.unit===Rx?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},n.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=Px(t);return r.unit===Rx?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},n.prototype.render=function(){var e=this,n=Nx({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return t.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},t.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:n},this.props.pullDownToRefresh&&t.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},t.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(t.Component);const Mx=Lx,jx=Vl({name:"useProcess",initialState:{loadingMess:!1},reducers:{StartMessages:e=>{e.loadingMess=!0},FinishMessages:e=>{e.loadingMess=!1}}}),{StartMessages:Ux,FinishMessages:Fx}=jx.actions,Bx=jx.reducer,zx=Vl({name:"needMainInput",initialState:{need:!0},reducers:{setDisabledInput:e=>{e.need=e.need=!1},setWorkedInput:e=>{e.need=e.need=!0}}}),{setDisabledInput:Vx,setWorkedInput:Hx}=zx.actions,qx=zx.reducer,Wx=n.p+"static/media/uvedomlenie-o-poluchennoy-pochte.3f821d65698144b5f6e3.ogg",Kx=e=>{var n,r,i,s;let{userLastMess:o,numNotif:a}=e;const[l,c]=(0,t.useState)(!1),{id:u}=ya(),{activeUser:h}=gn((e=>e.activeUser)),[d,f]=(0,t.useState)(1);return(0,t.useEffect)((()=>{const e=setInterval((()=>{c((e=>!e))}),2e3);return()=>clearInterval(e)}),[]),(0,t.useEffect)((()=>{if(h&&d&&d>0){f(d-1);new Audio(Wx).play()}}),[l]),(0,zc.jsx)("div",{className:"info__user_mess",children:(null===(n=o.lastMessage)||void 0===n?void 0:n.for)===u.toString()&&l?(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)("h3",{children:o.UserInfo.fullName}),(0,zc.jsx)("p",{children:(0,zc.jsx)("span",{className:"LastMessage",children:"\u041d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})})]}):(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)("h3",{children:o.UserInfo.fullName}),(0,zc.jsx)("p",{children:(null===(r=o.lastMessage)||void 0===r?void 0:r.from)===u.toString()?(0,zc.jsxs)(zc.Fragment,{children:["\u0412\u044b: ",(0,zc.jsxs)("span",{className:"LastMessage",children:[" ",null===(i=o.lastMessage)||void 0===i?void 0:i.text," "]})]}):(0,zc.jsx)("span",{className:"LastMessage",children:null===(s=o.lastMessage)||void 0===s?void 0:s.text})}),(0,zc.jsx)(ZS,{chat:o})]})})},Gx=e=>{var t,n,r;let{userLastMess:i}=e;const{id:s}=ya();return(0,zc.jsxs)("div",{className:"info__user_mess",children:[(0,zc.jsx)("h3",{children:i.UserInfo.fullName}),(0,zc.jsx)("p",{children:(null===(t=i.lastMessage)||void 0===t?void 0:t.from)===s.toString()?(0,zc.jsxs)(zc.Fragment,{children:["\u0412\u044b: ",(0,zc.jsxs)("span",{className:"LastMessage",children:[" ",null===(n=i.lastMessage)||void 0===n?void 0:n.text," "]})]}):(0,zc.jsx)("span",{className:"LastMessage",children:null===(r=i.lastMessage)||void 0===r?void 0:r.text})}),(0,zc.jsx)(ZS,{chat:i})]})},Qx=()=>{const{id:e,fullName:n,photoURL:r}=ya(),[i,s]=(0,t.useState)(""),[o,a]=(0,t.useState)(!0),[l,c]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[d,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)(0),y=mn(),{loadingMess:w}=gn((e=>e.processMessages)),[b,_]=(0,t.useState)(15),E=Ke(),A=L_(),S="R17HULm5ASdb2XUQesjLuEYvnk12",k=(e,t)=>{const n=e.localeCompare(t)<0?e:t,r=e.localeCompare(t)<0?t:e;return"".concat(n).concat(r)};(0,t.useEffect)((()=>{const t=async()=>{y(Ux());const i=IE(R_(A,"UserChat",e.toString()),(async i=>{const s=k(S,e.toString());if(i.exists()){const o=i.data(),a=Object.values(o).filter((e=>null!==e&&e.lastMessage&&e.UserInfo)).sort(((e,t)=>e.lastMessage||t.lastMessage?e.lastMessage?t.lastMessage?t.lastMessage.date.seconds-e.lastMessage.date.seconds:-1:1:0));if(0===a.length){const i=(await AE(R_(A,"users",S))).data();i&&(await xE(R_(A,"chats",s),{messages:[{id:lk(),text:"Hello, I`m a new user of this messenger.",senderId:e.toString(),date:Vp.now(),img:null}]}),await CE(R_(A,"UserChat",e.toString()),{[s+".UserInfo"]:{id:i.id,fullName:i.fullName,photoURL:i.photoURL},[s+".date"]:DE(),[s+".lastMessage"]:{text:"Hello, I`m a new user of this messenger.",date:Vp.now(),from:e.toString()}}),await CE(R_(A,"UserChat",S),{[s+".UserInfo"]:{id:e.toString(),fullName:n,photoURL:r},[s+".date"]:DE(),[s+".lastMessage"]:{text:"Hello, I`m a new user of this messenger.",date:Vp.now(),from:e.toString()}}),t())}c(a),h(a.slice(g,g+15)),y(Fx())}}));return()=>{i()}};t()}),[]),(0,t.useEffect)((()=>{""!==i?(f(!0),y(Vx())):(y(Hx()),f(!1))}),[i]);const x=t=>{y(xx({chatID:k(e.toString(),t.UserInfo.id),user:t.UserInfo})),E("/message/chat/".concat(t.UserInfo.id)),y(Gc(null))},C=()=>{if(console.log("1"),""!==i){const e=l.filter((e=>e.UserInfo.fullName.toLowerCase().includes(i.toLowerCase())));m(e),_(12)}else m([])},T=()=>{s(""),m([])};return(0,zc.jsx)("div",{className:"rootBlock",children:(0,zc.jsxs)("div",{className:"overUsersList",children:[(0,zc.jsxs)("div",{style:{width:"70%",position:"relative",display:"flex",justifyContent:"center",left:"calc(6px + 2%)",margin:"12px 8px 12px 0px"},children:[(0,zc.jsx)(gk,{className:"lupa",onClick:C}),(0,zc.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.code?C():"Escape"===e.code&&T()},placeholder:"\u041f\u043e\u0438\u0441\u043a",style:{zIndex:1},className:"inputSearch",enterKeyHint:"search"}),(0,zc.jsx)(kc,{children:d?(0,zc.jsx)(Fc,{timeout:500,classNames:"close",unmountOnExit:!0,in:d,children:(0,zc.jsx)(_k,{onClick:T,className:"closebtn"})}):""})]}),w?(0,zc.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",width:"100%"},children:[(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{})]}):0!==p.length?(0,zc.jsx)("div",{className:"chatUsersMain",children:p.map((t=>{var n,r,i,s,o;return(0,zc.jsxs)("button",{className:"ChatsOtherUser",onClick:e=>{x(t),e.stopPropagation()},children:[(0,zc.jsx)("img",{src:null===(n=t.UserInfo)||void 0===n?void 0:n.photoURL,loading:"lazy",alt:t.UserInfo.fullName}),null!==(r=t.lastMessage)&&void 0!==r&&r.messID&&(null===(i=t.lastMessage)||void 0===i?void 0:i.for)===e.toString()?null!==(s=t.lastMessage)&&void 0!==s&&s.checked||!1===(null===(o=t.lastMessage)||void 0===o?void 0:o.checked)?(0,zc.jsx)(Gx,{userLastMess:t}):(0,zc.jsx)(Kx,{numNotif:1,userLastMess:t}):(0,zc.jsx)(Gx,{userLastMess:t})]},t.UserInfo.id)}))}):(0,zc.jsx)(Mx,{next:async()=>{const e=l.slice(g+b,g+b+15);h((t=>{const n=e.filter((e=>!t.some((t=>t.UserInfo.id===e.UserInfo.id))));return[...t,...n]})),v((e=>e+15)),_(0),g+15>=l.length&&a(!1)},hasMore:o,loader:"",dataLength:u.length,scrollThreshold:.9,children:(0,zc.jsx)("div",{className:"chatUsersMain",children:u.map(((t,n)=>{var r,i,s,o,a;return(0,zc.jsxs)("button",{className:"ChatsOtherUser",onClick:e=>{x(t),e.stopPropagation()},children:[(0,zc.jsx)("img",{src:t.UserInfo.photoURL,loading:"lazy",alt:t.UserInfo.fullName}),null!==(r=t.lastMessage)&&void 0!==r&&r.messID&&(null===(i=t.lastMessage)||void 0===i?void 0:i.for)===e.toString()?null!==(s=t.lastMessage)&&void 0!==s&&s.checked||!1===(null===(o=t.lastMessage)||void 0===o?void 0:o.checked)?(0,zc.jsx)(Gx,{userLastMess:t}):(0,zc.jsx)(Kx,{numNotif:1,userLastMess:t},null===(a=t.lastMessage)||void 0===a?void 0:a.messID):(0,zc.jsx)(Gx,{userLastMess:t})]},n)}))})})]})})},Yx=()=>{const{error:e}=gn((e=>e.errorReducer));return(0,zc.jsxs)("div",{children:[e&&e,(0,zc.jsx)(jt,{to:"/message/",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]})},Xx=()=>{const{user:e}=(()=>{const e=ga(),[n,r]=(0,t.useState)({user:null});return(0,t.useEffect)((()=>{Xs(e,(e=>{setTimeout((()=>{r(e?{user:e}:{user:"none"})}),3e3)}))}),[e]),n})();return null===e||void 0===e?(0,zc.jsx)(XS,{}):"none"===e?(0,zc.jsx)(lt,{to:"/login"}):(0,zc.jsx)(ct,{})},Jx=()=>{const e=Ke();return(0,t.useEffect)((()=>{e("/message/login")})),(0,zc.jsx)(XS,{})},$x=()=>(0,zc.jsx)("div",{className:"chatInfo loading",children:(0,zc.jsxs)("div",{className:"wrapper",children:[(0,zc.jsx)("div",{className:"circle"}),(0,zc.jsx)("div",{className:"line"})]})}),Zx=()=>(0,zc.jsxs)("div",{children:[(0,zc.jsx)("div",{className:"messageContent-left ",children:(0,zc.jsx)("div",{className:"block_mess loading1 ",children:(0,zc.jsx)("div",{className:"wrapper",children:(0,zc.jsx)("div",{className:"line"})})})}),(0,zc.jsx)("div",{className:"messageContent-right ",children:(0,zc.jsx)("div",{className:"block_mess loading1 ",children:(0,zc.jsx)("div",{className:"wrapper",children:(0,zc.jsx)("div",{className:"line"})})})}),(0,zc.jsx)("div",{className:"messageContent-left ",children:(0,zc.jsx)("div",{className:"block_mess loading2 ",children:(0,zc.jsx)("div",{className:"wrapper",children:(0,zc.jsx)("div",{className:"line"})})})}),(0,zc.jsx)("div",{className:"messageContent-right ",children:(0,zc.jsx)("div",{className:"block_mess loading2 ",children:(0,zc.jsx)("div",{className:"wrapper",children:(0,zc.jsx)("div",{className:"line"})})})})]});var eC,tC,nC;function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rC.apply(this,arguments)}function iC(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",rC({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,eC||(eC=t.createElement("rect",{width:40,height:40,rx:20,fill:"url(#paint0_linear_40_25)"})),tC||(tC=t.createElement("path",{d:"M9 19.5L19 29.5L31 11",stroke:"white",strokeWidth:4})),nC||(nC=t.createElement("defs",null,t.createElement("linearGradient",{id:"paint0_linear_40_25",x1:40,y1:38.2969,x2:-195293e-11,y2:1.70307,gradientUnits:"userSpaceOnUse"},t.createElement("stop",{offset:.149681,stopColor:"#011D94"}),t.createElement("stop",{offset:.638341,stopColor:"#0046CA"}),t.createElement("stop",{offset:1,stopColor:"#006FFF"})))))}const sC=t.forwardRef(iC),oC=(n.p,(e,t)=>{const n=e.localeCompare(t)<0?e:t,r=e.localeCompare(t)<0?t:e;return"".concat(n).concat(r)});var aC;function lC(){return lC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lC.apply(this,arguments)}function cC(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",lC({width:37,height:36,viewBox:"0 0 37 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,aC||(aC=t.createElement("path",{d:"M4 20.3956L16.3561 32L33 4",stroke:"black",strokeWidth:5,strokeLinecap:"square"})))}const uC=t.forwardRef(cC);n.p;var hC,dC;function fC(){return fC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fC.apply(this,arguments)}function pC(e,n){let{title:r,titleId:i,...s}=e;return t.createElement("svg",fC({width:48,height:38,viewBox:"0 0 48 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,hC||(hC=t.createElement("path",{d:"M4 20.3956L16.3561 32L33 4",stroke:"black",strokeWidth:5,strokeLinecap:"square"})),dC||(dC=t.createElement("path",{d:"M24 30.5L28.1667 34L44 5",stroke:"black",strokeWidth:5,strokeLinecap:"square"})))}const mC=t.forwardRef(pC),gC=(n.p,e=>{let{cheeeeeck:t,className:n,thisWord:r}=e;const{id:i}=ya(),s=r.senderId,o={display:"flex",textAlign:"center",justifyContent:"start",gap:"4px"};return(0,zc.jsx)("div",{className:n,children:s&&t?(0,zc.jsxs)("div",{style:o,children:[s===i.toString()&&(0,zc.jsx)(mC,{width:"28",height:"16"}),r.edited&&!0===r.edited&&(0,zc.jsx)(vC,{cheeeeeck:!0})]}):(0,zc.jsxs)("div",{style:o,children:[s===i.toString()&&(0,zc.jsx)(uC,{width:"17",height:"16"}),r.edited&&!0===r.edited&&(0,zc.jsx)(vC,{cheeeeeck:!0})]})})}),vC=e=>{let{cheeeeeck:t,className:n}=e;return(0,zc.jsx)("div",{className:n,children:t&&(0,zc.jsx)("span",{style:{marginRight:"8px"},children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043e"})})},yC=e=>{let{chatID:n}=e;const[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1),{id:c}=gn((e=>e.user)),[u,h]=(0,t.useState)(!0),[d,f]=(0,t.useState)(0),p=L_(),m=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=IE(R_(p,"chats",n),(e=>{if(o([]),i([]),h(!0),f(0),l(!0),e.exists()){var t;const n=null===(t=e.data())||void 0===t?void 0:t.messages;if(n){const e=n.reverse().filter((e=>!(e.deleteFor&&e.deleteFor===c.toString())));l(!1),o(e),i(e.slice(d,d+30))}else l(!1)}}));return()=>e()}),[n]);return(0,zc.jsx)("div",{className:"soobsheniya",id:"soobsheniya",children:(0,zc.jsx)(Mx,{next:()=>{const e=s.slice(d+d+30);console.log(e),i((t=>{const n=e.filter((e=>!t.some((t=>t.id===e.id))));return[...t,...n]})),f((e=>e+30)),d+30>=s.length&&h(!1)},hasMore:u,loader:"",dataLength:r.length,inverse:!0,scrollThreshold:.1,scrollableTarget:"soobsheniya",style:{display:"flex",flexDirection:"column-reverse",overflow:"visible"},children:a?(0,zc.jsx)(Zx,{}):(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)(ix,{}),(0,zc.jsx)("div",{id:"bottom__message",ref:m}),(0,zc.jsx)(wC,{message:r})]})})})},wC=e=>{let{message:n}=e;const[r,i]=(0,t.useState)([]),{overUserID:s}=Qe(),{id:o}=gn((e=>e.user)),a=L_(),l=mn(),{words:c}=gn((e=>e.selectedMess));return(0,t.useEffect)((()=>{const e={};n.forEach((n=>{e[n.id]={ref:t.createRef(),word:n}}));const r=Object.values(e),i=async e=>{if(s){const g=oC(o.toString(),s),v=(await AE(R_(a,"UserChat",o.toString()))).data();if(v){var t,n;const y=Object.values(v);let w={};var r,i,l,c,u,h,d,f,p,m;if(y.forEach((e=>{e.UserInfo&&e.UserInfo.id===s&&(w=e)})),e.id===(null===(t=w)||void 0===t||null===(n=t.lastMessage)||void 0===n?void 0:n.messID)&&e.senderId===s)console.log("1"),await CE(R_(a,"UserChat",o.toString()),{[g+".lastMessage"]:{text:null===(r=w)||void 0===r||null===(i=r.lastMessage)||void 0===i?void 0:i.text,date:null===(l=w)||void 0===l||null===(c=l.lastMessage)||void 0===c?void 0:c.date,from:null===(u=w)||void 0===u||null===(h=u.lastMessage)||void 0===h?void 0:h.from,for:null===(d=w)||void 0===d||null===(f=d.lastMessage)||void 0===f?void 0:f.for,messID:null===(p=w)||void 0===p||null===(m=p.lastMessage)||void 0===m?void 0:m.messID,checked:!0}})}}};!async function(){if(s){var e;const t=oC(o.toString(),s),n=null===(e=(await AE(R_(a,"chats",t))).data())||void 0===e?void 0:e.messages;if(n)for(const e of r){const r=e.word.checkedFor;if(r&&r.length>=1){let s=!1;for(const e of r)if(e.id===o.toString()){s=!0;break}if(!s){const s=n.map((e=>{const t=[...r,{id:o.toString()}];return e.deleteFor?{id:e.id,text:e.text,senderId:e.senderId,date:e.date,img:e.img,checkedFor:t,deleteFor:e.deleteFor}:{id:e.id,text:e.text,senderId:e.senderId,date:e.date,img:e.img,checkedFor:t}}));await CE(R_(a,"chats",t),{messages:s}),i(e.word)}}}}}()}),[n]),(0,t.useEffect)((()=>{0!==r.length?l(VS(r)):(l(HS()),l(Sk()))}),[r]),(0,t.useEffect)((()=>{if(0===c.length&&0!==r.length){document.querySelectorAll('input[type="checkbox"]').forEach((function(e){e.checked=!1})),l(Sk()),i([])}}),[c]),(0,zc.jsx)(zc.Fragment,{children:n.slice().map((e=>{var t;return(0,zc.jsxs)("div",{children:[(0,zc.jsx)("input",{type:"checkbox",id:"checkMess ".concat(e.id),className:"checkMessInput",onChange:t=>((e,t)=>{e.target.checked?i((e=>[...e,t])):i((e=>e.filter((e=>e.id!==t.id))))})(t,e)},e.id),(0,zc.jsxs)("label",{htmlFor:"checkMess ".concat(e.id),className:"messageContent-main ".concat(e.senderId===o.toString()?"messageContent-right":"messageContent-left"),children:[(0,zc.jsx)("label",{htmlFor:"checkMess ".concat(e.id),className:"customCheckMess",children:(0,zc.jsx)(sC,{width:"35",height:"35"})}),(0,zc.jsxs)("div",{className:"block_mess",children:[(0,zc.jsx)("div",{className:"img-mess",style:{display:null!==e.img?"block":"none"},children:null!==e.img&&(0,zc.jsx)("img",{src:e.img,alt:e.img})}),(0,zc.jsx)("p",{style:{display:""===e.text?"none":"block"},children:e.text}),s&&null!==(t=e.checkedFor)&&void 0!==t&&t.some((e=>e.id===s))?(0,zc.jsx)(gC,{cheeeeeck:!0,thisWord:e}):(0,zc.jsx)(gC,{cheeeeeck:!1,thisWord:e}),(0,zc.jsx)("div",{className:"messageInfo",children:(0,zc.jsx)("span",{children:"".concat(e.date&&e.date.toDate().getHours(),":").concat((e.date&&e.date.toDate().getMinutes()<10?"0":"")+(e.date&&e.date.toDate().getMinutes()))})})]})]})]})}))})},bC=e=>{let{thisID:n}=e;const[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)([]),{user:a}=gn((e=>e.chat)),[l,c]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),{id:d}=ya(),f=mn(),p=Ke(),m=L_();(0,t.useEffect)((()=>{(()=>{const e=IE(R_(m,"UserChat",d.toString()),(e=>{const t=e.data();if(t){const e=Object.values(t).filter((e=>null!==e&&e.UserInfo));c(e)}else i(!1),f(Gc("\u041f\u043e\u0445\u043e\u0436\u0435 \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043a\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"))}))})()}),[d]),(0,t.useEffect)((()=>{(()=>{const e=IE(R_(m,"users",d.toString()),(e=>{var t;const n=null===(t=e.data())||void 0===t?void 0:t.selectedUsers;n?h(n):(i(!1),f(Gc("\u041f\u043e\u0445\u043e\u0436\u0435 \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043a\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")))}))})()}),[d]),(0,t.useEffect)((()=>{(()=>{i(!0);const e=[];for(const n of l)for(const t of u)n.UserInfo.id===t.id&&e.push(n);const t=e.sort(((e,t)=>e.UserInfo.fullName.localeCompare(t.UserInfo.fullName)));o(t.slice(0,10)),i(!1)})()}),[u,l]);return(0,zc.jsx)("div",{className:"rightColumn",children:(0,zc.jsxs)("div",{className:"main__right__column",children:[(0,zc.jsx)("ul",{style:{padding:0,margin:0},children:(0,zc.jsx)("li",{className:"ChatsIcon",onClick:()=>{f(Sk()),p("/message/")},children:(0,zc.jsx)("span",{children:"\u0412\u0441\u0435 \u0447\u0430\u0442\u044b"})})}),(0,zc.jsx)("div",{className:"band__ChatsIcon",children:(0,zc.jsx)("svg",{width:"306",height:"2",viewBox:"0 0 306 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,zc.jsx)("line",{x1:"-0.000823975",y1:"1",x2:"306.001",y2:"1",stroke:"#727272"})})}),(0,zc.jsx)("ul",{className:"ChatsOtherUserColumn",children:r?(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)("div",{className:"ChatsIcon loading",children:(0,zc.jsx)("div",{className:"wrapper",children:(0,zc.jsx)("div",{className:"line"})})}),(0,zc.jsx)("div",{className:"ChatsIcon loading",children:(0,zc.jsx)("div",{className:"wrapper",children:(0,zc.jsx)("div",{className:"line"})})}),(0,zc.jsx)("div",{className:"ChatsIcon loading",children:(0,zc.jsx)("div",{className:"wrapper",children:(0,zc.jsx)("div",{className:"line"})})}),(0,zc.jsx)("div",{className:"ChatsIcon loading",children:(0,zc.jsx)("div",{className:"wrapper",children:(0,zc.jsx)("div",{className:"line"})})}),(0,zc.jsx)("div",{className:"ChatsIcon loading",children:(0,zc.jsx)("div",{className:"wrapper",children:(0,zc.jsx)("div",{className:"line"})})})]}):s.length>=1&&s.map(((e,t)=>{var r,i;return(0,zc.jsxs)("li",{className:e.UserInfo.id!==n?"ChatsIcon":"ChatsIcon active",onClick:()=>(e=>{f(xx({user:e.UserInfo})),f(Sk()),p("/message/chat/".concat(e.UserInfo.id))})(e),children:[(0,zc.jsxs)("div",{className:"Images__block",children:[(0,zc.jsx)("img",{src:e.UserInfo.photoURL,alt:e.UserInfo.fullName}),(null===(r=e.lastMessage)||void 0===r?void 0:r.for)===d.toString()?null!==(i=e.lastMessage)&&void 0!==i&&i.checked?"":(0,zc.jsx)("div",{className:"new__message",children:"?"}):""]}),(0,zc.jsx)("span",{children:e.UserInfo.fullName}),(0,zc.jsx)(_k,{onClick:t=>{t.stopPropagation(),(async e=>{e.UserInfo.id===(null===a||void 0===a?void 0:a.id)&&(await CE(R_(m,"users",d.toString()),{selectedUsers:LE({id:e.UserInfo.id,fullName:e.UserInfo.fullName,photoURL:e.UserInfo.photoURL})}),p("/message/")),await CE(R_(m,"users",d.toString()),{selectedUsers:LE({id:e.UserInfo.id,fullName:e.UserInfo.fullName,photoURL:e.UserInfo.photoURL})})})(e)},className:"delete__user__column",width:"25px",height:"25px"})]},t)}))})]})})},_C=()=>{const e=mn(),{words:t}=gn((e=>e.selectedMess)),{id:n}=ya();return(0,zc.jsx)($E,{width:"30",height:"30",onClick:()=>{if(1===t.length){const r=t[0];r.senderId===n.toString()&&e(Ak(r))}},className:"edit__message__pen"})},EC=()=>{const{words:e}=gn((e=>e.selectedMess)),t=mn(),{id:n}=ya(),{editMess:r}=gn((e=>e.editMess)),i=()=>{t(HS()),t(Sk())};return(0,zc.jsx)("div",{className:"chatInfo selected__message",children:r?(0,zc.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,zc.jsx)("button",{className:"default__btn",style:{display:"flex",alignItems:"center"},children:(0,zc.jsx)(_k,{onClick:i,className:"closebtn",style:{position:"relative",transform:"translate(0px)"}})}),(0,zc.jsx)("span",{style:{fontSize:"30px"},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})]}):(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsxs)("button",{className:"default__btn close__select__btn",onClick:i,children:[e.length>=1&&e.length," ",""," ",(0,zc.jsx)("span",{className:"Close__select",children:" \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}),(0,zc.jsxs)("div",{style:{width:"150px",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[1===e.length&&e[0].senderId===n.toString()&&(0,zc.jsx)("button",{className:"default__btn",children:(0,zc.jsx)(_C,{})}),(0,zc.jsxs)("button",{className:"default__btn delete__select__btn",onClick:()=>{t(nc())},children:[(0,zc.jsx)(YS,{width:"35",height:"35",className:"trash__svg"}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"]})]})]})})},AC=()=>{const{user:e}=gn((e=>e.chat)),{overUserID:n}=Qe(),[r,i]=(0,t.useState)(!1),{id:s,fullName:o,photoURL:a}=ya(),l=mn(),c=L_(),[u,h]=(0,t.useState)(!1),d=(0,YE.useMediaQuery)({maxWidth:800}),[f,p]=(0,t.useState)(!1),{words:m}=gn((e=>e.selectedMess)),g=(e,t)=>{const n=e.localeCompare(t)<0?e:t,r=e.localeCompare(t)<0?t:e;return"".concat(n).concat(r)},v=async()=>{if(i(!0),n){const t=await kE(N_(c,"users")),r=await AE(R_(c,"users",s.toString())),u=R_(c,"users",s.toString());t.empty&&(i(!1),h(!0));const d=[];t.forEach((e=>{const t=e.data();d.push(t)}));for(var e=d.length-1;e>=0;e--)d[e].id.toString()!==n&&d.splice(e,1);if(0===d.length)return i(!1),void h(!0);const f=(await AE(R_(c,"UserChat",s.toString()))).data();if(f){const e=Object.values(f),t=g(s.toString(),n);let h=!1;e.forEach((e=>{if(e.UserInfo&&e.UserInfo.id===n)return h=!0,h}));const p=d[0],m=f[t],y=r.data();h||await(async e=>{const t=g(e.id.toString(),s.toString());try{const n=R_(c,"chats",t),r=R_(c,"UserChat",s.toString());if((await AE(n)).exists())await CE(r,{[t+".UserInfo"]:{id:e.id,fullName:e.fullName,photoURL:e.photoURL},[t+".date"]:DE()}),await v();else{await xE(n,{messages:[]}),await CE(r,{[t+".UserInfo"]:{id:e.id,fullName:e.fullName,photoURL:e.photoURL},[t+".date"]:DE()});const i=R_(c,"UserChat",e.id.toString());await CE(i,{[t+".UserInfo"]:{id:s,fullName:o,photoURL:a},[t+".date"]:DE()}),await v()}}catch(n){l(Gc(n.code))}})(p),m?y&&(y.selectedUsers?(0===y.selectedUsers.length&&await CE(u,{selectedUsers:PE({id:n,fullName:m.UserInfo.fullName,photoURL:m.UserInfo.photoURL})}),y.selectedUsers.forEach((async e=>{e.id!==n&&await CE(u,{selectedUsers:PE({id:n,fullName:m.UserInfo.fullName,photoURL:m.UserInfo.photoURL})})}))):await CE(u,{selectedUsers:[{id:n,fullName:m.UserInfo.fullName,photoURL:m.UserInfo.photoURL}]}),l(xx({chatID:t,user:m.UserInfo})),i(!1)):i(!1)}else i(!1),h(!0)}else i(!1),h(!0)};return(0,t.useEffect)((()=>{if(n){const e=g(n,s.toString());console.log(e)}v()}),[n,s]),(0,t.useEffect)((()=>{0===m.length?p(!1):p(!0)}),[m]),u?(0,zc.jsx)(lt,{to:"/message/"}):(0,zc.jsxs)("div",{className:"chat",children:[!d&&(0,zc.jsx)(bC,{thisID:(null===e||void 0===e?void 0:e.id)||""}),(0,zc.jsxs)("section",{className:"chat_section",children:[r?(0,zc.jsx)($x,{}):f?(0,zc.jsx)(EC,{}):(0,zc.jsxs)("div",{className:"chatInfo",children:[(0,zc.jsx)("div",{className:"chatIcons",children:(0,zc.jsx)("img",{src:null===e||void 0===e?void 0:e.photoURL,alt:""})}),(0,zc.jsx)("span",{children:null===e||void 0===e?void 0:e.fullName}),(0,zc.jsx)("div",{style:{position:"absolute",right:"12px"},children:(0,zc.jsx)(ZS,{UserID:null===e||void 0===e?void 0:e.id})})]}),n&&(0,zc.jsx)(yC,{chatID:g(s.toString(),n)}),(0,zc.jsx)(Ck,{disabled:r})]})]})},SC=()=>{const{value:e}=Qe(),{id:n}=ya(),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(!1),a=mn(),l=L_(),[c,u]=(0,t.useState)(0),[h,d]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(15),[v,y]=(0,t.useState)(!0),w=Ke(),b=15,{loadingMess:_}=gn((e=>e.processMessages));(0,t.useEffect)((()=>{if(e){i(e);const t=async()=>{a(Ux());try{const t=await kE(N_(l,"users"));if(t.empty)a(Gc("\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"));else{a(Ux());const n=[];t.forEach((e=>{const t=e.data();n.push(t)}));const r=n.filter((t=>t.fullName&&t.fullName.toLowerCase().includes(e.toLowerCase())));if(p(r),r.length>=b){const e=r.slice(c+b);d(e),a(Fx())}else d(r),a(Fx())}}catch(t){a(Gc(t.code)),console.error(t.code)}};t()}}),[e]);(0,t.useEffect)((()=>{console.log(h)}),[h]),(0,t.useEffect)((()=>{o(""!==r)}),[r]);const E=async()=>{u(0),a(Gc(null));try{a(Wc());const e=await kE(N_(l,"users"));if(e.empty)a(Gc("\u043d\u0435\u0442 \u0442\u0430\u043a\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),a(Fx()),d([]);else{a(Ux());const t=[];e.forEach((e=>{const n=e.data();t.push(n)}));const n=t.filter((e=>e.fullName&&e.fullName.toLowerCase().includes(r.toLowerCase())));p(n);const i=n.slice(c+b);d(i),a(Fx())}}catch(e){a(Gc(e.code)),console.error(e.code)}};return(0,zc.jsxs)("div",{style:{maxWidth:"80vw",position:"relative",left:"50%",transform:"translate(-50%)"},children:[(0,zc.jsxs)("div",{style:{width:"90%",position:"relative",left:"50%",transform:"translate(-50%)",margin:"16px 0px 8px 0px"},children:[(0,zc.jsx)(gk,{className:"lupa",onClick:E}),(0,zc.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.code&&r&&E()},placeholder:"\u041f\u043e\u0438\u0441\u043a",style:{padding:"8px 0px 8px 32px"},className:"inputSearch",enterKeyHint:"search"}),(0,zc.jsx)(kc,{children:s&&(0,zc.jsx)(Fc,{timeout:500,classNames:"close",unmountOnExit:!0,in:s,children:(0,zc.jsx)(_k,{onClick:()=>{i(""),a(Gc(null))},className:"closebtn"})})})]}),_?(0,zc.jsxs)("div",{children:[(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{}),(0,zc.jsx)($S,{})]}):0===f.length?(0,zc.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:"\u0422\u0430\u043a\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043d\u0435\u0442"}):(0,zc.jsx)(Mx,{next:()=>{const e=f.slice(c+m,c+m+b);d((t=>{const n=e.filter((e=>!t.some((t=>t.id===e.id))));return[...t,...n]})),u((e=>e+b)),g(0),c+b>=f.length&&(y(!1),console.log(h))},hasMore:v,loader:"",dataLength:h.length,scrollThreshold:.5,children:h.map(((e,t)=>(0,zc.jsxs)("button",{className:"ChatsOtherUser",onClick:()=>(async e=>{const t=((e,t)=>{const n=e.localeCompare(t)<0?e:t,r=e.localeCompare(t)<0?t:e;return"".concat(n).concat(r)})(n.toString(),e.id.toString());try{(await AE(R_(l,"chats",t))).exists()||(await xE(R_(l,"chats",t),{messages:[]}),await CE(R_(l,"UserChat",n.toString()),{[t+".UserInfo"]:{id:e.id,fullName:e.fullName,photoURL:e.photoURL},[t+".date"]:DE()}),await CE(R_(l,"UserChat",e.id.toString()),{[t+".UserInfo"]:{id:n,fullName:e.fullName,photoURL:e.photoURL},[t+".date"]:DE()})),w("/message/chat/".concat(e.id))}catch(r){a(Gc(r)),a(uk([]))}a(uk([]))})(e),children:[(0,zc.jsx)("img",{src:e.photoURL,alt:e.fullName}),(0,zc.jsx)("h3",{children:e.fullName})]},t)))})]})},kC=Vl({name:"activeUser",initialState:{activeUser:!1},reducers:{setActive(e,t){e.activeUser=t.payload}}}),{setActive:xC}=kC.actions,CC=kC.reducer,TC=()=>{const e=mn(),n=L_(),r=ga(),{activeUser:i}=gn((e=>e.activeUser)),s=gn((e=>e.theme));(0,t.useEffect)((()=>{const t=()=>{e(xC(!0))},n=()=>{e(xC(!1))};return window.addEventListener("click",t),window.addEventListener("touchstart",t),()=>{window.removeEventListener("click",n),window.removeEventListener("touchstart",n)}}),[]),(0,t.useEffect)((()=>{setTimeout((()=>{e(xC(!1))}),6e5)}),[i]),(0,t.useEffect)((()=>{Xs(r,(t=>{if(t){const r=IE(R_(n,"users",t.uid),(n=>{const r=n.data();r&&e(jE({email:t.email,token:t.refreshToken,id:t.uid,fullName:t.displayName,photoURL:t.photoURL,firstName:r.firstName,lastName:r.lastName}))}));return()=>{r()}}e(UE())}))}),[e,n]),(0,t.useEffect)((()=>{document.documentElement.dataset.theme=s,localStorage.setItem("theme",s)}),[s]);const o=function(e,t){return ne({basename:null==t?void 0:t.basename,future:pt({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||kt(),routes:e,mapRouteProperties:ft,window:null==t?void 0:t.window}).initialize();var n}(dt((0,zc.jsxs)(ut,{element:(0,zc.jsx)(yx,{}),children:[(0,zc.jsxs)(ut,{element:(0,zc.jsx)(Xx,{}),children:[(0,zc.jsx)(ut,{path:"message/profile",element:(0,zc.jsx)(wx,{})}),(0,zc.jsx)(ut,{path:"message/",element:(0,zc.jsx)(Qx,{})}),(0,zc.jsx)(ut,{path:"message/error",element:(0,zc.jsx)(Yx,{})}),(0,zc.jsx)(ut,{path:"message/search/:value",element:(0,zc.jsx)(SC,{})}),(0,zc.jsx)(ut,{path:"message/chat/:overUserID",element:(0,zc.jsx)(AC,{})}),(0,zc.jsx)(ut,{path:"message/profile/setting/:thisID",element:(0,zc.jsx)(US,{})})]}),(0,zc.jsx)(ut,{path:"message/login",element:(0,zc.jsx)(Ex,{})}),(0,zc.jsx)(ut,{path:"message/register",element:(0,zc.jsx)(Sx,{})}),(0,zc.jsx)(ut,{path:"*",element:(0,zc.jsx)(Jx,{})})]})));return(0,zc.jsx)(Dt,{router:o})},IC=Vl({name:"errorReducer",initialState:{error:null},reducers:{setGlobalError:(e,t)=>{e.error=null,e.error=t.payload}}}),{setGlobalError:NC}=IC.actions,RC=IC.reducer,OC=Vl({name:"allChats",initialState:{allChats:null},reducers:{setAllChats(e,t){e.allChats=t.payload},removeAllChats(e){e.allChats=null}}}),{setAllChats:DC,removeAllChats:PC}=OC.actions,LC=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let s=new Rl;return t&&(function(e){return"boolean"===typeof e}(t)?s.push(Cl):s.push(Tl(t.extraArgument))),s},{reducer:n,middleware:r,devTools:i=!0,preloadedState:s,enhancers:o}=e||{};let a,l;if("function"===typeof n)a=n;else{if(!El(n))throw new Error(Yl(1));a=Sl(n)}l="function"===typeof r?r(t):t();let c=kl;i&&(c=Il({trace:!1,..."object"===typeof i&&i}));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(yl(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},a=t.map((e=>e(o)));return s=kl(...a)(i.dispatch),{...i,dispatch:s}}}(...l),h=jl(u);let d="function"===typeof o?o(h):h();return Al(a,s,c(...d))}({reducer:{user:FE,process:Qc,errorReducer:RC,setSearchUsers:hk,isModalReduser:ic,chat:Tx,processMessages:Bx,theme:Fk,needMainInput:qx,useMenu:qE,selectedMess:qS,editMess:kk,allChats:OC.reducer,activeUser:CC}});Vr("firebase","10.9.0","app");const MC="@firebase/installations",jC="0.6.5",UC=1e4,FC="w:".concat(jC),BC="FIS_v2",zC="https://firebaseinstallations.googleapis.com/v1",VC=36e5,HC=new Mn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qC(e){return e instanceof Ln&&e.code.includes("request-failed")}function WC(e){let{projectId:t}=e;return"".concat(zC,"/projects/").concat(t,"/installations")}function KC(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function GC(e,t){const n=(await t.json()).error;return HC.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function QC(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function YC(e,t){let{refreshToken:n}=t;const r=QC(e);return r.append("Authorization",function(e){return"".concat(BC," ").concat(e)}(n)),r}async function XC(e){const t=await e();return t.status>=500&&t.status<600?e():t}function JC(e){return new Promise((t=>{setTimeout(t,e)}))}const $C=/^[cdef][\w-]{21}$/,ZC="";function eT(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return $C.test(t)?t:ZC}catch(e){return ZC}}function tT(e){return"".concat(e.appName,"!").concat(e.appId)}const nT=new Map;function rT(e,t){const n=tT(e);iT(n,t),function(e,t){const n=oT();n&&n.postMessage({key:e,fid:t});aT()}(n,t)}function iT(e,t){const n=nT.get(e);if(n)for(const r of n)r(t)}let sT=null;function oT(){return!sT&&"BroadcastChannel"in self&&(sT=new BroadcastChannel("[Firebase] FID Change"),sT.onmessage=e=>{iT(e.data.key,e.data.fid)}),sT}function aT(){0===nT.size&&sT&&(sT.close(),sT=null)}const lT="firebase-installations-database",cT=1,uT="firebase-installations-store";let hT=null;function dT(){return hT||(hT=_r(lT,cT,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(uT)}})),hT}async function fT(e,t){const n=tT(e),r=(await dT()).transaction(uT,"readwrite"),i=r.objectStore(uT),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||rT(e,t.fid),t}async function pT(e){const t=tT(e),n=(await dT()).transaction(uT,"readwrite");await n.objectStore(uT).delete(t),await n.done}async function mT(e,t){const n=tT(e),r=(await dT()).transaction(uT,"readwrite"),i=r.objectStore(uT),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||rT(e,o.fid),o}async function gT(e){let t;const n=await mT(e.appConfig,(n=>{const r=function(e){const t=e||{fid:eT(),registrationStatus:0};return wT(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(HC.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=WC(n),o=QC(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:BC,appId:n.appId,sdkVersion:FC},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await XC((()=>fetch(s,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:KC(e.authToken)}}throw await GC("Create Installation",u)}(e,t);return fT(e.appConfig,n)}catch(n){throw qC(n)&&409===n.customData.serverCode?await pT(e.appConfig):await fT(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:vT(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===ZC?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function vT(e){let t=await yT(e.appConfig);for(;1===t.registrationStatus;)await JC(100),t=await yT(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await gT(e);return n||t}return t}function yT(e){return mT(e,(e=>{if(!e)throw HC.create("installation-not-found");return wT(e)}))}function wT(e){return 1===(t=e).registrationStatus&&t.registrationTime+UC<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function bT(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(WC(e),"/").concat(n,"/authTokens:generate")}(n,t),s=YC(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:FC,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await XC((()=>fetch(i,l)));if(c.ok){return KC(await c.json())}throw await GC("Generate Auth Token",c)}async function _T(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await mT(e.appConfig,(r=>{if(!AT(r))throw HC.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+VC}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await ET(e.appConfig);for(;1===n.authToken.requestStatus;)await JC(100),n=await ET(e.appConfig);const r=n.authToken;return 0===r.requestStatus?_T(e,t):r}(e,n),r;{if(!navigator.onLine)throw HC.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await bT(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await fT(e.appConfig,r),n}catch(n){if(!qC(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await fT(e.appConfig,n)}else await pT(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function ET(e){return mT(e,(e=>{if(!AT(e))throw HC.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+UC<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function AT(e){return void 0!==e&&2===e.registrationStatus}async function ST(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await gT(e);t&&await t}(n);return(await _T(n,t)).token}function kT(e){return HC.create("missing-app-config-values",{valueName:e})}const xT="installations",CT=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw kT("App Configuration");if(!e.name)throw kT("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw kT(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Mr(t,"heartbeat"),_delete:()=>Promise.resolve()}},TT=e=>{const t=Mr(e.getProvider("app").getImmediate(),xT).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await gT(t);return r?r.catch(console.error):_T(t).catch(console.error),n.fid}(t),getToken:e=>ST(t,e)}};Lr(new Jn(xT,CT,"PUBLIC")),Lr(new Jn("installations-internal",TT,"PRIVATE")),Vr(MC,jC),Vr(MC,jC,"esm2017");const IT="analytics",NT="firebase_id",RT="origin",OT=6e4,DT="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",PT="https://www.googletagmanager.com/gtag/js",LT=new ar("@firebase/analytics"),MT=new Mn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jT(e){if(!e.startsWith(PT)){const t=MT.create("invalid-gtag-resource",{gtagURL:e});return LT.warn(t.message),""}return e}function UT(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function FT(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:jT}),r=document.createElement("script"),i="".concat(PT,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function BT(e,t,n,r){return async function(i){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await UT(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){LT.error(s)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=o;await async function(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const e=(await UT(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(a){LT.error(a)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t]=o;e("consent","update",t)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(l){LT.error(l)}}}const zT=30;const VT=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function HT(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function qT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VT,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw MT.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw MT.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new KT;return setTimeout((async()=>{a.abort()}),void 0!==n?n:OT),WT({appId:r,apiKey:i,measurementId:s},o,a,t)}async function WT(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:VT;var o;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(MT.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(c){if(l)return LT.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:a,measurementId:l};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:HT(r)},s=DT.replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw MT.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return s.deleteThrottleMetadata(a),t}catch(c){const t=c;if(!function(e){if(!(e instanceof Ln)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(s.deleteThrottleMetadata(a),l)return LT.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:a,measurementId:l};throw c}const r=503===Number(null===(o=null===t||void 0===t?void 0:t.customData)||void 0===o?void 0:o.httpStatus)?Yn(i,s.intervalMillis,zT):Yn(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return s.setThrottleMetadata(a,u),LT.debug("Calling attemptFetch again in ".concat(r," millis")),WT(e,u,n,s)}}class KT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let GT,QT;function YT(e){QT=e}function XT(e){GT=e}async function JT(e,t,n,r,i,s,o){var a;const l=qT(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&LT.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>LT.error(e))),t.push(l);const c=async function(){if(!Dn())return LT.warn(MT.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Pn()}catch(e){return LT.warn(MT.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(PT)&&n.src.includes(e))return n;return null})(s)||FT(s,u.measurementId),QT&&(i("consent","default",QT),YT(void 0)),i("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d[RT]="firebase",d.update=!0,null!=h&&(d[NT]=h),i("config",u.measurementId,d),GT&&(i("set",GT),XT(void 0)),u.measurementId}class $T{constructor(e){this.app=e}_delete(){return delete ZT[this.app.options.appId],Promise.resolve()}}let ZT={},eI=[];const tI={};let nI,rI,iI="dataLayer",sI="gtag",oI=!1;function aI(){const e=[];if(Rn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=MT.create("invalid-analytics-context",{errorInfo:t});LT.warn(n.message)}}function lI(e,t,n){aI();const r=e.options.appId;if(!r)throw MT.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw MT.create("no-api-key");LT.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ZT[r])throw MT.create("already-exists",{id:r});if(!oI){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(iI);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=BT(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(ZT,eI,tI,iI,sI);rI=e,nI=t,oI=!0}ZT[r]=JT(e,eI,tI,t,nI,iI,n);return new $T(e)}function cI(e,t,n,r){e=Xn(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(rI,ZT[e.app.options.appId],t,n,r).catch((e=>LT.error(e)))}const uI="@firebase/analytics",hI="0.10.1";Lr(new Jn(IT,((e,t)=>{let{options:n}=t;return lI(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Lr(new Jn("analytics-internal",(function(e){try{const t=e.getProvider(IT).getImmediate();return{logEvent:(e,n,r)=>cI(t,e,n,r)}}catch(t){throw MT.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),Vr(uI,hI),Vr(uI,hI,"esm2017");(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();e=Xn(e);const t=Mr(e,IT);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Mr(e,IT);if(n.isInitialized()){const e=n.getImmediate();if(Un(t,n.getOptions()))return e;throw MT.create("already-initialized")}const r=n.initialize({options:t})}(e)})(Br({apiKey:"AIzaSyCQDDJ34ShaG57f0PKT9KMd4TimzFRDu6g",authDomain:"dracarix-messager.firebaseapp.com",projectId:"dracarix-messager",storageBucket:"dracarix-messager.appspot.com",messagingSenderId:"657302754204",appId:"1:657302754204:web:d7748e5e03bd49c3842e59",measurementId:"G-3W5YL08V6W"})),L_(),ga();class dI extends t.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){this.setState({hasError:!0}),console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430:",e,t)}render(){return this.state.hasError?(0,zc.jsx)("h1",{children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}):this.props.children}}const fI=dI;i.createRoot(document.getElementById("root")).render((0,zc.jsx)(t.StrictMode,{children:(0,zc.jsx)(fI,{children:(0,zc.jsx)(cn,{store:LC,children:(0,zc.jsx)(TC,{})})})}))})()})();
//# sourceMappingURL=main.599a03bc.js.map